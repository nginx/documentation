---
title: ngx_http_status_module
description: ngx_http_status_module
toc: true
nd-org-source: http/ngx_http_status_module.xml
nd-commercial: false
nd-commercial-partial: true
---


<!--
      ********************************************************************************
      üõë WARNING: AUTOGENERATED FILE - DO NOT EDIT üõë This Markdown file was
      automatically generated from the source XML documentation. Any manual
      changes made directly to this file will be overwritten. To request or
      suggest changes, please edit the source XML files instead.
      https://github.com/nginx/nginx.org/tree/main/xml/en
      ********************************************************************************
      -->


The `ngx_http_status_module` module provides
access to various status information.

> This module was available as part of our commercial subscription until 1.13.10. It was superseded by the [ngx_http_api_module]({{< relref "ngx_http_api_module" >}}) module in 1.13.3.

## Example Configuration


```nginx 
http {
    upstream backend {
        zone http_backend 64k;

        server backend1.example.com weight=5;
        server backend2.example.com;
    }

    proxy_cache_path /data/nginx/cache_backend keys_zone=cache_backend:10m;

    server {
        server_name backend.example.com;

        location / {
            proxy_pass  http://backend;
            proxy_cache cache_backend;

            health_check;
        }

        status_zone server_backend;
    }

    server {
        listen 127.0.0.1;

        location /upstream_conf {
            upstream_conf;
        }

        location /status {
            status;
        }

        location = /status.html {
        }
    }
}

stream {
    upstream backend {
        zone stream_backend 64k;

        server backend1.example.com:12345 weight=5;
        server backend2.example.com:12345;
    }

    server {
        listen      127.0.0.1:12345;
        proxy_pass  backend;
        status_zone server_backend;
        health_check;
    }
}
 ```


Examples of status requests with this configuration:

```nginx 
http://127.0.0.1/status
http://127.0.0.1/status/nginx_version
http://127.0.0.1/status/caches/cache_backend
http://127.0.0.1/status/upstreams
http://127.0.0.1/status/upstreams/backend
http://127.0.0.1/status/upstreams/backend/peers/1
http://127.0.0.1/status/upstreams/backend/peers/1/weight
http://127.0.0.1/status/stream
http://127.0.0.1/status/stream/upstreams
http://127.0.0.1/status/stream/upstreams/backend
http://127.0.0.1/status/stream/upstreams/backend/peers/1
http://127.0.0.1/status/stream/upstreams/backend/peers/1/weight
 ```


The simple monitoring page is shipped with this distribution,
accessible as ‚Äú`/status.html`‚Äù in the default configuration.
It requires the locations ‚Äú`/status`‚Äù and
‚Äú`/status.html`‚Äù to be configured as shown above.
## Directives

### status

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>status</strong>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td>
      ‚Äî
    </td>
</tr><tr>
<th>Context: </th>
<td><code>location</code></td>
</tr>

{{< /ngx-directive >}}


The status information will be accessible from the surrounding location.
Access to this location should be
[limited]({{< relref "ngx_http_core_module#satisfy" >}}).
### status_format

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>status_format</strong> <i>json</i>;</code><br/><code><strong>status_format</strong> <i>jsonp</i> <i>[</i> <i>callback</i> <i>]</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td><pre>status_format json;</pre></td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code></td>
</tr>

{{< /ngx-directive >}}


By default, status information is output in the JSON format.

Alternatively, data may be output as JSONP.
The `callback` parameter specifies the name of a callback function.
Parameter value can contain variables.
If parameter is omitted, or the computed value is an empty string,
then ‚Äú`ngx_status_jsonp_callback`‚Äù is used.
### status_zone

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>status_zone</strong> <i>zone</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td>
      ‚Äî
    </td>
</tr><tr>
<th>Context: </th>
<td><code>server</code></td>
</tr>

{{< /ngx-directive >}}


Enables collection of virtual
[http]({{< relref "ngx_http_core_module#server" >}})
or
[stream]({{< relref "../stream/ngx_stream_core_module#server" >}})
(1.7.11) server status information in the specified `zone`.
Several servers may share the same zone.
## Data


The following status information is provided:


### `version`


Version of the provided data set.
The current version is 8.



### `nginx_version`


Version of nginx.



### `nginx_build`


Name of nginx build.



### `address`


The address of the server that accepted status request.



### `generation`


The total number of configuration
[reloads]({{< relref "../control#reconfiguration" >}}).



### `load_timestamp`


Time of the last reload of configuration, in milliseconds since Epoch.



### `timestamp`


Current time in milliseconds since Epoch.



### `pid`


The ID of the worker process that handled status request.



### `ppid`


The ID of the master process that started
the [pid](#pid).



### `processes`



### `respawned`


The total number of abnormally terminated and respawned
child processes.






### `connections`



### `accepted`


The total number of accepted client connections.



### `dropped`


The total number of dropped client connections.



### `active`


The current number of active client connections.



### `idle`


The current number of idle client connections.






### `ssl`



### `handshakes`


The total number of successful SSL handshakes.



### `handshakes_failed`


The total number of failed SSL handshakes.



### `session_reuses`


The total number of session reuses during SSL handshake.






### `requests`



### `total`


The total number of client requests.



### `current`


The current number of client requests.






### `server_zones`


For each [status_zone](#status_zone):


### `processing`


The number of
client requests that are currently being processed.



### `requests`


The total number of
client requests received from clients.



### `responses`



### `total`


The total number of
responses sent to clients.



### `1xx`,
`2xx`,
`3xx`,
`4xx`,
`5xx`


The number of responses with status codes 1xx, 2xx, 3xx, 4xx, and 5xx.






### `discarded`


The total number of requests completed without sending a response.



### `received`


The total number of bytes received from clients.



### `sent`


The total number of bytes sent to clients.






### `slabs`


For each shared memory zone that uses slab allocator:


### `pages`



### `used`


The current number of used memory pages.



### `free`


The current number of free memory pages.






### `slots`


For each memory slot size (8, 16, 32, 64, 128, etc.)
the following data are provided:


### `used`


The current number of used memory slots.



### `free`


The current number of free memory slots.



### `reqs`


The total number of attempts to allocate memory of specified size.



### `fails`


The number of unsuccessful attempts to allocate memory of specified size.









### `upstreams`


For each
[dynamically
configurable]({{< relref "ngx_http_upstream_module#zone" >}})[group]({{< relref "ngx_http_upstream_module#upstream" >}}),
the following data are provided:


### `peers`


For each
[server]({{< relref "ngx_http_upstream_module#server" >}}),
the following data are provided:


### `id`


The ID of the server.



### `server`


An
[address]({{< relref "ngx_http_upstream_module#server" >}})
of the server.



### `name`


The name of the server specified in the
[server]({{< relref "ngx_http_upstream_module#server" >}})
directive.



### `service`


The [service]({{< relref "ngx_http_upstream_module#service" >}})
parameter value of the
[server]({{< relref "ngx_http_upstream_module#server" >}}) directive.



### `backup`


A boolean value indicating whether the server is a
[backup]({{< relref "ngx_http_upstream_module#backup" >}})
server.



### `weight`

[Weight]({{< relref "ngx_http_upstream_module#weight" >}})
of the server.



### `state`


Current state, which may be one of
‚Äú`up`‚Äù,
‚Äú`draining`‚Äù,
‚Äú`down`‚Äù,
‚Äú`unavail`‚Äù,
‚Äú`checking`‚Äù,
or
‚Äú`unhealthy`‚Äù.



### `active`


The current number of active connections.



### `max_conns`


The [max_conns]({{< relref "ngx_http_upstream_module#max_conns" >}}) limit
for the server.



### `requests`


The total number of
client requests forwarded to this server.



### `responses`



### `total`


The total number of
responses obtained from this server.



### `1xx`,
`2xx`,
`3xx`,
`4xx`,
`5xx`


The number of responses with status codes 1xx, 2xx, 3xx, 4xx, and 5xx.






### `sent`


The total number of bytes sent to this server.



### `received`


The total number of bytes received from this server.



### `fails`


The total number of
unsuccessful attempts to communicate with the server.



### `unavail`


How many times
the server became unavailable for client requests
(state ‚Äú`unavail`‚Äù)
due to the number of unsuccessful attempts reaching the
[max_fails]({{< relref "ngx_http_upstream_module#max_fails" >}})
threshold.



### `health_checks`



### `checks`


The total number of
[health check]({{< relref "ngx_http_upstream_hc_module#health_check" >}})
requests made.



### `fails`


The number of failed health checks.



### `unhealthy`


How many times
the server became unhealthy (state ‚Äú`unhealthy`‚Äù).



### `last_passed`


Boolean indicating
if the last health check request was successful and passed
[tests]({{< relref "ngx_http_upstream_hc_module#match" >}}).






### `downtime`


Total time
the server was in the ‚Äú`unavail`‚Äù,
‚Äú`checking`‚Äù, and ‚Äú`unhealthy`‚Äù states.



### `downstart`


The time (in milliseconds since Epoch)
when the server became
‚Äú`unavail`‚Äù,
‚Äú`checking`‚Äù, or ‚Äú`unhealthy`‚Äù.



### `selected`


The time (in milliseconds since Epoch)
when the server was last selected to process a request (1.7.5).



### `header_time`


The average time to get the
[response
header]({{< relref "ngx_http_upstream_module#var_upstream_header_time" >}}) from the server (1.7.10).
Prior to version 1.11.6,
the field was available only when using the
[least_time]({{< relref "ngx_http_upstream_module#least_time" >}})
load balancing method.



### `response_time`


The average time to get the
[full
response]({{< relref "ngx_http_upstream_module#var_upstream_response_time" >}}) from the server (1.7.10).
Prior to version 1.11.6,
the field was available only when using the
[least_time]({{< relref "ngx_http_upstream_module#least_time" >}})
load balancing method.






### `keepalive`


The current number of
idle [keepalive]({{< relref "ngx_http_upstream_module#keepalive" >}}) connections.



### `zombies`


The current number of servers removed
from the group but still processing active client requests.



### `zone`


The name of the shared memory
[zone]({{< relref "ngx_http_upstream_module#zone" >}})
that keeps the group‚Äôs configuration and run-time state.



### `queue`


For the requests [queue]({{< relref "ngx_http_upstream_module#queue" >}}),
the following data are provided:


### `size`


The current number of requests in the queue.



### `max_size`


The maximum number of requests that can be in the queue at the same time.



### `overflows`


The total number of requests rejected due to the queue overflow.









### `caches`


For each cache (configured by
[proxy_cache_path]({{< relref "ngx_http_proxy_module#proxy_cache_path" >}}) and the likes):


### `size`


The current size of the cache.



### `max_size`


The limit on the maximum size of the cache specified in the configuration.



### `cold`


A boolean value indicating whether the ‚Äúcache loader‚Äù process is still loading
data from disk into the cache.



### `hit`,
    `stale`,
    `updating`,
    `revalidated`



### `responses`


The total number of responses read from the cache (hits, or stale responses
due to [proxy_cache_use_stale]({{< relref "ngx_http_proxy_module#proxy_cache_use_stale" >}})
and the likes).



### `bytes`


The total number of bytes read from the cache.






### `miss`,
    `expired`,
    `bypass`



### `responses`


The total number of responses not taken from the cache (misses, expires, or
bypasses due to
[proxy_cache_bypass]({{< relref "ngx_http_proxy_module#proxy_cache_bypass" >}})
and the likes).



### `bytes`


The total number of bytes read from the proxied server.



### `responses_written`


The total number of responses written to the cache.



### `bytes_written`


The total number of bytes written to the cache.









### `stream`



### `server_zones`


For each [status_zone](#status_zone):


### `processing`


The number of
client connections that are currently being processed.



### `connections`


The total number of
connections accepted from clients.



### `sessions`



### `total`


The total number of completed client sessions.



### `2xx`,
`4xx`,
`5xx`


The number of sessions completed with
[status codes]({{< relref "../stream/ngx_stream_core_module#var_status" >}})
2xx, 4xx, or 5xx.






### `discarded`


The total number of connections completed without creating a session.



### `received`


The total number of bytes received from clients.



### `sent`


The total number of bytes sent to clients.






### `upstreams`


For each
[dynamically
configurable]({{< relref "../stream/ngx_stream_upstream_module#zone" >}})[group]({{< relref "../stream/ngx_stream_upstream_module#upstream" >}}),
the following data are provided:


### `peers`


For each
[server]({{< relref "../stream/ngx_stream_upstream_module#server" >}})
the following data are provided:


### `id`


The ID of the server.



### `server`


An
[address]({{< relref "../stream/ngx_stream_upstream_module#server" >}})
of the server.



### `name`


The name of the server specified in the
[server]({{< relref "../stream/ngx_stream_upstream_module#server" >}}) directive.



### `service`


The [service]({{< relref "../stream/ngx_stream_upstream_module#service" >}})
parameter value of the
[server]({{< relref "../stream/ngx_stream_upstream_module#server" >}}) directive.



### `backup`


A boolean value indicating whether the server is a
[backup]({{< relref "../stream/ngx_stream_upstream_module#backup" >}})
server.



### `weight`

[Weight]({{< relref "../stream/ngx_stream_upstream_module#weight" >}})
of the server.



### `state`


Current state, which may be one of
‚Äú`up`‚Äù,
‚Äú`down`‚Äù,
‚Äú`unavail`‚Äù,
‚Äú`checking`‚Äù,
or
‚Äú`unhealthy`‚Äù.



### `active`


The current number of connections.



### `max_conns`


The [max_conns]({{< relref "../stream/ngx_stream_upstream_module#max_conns" >}}) limit
for the server.



### `connections`


The total number of
client connections forwarded to this server.



### `connect_time`


The average time to connect to the upstream server.
Prior to version 1.11.6,
the field was available only when using the
[least_time]({{< relref "../stream/ngx_stream_upstream_module#least_time" >}})
load balancing method.



### `first_byte_time`


The average time to receive the first byte of data.
Prior to version 1.11.6,
the field was available only when using the
[least_time]({{< relref "../stream/ngx_stream_upstream_module#least_time" >}})
load balancing method.



### `response_time`


The average time to receive the last byte of data.
Prior to version 1.11.6,
the field was available only when using the
[least_time]({{< relref "../stream/ngx_stream_upstream_module#least_time" >}})
load balancing method.



### `sent`


The total number of bytes sent to this server.



### `received`


The total number of bytes received from this server.



### `fails`


The total number of
unsuccessful attempts to communicate with the server.



### `unavail`


How many times
the server became unavailable for client connections
(state ‚Äú`unavail`‚Äù)
due to the number of unsuccessful attempts reaching the
[max_fails]({{< relref "../stream/ngx_stream_upstream_module#max_fails" >}})
threshold.



### `health_checks`



### `checks`


The total number of
[health check]({{< relref "../stream/ngx_stream_upstream_hc_module#health_check" >}})
requests made.



### `fails`


The number of failed health checks.



### `unhealthy`


How many times
the server became unhealthy (state ‚Äú`unhealthy`‚Äù).



### `last_passed`


Boolean indicating
if the last health check request was successful and passed
[tests]({{< relref "../stream/ngx_stream_upstream_hc_module#match" >}}).






### `downtime`


Total time
the server was in the ‚Äú`unavail`‚Äù,
‚Äú`checking`‚Äù, and ‚Äú`unhealthy`‚Äù states.



### `downstart`


The time (in milliseconds since Epoch)
when the server became
‚Äú`unavail`‚Äù,
‚Äú`checking`‚Äù, or ‚Äú`unhealthy`‚Äù.



### `selected`


The time (in milliseconds since Epoch)
when the server was last selected to process a connection.






### `zombies`


The current number of servers removed
from the group but still processing active client connections.



### `zone`


The name of the shared memory
[zone]({{< relref "../stream/ngx_stream_upstream_module#zone" >}})
that keeps the group‚Äôs configuration and run-time state.









## Compatibility


- The [zone](#zone) field in [upstreams](#upstreams) and [stream_upstreams](#stream_upstreams) upstreams was added in [version](#version) 8.
- The [slabs](#slabs) status data were added in [version](#version) 8.
- The [state](#state) state was added in [version](#version) 8.
- The [name](#name) and [service](#service) fields in [upstreams](#upstreams) and [stream_upstreams](#stream_upstreams) upstreams were added in [version](#version) 8.
- The [nginx_build](#nginx_build) and [ppid](#ppid) fields were added in [version](#version) 8.
- The [sessions](#sessions) status data and the [stream_discarded](#stream_discarded) field in stream [stream_server_zones](#stream_server_zones) were added in [version](#version) 7.
- The [zombies](#zombies) field was moved from nginx [debug]({{< relref "../debugging_log" >}}) version in [version](#version) 6.
- The [ssl](#ssl) status data were added in [version](#version) 6.
- The [discarded](#discarded) field in [server_zones](#server_zones) was added in [version](#version) 6.
- The [queue](#queue) status data were added in [version](#version) 6.
- The [pid](#pid) field was added in [version](#version) 6.
- The list of servers in [upstreams](#upstreams) was moved into [peers](#peers) in [version](#version) 6.
- The `keepalive` field of an upstream server was removed in [version](#version) 5.
- The [stream](#stream) status data were added in [version](#version) 5.
- The [generation](#generation) field was added in [version](#version) 5.
- The [respawned](#respawned) field in [processes](#processes) was added in [version](#version) 5.
- The [header_time](#header_time) and [response_time](#response_time) fields in [upstreams](#upstreams) were added in [version](#version) 5.
- The [selected](#selected) field in [upstreams](#upstreams) was added in [version](#version) 4.
- The [state](#state) state in [upstreams](#upstreams) was added in [version](#version) 4.
- The [id](#id) and [max_conns](#max_conns) fields in [upstreams](#upstreams) were added in [version](#version) 3.
- The `revalidated` field in [caches](#caches) was added in [version](#version) 3.
- The [server_zones](#server_zones) , [caches](#caches) , and [load_timestamp](#load_timestamp) status data were added in [version](#version) 2.

