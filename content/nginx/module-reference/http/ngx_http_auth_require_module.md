---
title: ngx_http_auth_require_module
description: ngx_http_auth_require_module
toc: true
nd-org-source: http/ngx_http_auth_require_module.xml
nd-commercial: true
nd-commercial-partial: false
---


<!--
      ********************************************************************************
      üõë WARNING: AUTOGENERATED FILE - DO NOT EDIT üõë This Markdown file was
      automatically generated from the source XML documentation. Any manual
      changes made directly to this file will be overwritten. To request or
      suggest changes, please edit the source XML files instead.
      https://github.com/nginx/nginx.org/tree/main/xml/en
      ********************************************************************************
      -->


The `ngx_http_auth_require_module` module (1.29.0)
implements variable-based client authorization.
It can also use variables
provided by other access modules such as
[ngx_http_auth_request_module]({{< relref "ngx_http_auth_request_module" >}})
or
[ngx_http_auth_oidc_module]({{< relref "ngx_http_auth_request_module" >}}).

> This module is available as part of our commercial subscription .

## Example Configuration


```nginx 
http {
    oidc_provider my_idp {
        ...
    }

    map $oidc_claim_role $admin_role {
        "admin" 1;
    }

    server {
        auth_oidc my_idp;

        location /admin {
            auth_require $admin_role;
        }
    }
}
 ```

## Directives

### auth_require

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>auth_require</strong> <i>$value</i> <i>... [</i> <i>error</i> <i>=</i> <i>4xx</i> <i>|</i> <i>5xx</i> <i>]</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td><pre>auth_require off;</pre></td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code>, <code>limit_except</code></td>
</tr>

{{< /ngx-directive >}}


Enables authorization based on the specified variables.
The access is allowed only if all the variables are not
empty and are not equal to ‚Äú0‚Äù.
Otherwise, the module returns `403` code, which can be
overridden by the `error` parameter.
Several `auth_require` directives can be used to return
different error codes.
