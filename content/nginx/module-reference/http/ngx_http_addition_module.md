---
title: ngx_http_addition_module
description: ngx_http_addition_module
toc: true
nd-org-source: http/ngx_http_addition_module.xml
nd-commercial: false
nd-commercial-partial: false
---


<!--
      ********************************************************************************
      üõë WARNING: AUTOGENERATED FILE - DO NOT EDIT üõë This Markdown file was
      automatically generated from the source XML documentation. Any manual
      changes made directly to this file will be overwritten. To request or
      suggest changes, please edit the source XML files instead.
      https://github.com/nginx/nginx.org/tree/main/xml/en
      ********************************************************************************
      -->


The `ngx_http_addition_module` module is a filter
that adds text before and after a response.
This module is not built by default, it should be enabled with the
`--with-http_addition_module`
configuration parameter.
## Example Configuration


```nginx 
location / {
    add_before_body /before_action;
    add_after_body  /after_action;
}
 ```

## Directives

### add_before_body

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>add_before_body</strong> <i>uri</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td>
      ‚Äî
    </td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code></td>
</tr>

{{< /ngx-directive >}}


Adds the text returned as a result of processing a given subrequest
before the response body.
An empty string (`""`) as a parameter cancels addition
inherited from the previous configuration level.
### add_after_body

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>add_after_body</strong> <i>uri</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td>
      ‚Äî
    </td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code></td>
</tr>

{{< /ngx-directive >}}


Adds the text returned as a result of processing a given subrequest
after the response body.
An empty string (`""`) as a parameter cancels addition
inherited from the previous configuration level.
### addition_types

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>addition_types</strong> <i>mime-type</i> <i>...</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td><pre>addition_types text/html;</pre></td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code></td>
</tr>

{{< /ngx-directive >}}

_This directive appeared in version 0.7.9._


Allows adding text in responses with the specified MIME types,
in addition to ‚Äú`text/html`‚Äù.
The special value ‚Äú`*`‚Äù matches any MIME type (0.8.29).
