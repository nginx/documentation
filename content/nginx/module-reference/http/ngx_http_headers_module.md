---
title: ngx_http_headers_module
description: ngx_http_headers_module
toc: true
nd-org-source: http/ngx_http_headers_module.xml
nd-commercial: false
nd-commercial-partial: false
---


<!--
      ********************************************************************************
      üõë WARNING: AUTOGENERATED FILE - DO NOT EDIT üõë This Markdown file was
      automatically generated from the source XML documentation. Any manual
      changes made directly to this file will be overwritten. To request or
      suggest changes, please edit the source XML files instead.
      https://github.com/nginx/nginx.org/tree/main/xml/en
      ********************************************************************************
      -->


The `ngx_http_headers_module` module allows adding
the `Expires` and `Cache-Control` header
fields, and arbitrary fields, to a response header.
## Example Configuration


```nginx 
expires    24h;
expires    modified +24h;
expires    @24h;
expires    0;
expires    -1;
expires    epoch;
expires    $expires;
add_header Cache-Control private;
 ```

## Directives

### add_header

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>add_header</strong> <i>name</i> <i>value</i> <i>[</i> <i>always</i> <i>]</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td>
      ‚Äî
    </td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code>, <code>if in location</code></td>
</tr>

{{< /ngx-directive >}}


Adds the specified field to a response header provided that
the response code equals 200, 201 (1.3.10), 204, 206, 301, 302, 303, 304,
307 (1.1.16, 1.0.13), or 308 (1.13.0).
Parameter value can contain variables.

There could be several `add_header` directives.
These directives are inherited from the previous configuration level
if and only if there are no `add_header` directives
defined on the current level.

If the `always` parameter is specified (1.7.5),
the header field will be added regardless of the response code.
### add_trailer

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>add_trailer</strong> <i>name</i> <i>value</i> <i>[</i> <i>always</i> <i>]</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td>
      ‚Äî
    </td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code>, <code>if in location</code></td>
</tr>

{{< /ngx-directive >}}

_This directive appeared in version 1.13.2._


Adds the specified field to the end of a response provided that
the response code equals 200, 201, 206, 301, 302, 303, 307, or 308.
Parameter value can contain variables.

There could be several `add_trailer` directives.
These directives are inherited from the previous configuration level
if and only if there are no `add_trailer` directives
defined on the current level.

If the `always` parameter is specified
the specified field will be added regardless of the response code.
### expires

{{< ngx-directive >}}

<tr>
<th>Syntax: </th>
<td><code><strong>expires</strong> <i>[</i> <i>modified</i> <i>]</i> <i>time</i>;</code><br/><code><strong>expires</strong> <i>epoch</i> <i>|</i> <i>max</i> <i>|</i> <i>off</i>;</code><br/></td>
</tr><tr>
<th>Default: </th>
<td><pre>expires off;</pre></td>
</tr><tr>
<th>Context: </th>
<td><code>http</code>, <code>server</code>, <code>location</code>, <code>if in location</code></td>
</tr>

{{< /ngx-directive >}}


Enables or disables adding or modifying the `Expires`
and `Cache-Control` response header fields provided that
the response code equals 200, 201 (1.3.10), 204, 206, 301, 302, 303, 304,
307 (1.1.16, 1.0.13), or 308 (1.13.0).
The parameter can be a positive or negative
[time]({{< relref "../syntax" >}}).

The time in the `Expires` field is computed as a sum of the
current time and `time` specified in the directive.
If the `modified` parameter is used (0.7.0, 0.6.32)
then the time is computed as a sum of the file‚Äôs modification time and
the `time` specified in the directive.

In addition, it is possible to specify a time of day using
the ‚Äú`@`‚Äù prefix (0.7.9, 0.6.34):

```nginx 
expires @15h30m;
 ```


The contents of the `Cache-Control` field depends
on the sign of the specified time:

- time is negative¬†‚Äî `Cache-Control: no-cache` .
- time is positive or zero¬†‚Äî `Cache-Control: max-age=t` , where `t` is a time specified in the directive, in seconds.


The `epoch` parameter sets `Expires`
to the value ‚Äú`Thu, 01 Jan 1970 00:00:01 GMT`‚Äù,
and `Cache-Control` to ‚Äú`no-cache`‚Äù.

The `max` parameter sets `Expires`
to the value ‚Äú`Thu, 31 Dec 2037 23:55:55 GMT`‚Äù,
and `Cache-Control` to 10 years.

The `off` parameter disables adding or modifying the
`Expires` and `Cache-Control` response
header fields.

The last parameter value can contain variables (1.7.9):

```nginx 
map $sent_http_content_type $expires {
    default         off;
    application/pdf 42d;
    ~image/         max;
}

expires $expires;
 ```

