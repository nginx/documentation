.\"
.\" Copyright (C) 2011-2021 Nginx, Inc.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"
.Dd 6/16/21
.Dt NGINX-MANAGER 8
.Os
.Sh NAME
.Nm nginx-manager
.Nd "Management and Visualization quick, fast and easy." 
.Sh SYNOPSIS
.Nm
.Op Fl h, Fl Fl help
.Op Fl v, Fl Fl version
.Op Fl Fl flag Ar argument
.Sh DESCRIPTION
.Nm
is a manager for NGINX ( pronounced "engine x" ). 
Leveraging the NGINX Agent, 
.Nm
is used to add an API for configuration management, scanning for new
instances, and exporting metrics for other solutions. 
.Nm
leverages NINGX and NGINX Plus for authentication, SSL and other capabilities.
Like NGINX and NGINX Plus, 
.Nm
is known for its high performance, stability, simple configuration, 
and low resource consumption.
.Pp
The options are as follows:
.Bl -tag -width ".Fl .Fl d Ar directives"
.It Fl Fl audit-log Ar path
API Access log
.Ar path
for auditing access.
.It Fl Fl auth
enable auth checks on the server
.It Fl Fl bind-address Ar address
Bind
.Ar address
for all service ports (default "127.0.0.1").
Change for testing purposes only.
May also be a filename for socket.
.It Fl Fl cert Ar path
.Ar path
to x.509 certificate file (applies to all service ports).
.It Fl Fl gateway-port Ar port
TCP
.Ar port
for API, GUI and metrics communications. (default "11000").
.It Fl Fl grpc-port Ar port
TCP
.AR port
for gRPC communication between nginx-manager and nginx-agent. (default "10000").
.It Fl h, Fl Fl help
Print help.
.It Fl Fl key Ar path
.Ar path
to x.509 certificate key file (applies to all service ports).
.It Fl Fl license Ar path
.Ar path
to the license file (example "/etc/nginx-manager/nginx-manager.lic")
.It Fl Fl log.level Ar level
Set log
.Ar level .
The default 
.Ar level
is "debug".
The argument
.Ar level
can be one of:
.Cm panic , fatal , error , info , debug , trace .
The following table shows the corresponding log levels:
.Pp
.Bl -tag -width ".Cm reopen" -compact
.It Cm panic
.Dv Emergencies, system is unusable. 
.It Cm fatal
.Dv Severe error that will prevent the application from continuing.
.It Cm error
.Dv Error in the application, possibly recoverable.
.It Cm info
.Dv Events for informational purposes.
.It Cm debug
.Dv Diagnostics and troubleshooting.
.It Cm trace
.Dv Use to trace code and functions.
.El
.Pp
.It Fl Fl log-path Ar path
.Ar path
to log files and if empty log only to stdout/stderr (default "/var/log/nginx-manager/")
.It Fl Fl login
Enable a temporary login page (reserved for future use).
.It Fl Fl metrics.storage-path Ar path
Storage 
.Ar path
on disk for metrics. (default "/var/nginx-manager").
.It Fl Fl server-name Ar address
Servername or CN
.Ar address
for certificate to use (applies to all service ports).
.It Fl Fl skip-validation
disable NGINX config validation in editor
.It Fl v, Fl Fl version
Print version for nginx-manager
.El
.Pp
.Sh ENVIRONMENT
The
.Ev NGINX
environment variables are used internally by
.Nm
and should not be set directly by the user.
.Sh FILES
.Bl -tag -width indent "/Users/joeuser/Library/really_long_file_name" -compact
.It Pa "/etc/nginx-manager/nginx-manager.conf"
CONF_PATH The main configuration file.
.Nm
will seek the configuration file relative to the binary first,
then in the above location.
.It Pa "/var/log/nginx-manager/nginx-manager.log"
LOG_PATH Log file location.
.It Pa "/var/nginx-manager/nginx-manager.db"
CACHE_PATH Cached database file location.
.It Pa "/var/nginx-manager/ngxscan.log"
NGXSCAN_LOG_PATH Log file location for ngxscan.
.It Pa "/var/nginx-manager"
DB_PATH Database path location.
.El
.Sh EXIT STATUS
Exit status is 0 on success, or 1 if the command fails.
.Sh EXAMPLES
.Pp
Start server bound to all interfaces:
.Bd -literal -offset indent
nginx-manager --bind-server=0.0.0.0
.Ed
.Pp
Specify TLS certificates:
.Bd -literal -offset indent
nginx-manager --cert /path/to/my.cert --key /path/to/my.key
.Ed
.Pp
Squelch log messages except errors or higher:
.Bd -literal -offset indent
nginx-manager --log-level error
.Ed
.Sh COPYRIGHT
Copyright (C) 2011-2021 Nginx, Inc.
All rights reserved.
.Sh SEE ALSO
Documentation at
.Pa https://docs.nginx.com/nginx-instance-manager/getting-started/install/
.Pp
For questions and technical support, please refer to
.Pa https://www.nginx.com/support/ .
