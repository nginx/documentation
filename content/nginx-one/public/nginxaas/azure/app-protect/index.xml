<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>NGINX App Protect WAF on DEV -- docs-nginx-com</title>
    <link>http://localhost:1313/nginxaas/azure/app-protect/</link>
    <description>Recent content in NGINX App Protect WAF on DEV -- docs-nginx-com</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="http://localhost:1313/nginxaas/azure/app-protect/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Enable App Protect WAF</title>
      <link>http://localhost:1313/nginxaas/azure/app-protect/enable-waf/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginxaas/azure/app-protect/enable-waf/</guid>
      <description>&lt;h2 &#xA;id=&#34;overview&#34;&gt;Overview  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#overview&#34; title=&#34;Overview&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;This guide explains how to enable F5 NGINX App Protect WAF on a F5 NGINX as a Service for Azure (NGINXaaS) deployment. &lt;a href=&#34;https://docs.nginx.com/nginx-app-protect-waf/v5&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;F5 NGINX App Protect WAF&lt;/a&gt; provides web application firewall (WAF) security protection for your web applications, including OWASP Top 10; response inspection; Meta characters check; HTTP protocol compliance; evasion techniques; disallowed file types; JSON &amp;amp; XML well-formedness; sensitive parameters &amp;amp; Data Guard.&lt;/p&gt;&#xA;&lt;h2 &#xA;id=&#34;before-you-start&#34;&gt;Before you start  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#before-you-start&#34; title=&#34;Before you start&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;NGINX App Protect WAF can only be enabled on NGINXaaS for Azure deployments with the &lt;strong&gt;Standard v2&lt;/strong&gt; &lt;a href=&#34;http://localhost:1313/nginxaas/azure/billing/overview/&#34;&gt;plan&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 &#xA;id=&#34;enable-nginx-app-protect&#34;&gt;Enable NGINX App Protect  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#enable-nginx-app-protect&#34; title=&#34;Enable NGINX App Protect&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;NGINX App Protect is disabled by default and needs to be explicitly enabled on an NGINXaaS deployment. Follow these steps:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Configure App Protect WAF</title>
      <link>http://localhost:1313/nginxaas/azure/app-protect/configure-waf/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginxaas/azure/app-protect/configure-waf/</guid>
      <description>&lt;h2 &#xA;id=&#34;overview&#34;&gt;Overview  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#overview&#34; title=&#34;Overview&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;This guide explains how to configure the F5 NGINX App Protect WAF security features.&lt;/p&gt;&#xA;&lt;h2 &#xA;id=&#34;configure&#34;&gt;Configure  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#configure&#34; title=&#34;Configure&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;To use NGINX App Protect apply the following changes to the NGINX config file.&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Load the NGINX App Protect WAF module on the main context:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;code-block&#34; data-mf=&#34;true&#34; style=&#34;display: none;&#34;&gt;&#xA;    &lt;div class=&#34;code-container chroma&#34;&gt;&#xA;        &lt;button onclick=&#34;copyToClipBoard(this, &amp;#34;id-18440f1fba920a78&amp;#34;)&#34; class=&#34;code-copy-button&#34; type=&#34;button&#34;&gt;Copy&lt;/button&gt;&#xA;        &lt;div class=&#34;highlight-v2 single-line&#34; id=&#34;id-18440f1fba920a78&#34;&gt;&#xA;            &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;load_module&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;modules/ngx_http_app_protect_module.so&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;        &lt;/div&gt;&#xA;    &lt;/div&gt;&#xA;&lt;/div&gt;&lt;div id=&#34;code-block-v1&#34; data-mf=&#34;false&#34;&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;load_module&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;modules/ngx_http_app_protect_module.so&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;Set the enforcer address:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;code-block&#34; data-mf=&#34;true&#34; style=&#34;display: none;&#34;&gt;&#xA;    &lt;div class=&#34;code-container chroma&#34;&gt;&#xA;        &lt;button onclick=&#34;copyToClipBoard(this, &amp;#34;id-18440f1fba957190&amp;#34;)&#34; class=&#34;code-copy-button&#34; type=&#34;button&#34;&gt;Copy&lt;/button&gt;&#xA;        &lt;div class=&#34;highlight-v2 single-line&#34; id=&#34;id-18440f1fba957190&#34;&gt;&#xA;            &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;app_protect_enforcer_address&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;127.0.0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;50000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;        &lt;/div&gt;&#xA;    &lt;/div&gt;&#xA;&lt;/div&gt;&lt;div id=&#34;code-block-v1&#34; data-mf=&#34;false&#34;&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;app_protect_enforcer_address&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;127.0.0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;50000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;blockquote class=&#34;note&#34;&gt;&#xA;  &lt;div&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;br/&gt; The app_protect_enforcer_address directive is a required directive for Nginx App Protect to work and must match 127.0.0.1:50000&lt;/div&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;Enable NGINX App Protect WAF with the &lt;code&gt;app_protect_enable&lt;/code&gt; directives in the appropriate scope. The &lt;code&gt;app_protect_enable&lt;/code&gt; directive may be set in the &lt;code&gt;http&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, and &lt;code&gt;location&lt;/code&gt; contexts.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;It is recommended to have a basic policy enabled in the &lt;code&gt;http&lt;/code&gt; or &lt;code&gt;server&lt;/code&gt; context to process malicious requests in a more complete manner.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Enable App Protect WAF Logs</title>
      <link>http://localhost:1313/nginxaas/azure/app-protect/enable-logging/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginxaas/azure/app-protect/enable-logging/</guid>
      <description>&lt;h2 &#xA;id=&#34;overview&#34;&gt;Overview  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#overview&#34; title=&#34;Overview&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;F5 NGINX as a Service for Azure (NGINXaaS) supports exporting NGINX App Protect logs to an Azure Storage account or to a Log Analytics workspace.&lt;/p&gt;&#xA;&lt;h2 &#xA;id=&#34;setting-up-operational-logs&#34;&gt;Setting up operational logs  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#setting-up-operational-logs&#34; title=&#34;Setting up operational logs&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;NGINX App Protect operational logs are sent to the NGINX error logs. See &lt;a href=&#34;http://localhost:1313/nginxaas/azure/monitoring/enable-logging/&#34;&gt;Enable NGINX Logs&lt;/a&gt; to configure error logs.&lt;/p&gt;&#xA;&lt;h2 &#xA;id=&#34;setting-up-security-logs&#34;&gt;Setting up security logs  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#setting-up-security-logs&#34; title=&#34;Setting up security logs&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;ol&gt;&#xA;&lt;li&gt;Enable the NGINX Security Logs category in &lt;strong&gt;Diagnostic Settings&lt;/strong&gt;. For more information on logging, see &lt;a href=&#34;http://localhost:1313/nginxaas/azure/monitoring/enable-logging/&#34;&gt;Enable NGINX Logs&lt;/a&gt;.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;figure&gt;&lt;img class=&#34;figure-bitmap&#34; src=&#34;http://localhost:1313/nginxaas-azure/security-diagnostic-setting.png&#34;&#xA;    alt=&#34;Screenshot of the NGINXaaS WAF security logs diagnostic settings&#34;&gt;&#xA;&lt;/figure&gt;&#xA;&lt;ol start=&#34;2&#34;&gt;&#xA;&lt;li&gt;Update your NGINX configuration to enable security logs in an http/server/location context.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;code-block&#34; data-mf=&#34;true&#34; style=&#34;display: none;&#34;&gt;&#xA;    &lt;div class=&#34;code-container chroma&#34;&gt;&#xA;        &lt;button onclick=&#34;copyToClipBoard(this, &amp;#34;id-18440f1fbad74908&amp;#34;)&#34; class=&#34;code-copy-button&#34; type=&#34;button&#34;&gt;Copy&lt;/button&gt;&#xA;        &lt;div class=&#34;highlight-v2 single-line&#34; id=&#34;id-18440f1fbad74908&#34;&gt;&#xA;            &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;app_protect_security_log_enable&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;        &lt;/div&gt;&#xA;    &lt;/div&gt;&#xA;&lt;/div&gt;&lt;div id=&#34;code-block-v1&#34; data-mf=&#34;false&#34;&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;app_protect_security_log_enable&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;Configure the log configuration path and destination to the &lt;code&gt;app_protect_security_log&lt;/code&gt; directive. More information on supported log configurations and destination can be found in the following sections.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;code-block&#34; data-mf=&#34;true&#34; style=&#34;display: none;&#34;&gt;&#xA;    &lt;div class=&#34;code-container chroma&#34;&gt;&#xA;        &lt;button onclick=&#34;copyToClipBoard(this, &amp;#34;id-18440f1fbad9e8e8&amp;#34;)&#34; class=&#34;code-copy-button&#34; type=&#34;button&#34;&gt;Copy&lt;/button&gt;&#xA;        &lt;div class=&#34;highlight-v2 single-line&#34; id=&#34;id-18440f1fbad9e8e8&#34;&gt;&#xA;            &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;app_protect_security_log&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/etc/app_protect/conf/log_all.json&amp;#34;&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;syslog:server=localhost:5140&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;        &lt;/div&gt;&#xA;    &lt;/div&gt;&#xA;&lt;/div&gt;&lt;div id=&#34;code-block-v1&#34; data-mf=&#34;false&#34;&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;app_protect_security_log&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/etc/app_protect/conf/log_all.json&amp;#34;&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;syslog:server=localhost:5140&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;Sample NGINX config with security logs enabled:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Disable App Protect WAF</title>
      <link>http://localhost:1313/nginxaas/azure/app-protect/disable-waf/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginxaas/azure/app-protect/disable-waf/</guid>
      <description>&lt;h2 &#xA;id=&#34;overview&#34;&gt;Overview  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#overview&#34; title=&#34;Overview&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;This guide explains how to disable F5 NGINX App Protect WAF on an NGINX as a Service for Azure (NGINXaaS) deployment.&lt;/p&gt;&#xA;&lt;h2 &#xA;id=&#34;before-you-start&#34;&gt;Before you start  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#before-you-start&#34; title=&#34;Before you start&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;You must remove the WAF directives from your NGINX config file before attempting to disable WAF.&lt;/p&gt;&#xA;&lt;h2 &#xA;id=&#34;disable-app-protect-waf&#34;&gt;Disable App Protect WAF  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#disable-app-protect-waf&#34; title=&#34;Disable App Protect WAF&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;h3 &#xA;id=&#34;using-the-microsoft-azure-portal&#34;&gt;Using the Microsoft Azure Portal  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#using-the-microsoft-azure-portal&#34; title=&#34;Using the Microsoft Azure Portal&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;Access the &lt;a href=&#34;https://portal.azure.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Microsoft Azure portal&lt;/a&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
