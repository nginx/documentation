<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Prepare Your Cluster on DEV -- docs-nginx-com</title>
    <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/</link>
    <description>Recent content in Prepare Your Cluster on DEV -- docs-nginx-com</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="http://localhost:1313/nginx-service-mesh/get-started/platform-setup/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Supported Platforms</title>
      <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/supported-platforms/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/supported-platforms/</guid>
      <description>&lt;h2 &#xA;id=&#34;kubernetes&#34;&gt;Kubernetes  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#kubernetes&#34; title=&#34;Kubernetes&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;The Kubernetes platforms listed below will work with F5 NGINX Service Mesh using the Kubernetes versions listed in the &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/about/mesh-tech-specs/#supported-versions&#34;&gt;Technical Specifications&lt;/a&gt;. Additional Kubernetes platforms may work, although they have not been validated.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Azure Kubernetes Service (AKS)&lt;/li&gt;&#xA;&lt;li&gt;Elastic Kubernetes Service (EKS) &amp;ndash; &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/get-started/platform-setup/persistent-storage/&#34;&gt;Additional setup required&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Google Kubernetes Engine (GKE) &amp;ndash; &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/get-started/platform-setup/gke/&#34;&gt;Additional setup required&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Rancher Kubernetes Engine (RKE) &amp;ndash; &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/get-started/platform-setup/rke/&#34;&gt;Additional setup required&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Kubeadm &amp;ndash; &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/get-started/platform-setup/kubeadm/&#34;&gt;Additional setup required&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;Kubespray &amp;ndash; &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/get-started/platform-setup/kubespray/&#34;&gt;Additional setup required&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 &#xA;id=&#34;openshift&#34;&gt;OpenShift  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#openshift&#34; title=&#34;OpenShift&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;Any self-managed RedHat OpenShift environment running with the versions listed in the &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/about/mesh-tech-specs/#supported-versions&#34;&gt;Technical Specifications&lt;/a&gt; can be used with NGINX Service Mesh. Externally managed environments such as Azure Red Hat OpenShift and Red Hat OpenShift Service on AWS may work, although they have not been validated.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Persistent Storage</title>
      <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/persistent-storage/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/persistent-storage/</guid>
      <description>&lt;p&gt;F5 NGINX Service Mesh generates data that needs to persist across restarts and failures to ensure uninterrupted operations. For example, if the SPIRE Server restarts, the new instance can pick up the the existing database of identities without having to rebuild everything. Depending on the environment, persistent storage may already be set up and ready for use by NGINX Service Mesh.&lt;/p&gt;&#xA;&lt;p&gt;The big three hosted Kubernetes environments (Elastic Kubernetes Service (EKS), Azure Kubernetes Service (AKS), and Google Kubernetes Engine (GKE)) all have built-in persistent storage that NGINX Service Mesh will automatically pick up and use.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Google Kubernetes Engine</title>
      <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/gke/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/gke/</guid>
      <description>&lt;p&gt;Google Kubernetes Engine (GKE) is a hosted Kubernetes solution created by Google. To use GKE with F5 NGINX Service Mesh, your Kubernetes user account has to have the &lt;code&gt;ClusterAdmin&lt;/code&gt; role.&lt;/p&gt;&#xA;&lt;blockquote class=&#34;warning call-out&#34;&gt;&#xA;  &lt;div&gt;&lt;strong class=&#34;call-out-type&#34;&gt;Warning&lt;/strong&gt;&lt;br/&gt; These resources give NGINX Service Mesh administrator access to your cluster. This allows NGINX Service Mesh to access resources across all namespaces in your Kubernetes cluster.&lt;/div&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;To create a ClusterRole and ClusterRoleBinding for NGINX Service Mesh, run the &lt;code&gt;kubectl&lt;/code&gt; command shown below:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubeadm</title>
      <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/kubeadm/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/kubeadm/</guid>
      <description>&lt;p&gt;Kubeadm is a tool that creates Kubernetes clusters by following best practices. To use kubeadm with F5 NGINX Service Mesh, you need to enable some extra flags on the Kubernetes API Server to enable Service Account Token Volume Projection. See &lt;a href=&#34;#service-account-token-volume-projection&#34;&gt;Service Account Token Volume Projection&lt;/a&gt; section to learn why this is needed.&lt;/p&gt;&#xA;&lt;h2 &#xA;id=&#34;new-cluster&#34;&gt;New cluster  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#new-cluster&#34; title=&#34;New cluster&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;When creating a new cluster, pass this extra configuration to kubeadm:&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;code-block&#34; data-mf=&#34;true&#34; style=&#34;display: none;&#34;&gt;&lt;span class=&#34;code-type chroma&#34;&gt;yaml&lt;/span&gt;&lt;div class=&#34;code-container chroma&#34;&gt;&#xA;        &lt;button onclick=&#34;copyToClipBoard(this, &amp;#34;id-18440f1f2f77fab0&amp;#34;)&#34; class=&#34;code-copy-button multi-line&#34; type=&#34;button&#34;&gt;Copy&lt;/button&gt;&#xA;        &lt;div class=&#34;highlight-v2&#34; id=&#34;id-18440f1f2f77fab0&#34;&gt;&#xA;            &lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;kubeadm.k8s.io/v1beta2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ClusterConfiguration&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiServer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;extraArgs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;service-account-signing-key-file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/etc/kubernetes/pki/sa.key&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;service-account-issuer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;api&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;service-account-api-audiences&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;api&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;        &lt;/div&gt;&#xA;    &lt;/div&gt;&#xA;&lt;/div&gt;&lt;div id=&#34;code-block-v1&#34; data-mf=&#34;false&#34;&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;kubeadm.k8s.io/v1beta2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ClusterConfiguration&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiServer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;extraArgs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;service-account-signing-key-file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/etc/kubernetes/pki/sa.key&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;service-account-issuer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;api&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;service-account-api-audiences&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;api&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;You can use this configuration as-is and save it to a file, or combine it with any other configuration you need. Pass in the config when initializing the cluster. Assuming you&amp;rsquo;ve saved the config as kubeadm.config:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubespray</title>
      <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/kubespray/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/kubespray/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://github.com/kubernetes-sigs/kubespray&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubespray&lt;/a&gt; is where Kubernetes meets &lt;a href=&#34;https://www.ansible.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ansible&lt;/a&gt;. It&amp;rsquo;s a composition of Ansible playbooks, provisioning tools, and domain knowledge for creating production-ready Kubernetes clusters. Kubespray builds on top of kubeadm. If you are using Kubespray v2.16.0 or later no changes are needed to deploy F5 NGINX Service Mesh. For older versions you need to enable some extra flags on the Kubernetes API Server to enable Service Account Token Volume Projection. See &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/get-started/platform-setup/kubeadm/#service-account-token-volume-projection&#34;&gt;Service Account Token Volume Projection&lt;/a&gt; section to learn why this is needed.&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenShift</title>
      <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/openshift/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/openshift/</guid>
      <description>&lt;h2 &#xA;id=&#34;introduction&#34;&gt;Introduction  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#introduction&#34; title=&#34;Introduction&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;OpenShift is a security-first platform, locking down privileges and capabilities to ensure that workloads are running securely. OpenShift creates additional security mechanisms in the form of &lt;a href=&#34;https://docs.openshift.com/container-platform/4.8/authentication/managing-security-context-constraints.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;security context constraints&lt;/a&gt;. These constraints restrict the default permissions a workload is able to operate with. It also needs a user or workload management tool (such as a service mesh) to iteratively build out the specific permissions.&lt;/p&gt;&#xA;&lt;p&gt;To provide an increased level of security, F5 NGINX Service Mesh provides the security context constraints needed to run its control plane components as well as the sidecar attached to every workload under its management. Additionally, a mechanism (Container Storage Interface (CSI) Driver) to more securely mount workloads into these sidecars was developed. More information about the CSI Driver can be found &lt;a href=&#34;https://kubernetes-csi.github.io/docs/introduction.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;. This document serves as a small introduction to CSI Drivers, and the considerations for use with NGINX Service Mesh.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Rancher Kubernetes Engine</title>
      <link>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/rke/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/nginx-service-mesh/get-started/platform-setup/rke/</guid>
      <description>&lt;p&gt;Rancher Kubernetes Engine (RKE) is a CNCF-certified Kubernetes distribution that runs entirely within Docker containers. It works on bare-metal and virtualized servers.&lt;/p&gt;&#xA;&lt;blockquote class=&#34;important call-out&#34;&gt;&#xA;  &lt;div&gt;&lt;strong class=&#34;call-out-type&#34;&gt;Important&lt;/strong&gt;&lt;br/&gt; Before deploying F5 NGINX Service Mesh, ensure that no other service meshes exist in your Kubernetes cluster.&lt;/div&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;blockquote class=&#34;warning call-out&#34;&gt;&#xA;  &lt;div&gt;&lt;strong class=&#34;call-out-type&#34;&gt;Warning&lt;/strong&gt;&lt;br/&gt; Rancher has the option to deploy the community &lt;a href=&#34;https://github.com/kubernetes/ingress-nginx&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;NGINX Ingress Controller&lt;/a&gt; when configuring an RKE cluster. While this ingress controller may work, NGINX Service Mesh does not guarantee support. It is recommended to use the &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/tutorials/kic/deploy-with-kic/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;NGINX Plus Ingress Controller&lt;/a&gt; in conjunction with NGINX Service Mesh.&lt;/div&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;h2 &#xA;id=&#34;persistent-storage&#34;&gt;Persistent storage  &lt;a class=&#34;headerlink float-right&#34; href=&#34;#persistent-storage&#34; title=&#34;Persistent storage&#34;&gt;&lt;i class=&#34;fas fa-link fa-xs&#34;&gt;&lt;/i&gt;&lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;RKE doesn&amp;rsquo;t set up any persistent storage for you, but it&amp;rsquo;s required to run NGINX Service Mesh in a production environment. See &lt;a href=&#34;http://localhost:1313/nginx-service-mesh/get-started/platform-setup/persistent-storage/&#34;&gt;Persistent Storage&lt;/a&gt; for more information.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
