<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>  
  <style>
    body {
       
      visibility: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }
  </style>
  
  <noscript>
    <style>
       
      body {
        visibility: visible;
      }
    </style>
  </noscript>
  


  <script>

    const setTheme = (isNewTheme) => {
      localStorage.setItem("useNewTheme", `${isNewTheme}`);
      
      const v1cssIds = [
        "cssFA1",
        "cssFA2",
        "cssFA3",
        "cssBootstrap",
        "css1",
        "css2",
        "css3",
        "css4",
        "css5",
        "css6",
      ];

      v1cssIds.forEach((cssId) => {
        const element = document.getElementById(cssId);
        if (element !== null) {
          element.disabled = isNewTheme;
        }
      });

      const v2cssIds = ["css7", "css9"];
      v2cssIds.forEach((cssId) => {
        const element = document.getElementById(cssId);
        if (element !== null) {
          element.disabled = !isNewTheme;
        }
      });

      
      const v1ElementIds = ["sidebar", "footer", "toc", "api", "search-v1", "breadcrumb-v1", "list-v1"]

      v1ElementIds.forEach((elementId) => {
        const element = document.getElementById(elementId);
        if (element !== null) {
          element.style.display = isNewTheme ? "none" : "";
        }

        const trustarc = document.getElementById("teconsent-v1");
        if (trustarc) {
          trustarc.id = isNewTheme ? "teconsent-v1" : "teconsent";
        }
      });

      document.querySelectorAll(".table-v1").forEach((table) => {
        table.style.display = isNewTheme ? "none" : "";
      });

      const notMfElements = ['[data-mf="false"]'];
      notMfElements.forEach((elementId) => {
        document.querySelectorAll(elementId).forEach((element) => {
          element.style.display = isNewTheme ? "none" : "";
        });
      })

      const mfElements = ['[data-mf="true"]'];
      mfElements.forEach((elementId) => {
        document.querySelectorAll(elementId).forEach((element) => {
          element.style.display = isNewTheme ? "" : "none";

          const trustarc = document.getElementById("teconsent-v2");
          if (trustarc) {
            trustarc.id = isNewTheme ? "teconsent" : "teconsent-v2";
          }
        });
      });

      document.getElementById("body").style.visibility = "visible";
    };

    const toggleTheme = () => {
      setTheme(!(localStorage.getItem("useNewTheme") === "true"));
    };

    
    const mf = toggleTheme;
    const useNewTheme = toggleTheme;

    document.addEventListener("DOMContentLoaded", () => {
      setTheme(localStorage.getItem("useNewTheme") === "true");
    });

    function gameCode(callback) {
      let kkeys = [];
      
      const code = "38,38,40,40,37,39,37,39,66,65";
      return (event) => {
        kkeys.push(event.keyCode);
        if (kkeys.toString().indexOf(code) >= 0) {
          callback(event);
          kkeys = [];
        }
      };
    }
    const handler = gameCode(() => {
      mf();
    });
    window.addEventListener("keydown", handler);

  </script>

  

  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Installing NGINX App Protect WAF | DEV -- docs-nginx-com</title>






<link rel="canonical" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/install/">







<meta property="article:publisher" content="https://www.facebook.com/nginxinc" />
<meta property="og:image" content="http://localhost:1313/images/icons/NGINX-Docs-new-docs-dark-1200x630.png" />
<meta property="og:image:width" content="500" />
<meta property="og:image:height" content="300" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="" />
<meta name="twitter:title" content="Installing NGINX App Protect WAF" />
<meta name="twitter:site" content="@nginx" />
<meta name="twitter:image" content="http://localhost:1313/images/icons/NGINX-Docs-new-docs-dark-1200x630.png" />
<meta name="twitter:creator" content="@nginx" />

<meta http-equiv="last-modified" content="01/04/2025" />




<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'
    https://consent.trustarc.com/ https://mktg.tags.f5.com/basic/prod/utag.sync.js https://static.cloud.coveo.com/ https://*.f5.com/
    https://*.netlify.app https://gist.github.com
    https://tag.demandbase.com/pscSDsz4.min.js
    https://munchkin.brightfunnel.com/js/build/bf-munchkin.min.js
    https://www.googletagmanager.com/gtm.js
    https://www.google-analytics.com/
    https://www.google-analytics.com/analytics.js
    https://www.google-analytics.com/plugins/ua/linkid.js
    https://cdn.bizible.com/scripts/bizible.js
    https://cdn.bizible.com/xdc.js
    https://f5networksglobalprod.122.2o7.net/
    https://f5networksnginxdocs.122.2o7.net/
    https://*.siteintercept.qualtrics.com/SIE/?Q_ZID=*
    https://siteintercept.qualtrics.com/
    ;
    worker-src 'self' blob:">



<meta property="environment" type="development" />
<meta property="buildtype" type="webdocs" />
<meta property="isServer" type="true" />


<meta name="product" content="DEV -- docs-nginx-com">
<meta name="version" content="">
<meta name="doc_type" content="Manual">
  
  <link rel="shortcut icon" type="image/x-icon" href="http://localhost:1313/images/favicon-48x48.ico">

  
  










<link href="/css/v2/style.css" integrity="" rel="stylesheet" type="text/css" id="css7"
  disabled>


<link href="/css/inter/inter.987d1be34797653eabce3627efb116c263d4045fd5badfe003ff283c5a5da435d83a3fad6bfe524e3ce3cf8a41168a30e7aa42507961257eeb275024def0f9b9.css" integrity="sha512-mH0b40eXZT6rzjYn77EWwmPUBF/Vut/gA/8oPFpdpDXYOj&#43;ta/5STjzjz4pBFoow56pCUHlhJX7rJ1Ak3vD5uQ==" rel="stylesheet" type="text/css"
  id="cssInter">


<link href="/css/v2/highlight.min.9ef7c7ad221175216abc8a5827f967bcd7c0e035bfa91180acd26a2c36d54242ae5f485986c260d70b1bbdf225ad76cdbba3179afa7e4335282cc3080a17e337.css" rel="stylesheet" type="text/css" id="css9">





<link href="/fontawesome/css/all.min.4a71f958af9b67180f1ece38b96217f8b2c9009f7fd8f90f299e508808fa4daf3ac3e7ec6f64e47267d1c955f7a419cc15c57ba103c9925f507af4825abdd6e8.css" integrity="sha512-SnH5WK&#43;bZxgPHs44uWIX&#43;LLJAJ9/2PkPKZ5QiAj6Ta86w&#43;fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" rel="stylesheet" type="text/css"
  id="cssFA1">


<link href="/fontawesome/css/v4-font-face.min.5870089ba06cf03e9721f87919eaf15c961a65e071845949ed2da58c5bfbd18a714c5dab2c155f0455ebcd2f45bfd598a5e47ae19976e7aa3a51e22914eac1b6.css" integrity="sha512-WHAIm6Bs8D6XIfh5GerxXJYaZeBxhFlJ7S2ljFv70YpxTF2rLBVfBFXrzS9Fv9WYpeR64Zl256o6UeIpFOrBtg==" rel="stylesheet" type="text/css"
  id="cssFA2">


<link href="/fontawesome/css/v5-font-face.min.81bdf1c9f8ff16b1eda613d52d868a059f16c8c6045c3d7e0a0b771622a11666cdd94b8ea62b5edb0d4b826c3a3737ec3663065fe05b56b6b871e57de73f556b.css" integrity="sha512-gb3xyfj/FrHtphPVLYaKBZ8WyMYEXD1&#43;Cgt3FiKhFmbN2UuOpite2w1Lgmw6NzfsNmMGX&#43;BbVra4ceV95z9Vaw==" rel="stylesheet" type="text/css"
  id="cssFA3">



<link href="/css/bootstrap.min.3f9320327d6304dd356ac060534cfad10938431897a3cebec2515a84aaec41fdfb73d72ba39d7b5b35523cf575b432b3864bb6889d855602faef01b4dd21a734.css" integrity="sha512-P5MgMn1jBN01asBgU0z60Qk4QxiXo86&#43;wlFahKrsQf37c9cro517WzVSPPV1tDKzhku2iJ2FVgL67wG03SGnNA==" rel="stylesheet"
  type="text/css" id="cssBootstrap">



<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.10104/0/css/CoveoFullSearch.min.css"
  integrity="sha512-9/A9yVCU4GS6/iIwTRJKnan4Hf8gDKj3anwItN9QCsU8SixaT5xkjjWsZ/iq0TWaizhtqOLacadXJfxHlwYCcA=="
  crossorigin="anonymous" />


<link
  rel="stylesheet"
  href="https://static.cloud.coveo.com/atomic/v3.19.0/themes/coveo.css"
  integrity="sha512-m2BufPi8Tc6H2jcQfDj/PIl5H57C9jeqhbDFgFXKTtOhoC4S7ULXmx74FseZ8WXpfdT9uyccMHDBJDrIZlrUUQ=="
  crossorigin="anonymous"/>


<link href="/css/docs-nginx-com/nginx-site-header.min.80b10ed49ecfad93607ee771acca88d13dc958e6eecc642af3aa2b170c86b8dcce442e7b86c3e5298c95b0ab2b053a71074c2f15c28266c3a2c502275415b3a7.css" rel="stylesheet" type="text/css" id="css1">


<link href="/css/docs-nginx-com/style.min.2cd4748c438c49d012a5fdc6b98770223c4875fe0f89517b17423b6a5328af4d93d9d772207bfc51d9449781281e1eb8707dcc2f7467e6e24330c9b8c7c5f734.css" rel="stylesheet" type="text/css" id="css2">


<link href="/css/bootstrap-docs.min.8a70c94c72e3783cecd631bc1705c7843b2fdef99f1549f0bf7f774a4083173ee25974413a8206c2340c0fee9bb7a07acd41d41c78ae2280c96a2ce0faca2847.css" rel="stylesheet" type="text/css" id="css3">



<link href="/css/coveo.min.fce7d4df31de99e4f86510a90915820f236b8dcd02be030b27529af7ff10189f807c78cedacb91afa9d07f310a172c6046b1921832f199b9158898a7f74fa117.css" rel="stylesheet" type="text/css" id="css6">



<link href="/css/f5-hugo.min.42feae8b135e9380a66db9c3cb2803221888524a29f41cbc55790b5cb5a309ac7e6dd80e70ed0260370fd93c04b7aa8a5c3d6aca0964804341fad51cfcec963f.css" rel="stylesheet" type="text/css" id="css4">


<link href="/css/inline-overrides.min.495e6889d9955581580c654bad961bb33af6344b283af7e9a34648c5e8d5f1fe90efb8aac33359c4178efd36cd7cb92c7c6458d4175caff9c284b14bd9d2b97a.css" rel="stylesheet" type="text/css" id="css8">





<link href="/css/highlight.min.fe5647c4b67f4b3fcf0ea60b483479d567ba1b05ee6e816439207edfa3d310dbee79536278c67d89c1db5da275bde962a10163da375f05bd19743e2a80e1ad02.css" rel="stylesheet" type="text/css" id="css5">
  
  
  
  
  
  
        
  <script async="async" src="https://consent.trustarc.com/notice?domain=f5.com&c=teconsent&js=nj&noticeType=bb&text=true&gtm=1" crossorigin=""></script>
  
  

<script src="https://mktg.tags.f5.com/basic/prod/utag.sync.js"></script> 


  
  
  
  
  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-K5HG9JT');</script>
  
  </head>
  
  <body id="body">
    
   
<script type="text/javascript"> 
    (function(a,b,c,d) { 
        a='//mktg.tags.f5.com/basic/prod/utag.js'; 
        b=document;c='script';d=b.createElement(c);d.src=a; 
        d.type='text/java'+c;d.async=true; 
        a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a)})(); 
</script> 
    
  
    <header>
      
<div class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar navbar-fixed-top">
  <div class="container-fluid flex-md-row flex-column header-container">
    <a class="navbar-brand mr-0 mr-md-2" href="/" aria-label="NGINX Docs">
      <img class="navbar-img" src="http://localhost:1313/images/icons/NGINX-Docs-horiz-white-type.svg" alt="NGINX Docs">
    </a>
    
      <div class="navbar navbar-nav">
        
        <div id="searchbox">
          
          <div class="CoveoSearchbox" data-placeholder='Search NGINX Docs...'></div>
        </div>
        <atomic-search-interface id="search-standalone-header" data-mf="true" style="display:none;">
          <atomic-search-box redirection-url="/search.html">
          </atomic-search-box>
        </atomic-search-interface>
      </div>
    
    
    
    
    <ul class="navbar navbar-nav">
        <li class="nav-item-explore active">
          <button id="navbar-sites-button" class="button navbar-button">
              F5 Sites
              <i id="navbar-sites-button-icon" class="link-chevron-icon fa-solid fa-chevron-down"></i>
          </button>
          <div class="dropdown-content" id="dropdown-content">
            <ul>
              
                <li>
                  <a href="https://community.f5.com/" target="_blank" >DevCentral</a>
                  <p>Connect &amp; learn in our hosted community</p>
                </li>
              
                <li>
                  <a href="https://my.f5.com/" target="_blank" >MyF5</a>
                  <p>Your key to everything F5, including support, registration keys, and subscriptions</p>
                </li>
              
                <li>
                  <a href="https://nginx.org/" target="_blank" >NGINX</a>
                  <p>Learn more about NGINX Open Source and read the community blog</p>
                </li>
              
            </ul>
          </div>
        </li>
    </ul>
  </div>
</div>


    </header>
  
    <section class="base-layout" data-testid="base-layout">
      <section id="breadcrumb-v1">
        
          
          <nav aria-label="breadcrumb" class="breadcrumb navbar">
    <div class="nav flex-md-row">
        <ol class="breadcrumb">
            
            
            
            
                
            
            
                
            
            
                
            
            
                
            
            
                
            
            
            
                <li><a href="/">Home</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-app-protect-waf/">F5 NGINX App Protect WAF</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-app-protect-waf/v5/">Version 5</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-app-protect-waf/v5/admin-guide/">Administration Guides</a><i class="fas fa-chevron-right"></i></li>
                
            
                Installing NGINX App Protect WAF
        </ol>
    </div>
</nav>
  
          
        
      </section>
  
      <div class="main container-fluid min-page-height" data-menu-id="/nginx-app-protect-waf/v5/admin-guide/install/">
        
<div class="docs-container row override-sidebar-collapse">
<div class="docs-container row override-sidebar-collapse">
  <nav id="sidebar" class="sidenav overflow-auto col-md-3 d-none d-xl-block d-print-none align-top">
    

<div id="sidebar-wrapper">
     <div id="sidebar" class="sidebar" aria-label="Sidebar navigation">
        <button id="sidebar-toggle-button" title="Toggle sidebar navigation" role="button" aria-controls="sidebar-content">
           <i class="fa fa-chevron-right sidebar-visible-collapsed"></i>
           <i class="fa fa-chevron-left sidebar-visible-expanded"></i>
        </button>
        <div id="sidebar-content">
            <h3>
                <a class="sidebar-title" href="http://localhost:1313/nginx-app-protect-waf/" alt="F5 NGINX App Protect WAF"><img
                        class="card-img-top" src="http://localhost:1313//images/icons/NGINX-App-Protect-WAF-product-icon.svg"
                        alt="F5 NGINX App Protect WAF">
                    F5 NGINX App Protect WAF</a>
            </h3>
            <ul>
            
            
                
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                    <a data-menu-id="/nginx-app-protect-waf/v4/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#nap-waf--version-4-and-earlier" aria-controls="nap-waf--version-4-and-earlier">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Version 4 and Earlier</a>
                            </li>
                        </div>
                        <div id="nap-waf--version-4-and-earlier" class="accordion-body collapse">
                            <div class="accordion-inner">
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v4/admin-guide/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v4--administration-guides">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Administration Guides</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v4--administration-guides" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/admin-guide/install/" href="http://localhost:1313/nginx-app-protect-waf/v4/admin-guide/install/">NGINX App Protect WAF Administration Guide</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/admin-guide/install-nms/" href="http://localhost:1313/nginx-app-protect-waf/v4/admin-guide/install-nms/">Using NGINX App Protect WAF with NGINX Management Suite</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/admin-guide/upgrade-nap-waf/" href="http://localhost:1313/nginx-app-protect-waf/v4/admin-guide/upgrade-nap-waf/">Upgrade NGINX App Protect WAF on Managed Instances</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v4/configuration-guide/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v4--configuration-guides">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Configuration Guides</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v4--configuration-guides" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/configuration-guide/configuration/" href="http://localhost:1313/nginx-app-protect-waf/v4/configuration-guide/configuration/">NGINX App Protect WAF Configuration Guide</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v4/declarative-policy/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v4--declarative-policy">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Declarative Policy</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v4--declarative-policy" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/declarative-policy/policy/" href="http://localhost:1313/nginx-app-protect-waf/v4/declarative-policy/policy/">NGINX App Protect WAF Declarative Policy</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v4/logging-overview/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v4--logging-overview">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Logging Overview</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v4--logging-overview" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/logging-overview/logs-overview/" href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/logs-overview/">NGINX App Protect WAF Logs Overview</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/logging-overview/security-log/" href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/security-log/">NGINX App Protect WAF Security Log</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/logging-overview/operation-logs/" href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/operation-logs/">NGINX App Protect WAF Operation Log</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/logging-overview/debug-logs/" href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/debug-logs/">NGINX App Protect WAF Debug Log</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/logging-overview/access-log/" href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/access-log/">NGINX App Protect WAF Access Log</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v5/troubleshooting-guide/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v4--troubleshooting-guide">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Troubleshooting Guide</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v4--troubleshooting-guide" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/troubleshooting-guide/troubleshooting/" href="http://localhost:1313/nginx-app-protect-waf/v4/troubleshooting-guide/troubleshooting/">NGINX App Protect WAF Troubleshooting Guide</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v4/releases/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v4--releases">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Releases</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v4--releases" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.14/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.14/">NGINX App Protect WAF 4.14</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.13/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.13/">NGINX App Protect WAF 4.13</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.12/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.12/">NGINX App Protect WAF 4.12</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.11/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.11/">NGINX App Protect WAF 4.11</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.10/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.10/">NGINX App Protect WAF 4.10</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.9/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.9/">NGINX App Protect WAF 4.9</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.8.1/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.8.1/">NGINX App Protect WAF 4.8.1</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.8/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.8/">NGINX App Protect WAF 4.8</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.7/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.7/">NGINX App Protect WAF 4.7</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.6/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.6/">NGINX App Protect WAF 4.6</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.5/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.5/">NGINX App Protect WAF 4.5</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.4/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.4/">NGINX App Protect WAF 4.4</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.3/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.3/">NGINX App Protect WAF 4.3</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.2/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.2/">NGINX App Protect WAF 4.2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.1/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.1/">NGINX App Protect WAF 4.1</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-4.0/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.0/">NGINX App Protect WAF 4.0</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.12.2/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.12.2/">NGINX App Protect WAF 3.12.2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.12/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.12/">NGINX App Protect WAF 3.12</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.11/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.11/">NGINX App Protect WAF 3.11</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.10/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.10/">NGINX App Protect WAF 3.10</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.9.1/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.9.1/">NGINX App Protect WAF 3.9.1</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.9/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.9/">NGINX App Protect WAF 3.9</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.8/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.8/">NGINX App Protect WAF 3.8</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.7/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.7/">NGINX App Protect WAF 3.7</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.6/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.6/">NGINX App Protect WAF 3.6</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.5/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.5/">NGINX App Protect WAF 3.5</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.4/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.4/">NGINX App Protect WAF 3.4</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.3/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.3/">NGINX App Protect WAF 3.3</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.2/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.2/">NGINX App Protect WAF 3.2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.1/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.1/">NGINX App Protect WAF 3.1</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-3.0/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.0/">NGINX App Protect WAF 3.0</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-2.3/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.3/">NGINX App Protect WAF 2.3</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-2.2/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.2/">NGINX App Protect WAF 2.2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-2.1/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.1/">NGINX App Protect WAF 2.1</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-2.0/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.0/">NGINX App Protect WAF 2.0</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-1.3/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.3/">NGINX App Protect WAF 1.3</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-1.2/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.2/">NGINX App Protect WAF 1.2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-1.1/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.1/">NGINX App Protect WAF 1.1</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v4/releases/about-1.0/" href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.0/">NGINX App Protect WAF 1.0</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                            </div>
                        </div>
                    </div>
                </div>

                

            
                
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                    <a data-menu-id="/nginx-app-protect-waf/v5/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#nap-waf--version-5" aria-controls="nap-waf--version-5">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Version 5</a>
                            </li>
                        </div>
                        <div id="nap-waf--version-5" class="accordion-body collapse">
                            <div class="accordion-inner">
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v5--administration-guides">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Administration Guides</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v5--administration-guides" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/overview/" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/overview/">NGINX App Protect WAF Administration Guide</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/install/" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/install/">Installing NGINX App Protect WAF</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/deploy-with-helm/" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/deploy-with-helm/">Deploy NGINX App Protect WAF with Helm</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/deploy-with-manifests/" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/deploy-with-manifests/">Deploy NGINX App Protect WAF with Manifests</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/deploy-on-docker/" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/deploy-on-docker/">Deploy NGINX App Protect WAF with Docker</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/compiler/" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/compiler/">NGINX App Protect WAF Compiler</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/admin-guide/upgrade-nap-waf/" href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/upgrade-nap-waf/">Upgrade NGINX App Protect WAF on Managed Instances</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v5/configuration-guide/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v5--configuration-guides">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Configuration Guides</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v5--configuration-guides" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/configuration-guide/configuration/" href="http://localhost:1313/nginx-app-protect-waf/v5/configuration-guide/configuration/">NGINX App Protect WAF Configuration Guide</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v5/declarative-policy/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v5--declarative-policy">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Declarative Policy</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v5--declarative-policy" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/declarative-policy/policy/" href="http://localhost:1313/nginx-app-protect-waf/v5/declarative-policy/policy/">NGINX App Protect WAF Declarative Policy</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v5/logging-overview/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v5--logging-overview">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Logging Overview</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v5--logging-overview" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/logging-overview/security-log/" href="http://localhost:1313/nginx-app-protect-waf/v5/logging-overview/security-log/">NGINX App Protect WAF Security Log</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/logging-overview/access-log/" href="http://localhost:1313/nginx-app-protect-waf/v5/logging-overview/access-log/">NGINX App Protect WAF Access Log</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/logging-overview/logs-overview/" href="http://localhost:1313/nginx-app-protect-waf/v5/logging-overview/logs-overview/">NGINX App Protect WAF Logs Overview</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v5/troubleshooting-guide/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v5--troubleshooting">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Troubleshooting</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v5--troubleshooting" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/troubleshooting-guide/troubleshooting/" href="http://localhost:1313/nginx-app-protect-waf/v5/troubleshooting-guide/troubleshooting/">NGINX App Protect WAF Troubleshooting Guide</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx-app-protect-waf/v5/releases/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nap-waf--v5--releases">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Releases</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nap-waf--v5--releases" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/releases/about-5.6/" href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.6/">NGINX App Protect WAF 5.6</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/releases/about-5.5/" href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.5/">NGINX App Protect WAF 5.5</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/releases/about-5.4/" href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.4/">NGINX App Protect WAF 5.4</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/releases/about-5.3/" href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.3/">NGINX App Protect WAF 5.3</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/releases/about-5.2/" href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.2/">NGINX App Protect WAF 5.2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/releases/about-5.1/" href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.1/">NGINX App Protect WAF 5.1</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx-app-protect-waf/v5/releases/about-5.0/" href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.0/">NGINX App Protect WAF 5.0</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                            </div>
                        </div>
                    </div>
                </div>

                

            

            </ul>
        
        </div>
    </div>
</div>

  </nav>

  
  
  <main class="content col d-block align-top content-has-toc" role="main">
  
    
  <section class="main-layout">
    <div class="sidebar-layout" id="sidebar-layout">
      <nav data-mf="true" id="sidebar-v2" class="sidebar" style="display:none;">
        


    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    





<atomic-search-interface id="search-standalone-sidebar" data-mf="true" style="display:none;">
    <atomic-search-box redirection-url="/search.html">
    </atomic-search-box>
</atomic-search-interface>
<button class="product-selector-button" id="product-selector-button">
    
    <div class="product-selector-name" id="product-selector-name">NGINX App Protect WAF</div>
    <div class="product-selector-button-icon" id="product-selector-button-icon">
        <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg" id="product-selector-chevron-icon">
            <path d="M1 13L7 7L0.999999 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="product-selector-chevron-icon"/>
        </svg>     
    </div>
</button>
<div class="product-selector" id="product-selector">
    
    
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX ONE</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-one">NGINX One Console</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx">NGINX Plus</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-instance-manager">NGINX Instance Manager</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-ingress-controller">NGINX Ingress Controller</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-gateway-fabric">NGINX Gateway Fabric</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="https://nginx.org/en/docs/">NGINX Open Source</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/solutions/">Subscription Licensing &amp; Solutions</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-agent">NGINX Agent</a>
                </li>
            
            </ul>
        </div>
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX APP PROTECT</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-app-protect-waf">NGINX App Protect WAF</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-app-protect-dos">NGINX App Protect DoS</a>
                </li>
            
            </ul>
        </div>
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX AS A SERVICE</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginxaas/azure/">NGINX as a Service for Azure</a>
                </li>
            
            </ul>
        </div>
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX OTHER</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="https://unit.nginx.org/">NGINX Unit</a>
                </li>
            
            </ul>
        </div>
    
</div>
<div class="scrollbar-container">
    <div class="sidebar-navigation">
        <ul class="parent-collapsible-content">
        
            <li class="parent-collapsible-content-item">
                
                    <input type="checkbox" id="toggle-7f7c14e5eb8150745de8410de59a0b22" class="toggle-checkbox" style="display: none;">
                    <label for="toggle-7f7c14e5eb8150745de8410de59a0b22" class="collapsible-header">
                        
                            <span class="parent-box expand"></span>
                            <span class="parent-box opened"></span>
                        
                        Version 4 and Earlier 
                    </label>
                    

<ul class="collapsible-content">
    
    <li>
        
            <input type="checkbox" id="toggle-2d3851ebcca023e8402ffbd425902942" class="toggle-checkbox" style="display: none;">
            <label for="toggle-2d3851ebcca023e8402ffbd425902942" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Administration Guides 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/admin-guide/install/" style="">NGINX App Protect WAF Administration Guide </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/admin-guide/install-nms/" style="">Using NGINX App Protect WAF with NGINX Management Suite </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/admin-guide/upgrade-nap-waf/" style="">Upgrade NGINX App Protect WAF on Managed Instances </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-d8399080ca68c88dee77f413d6c6eb8b" class="toggle-checkbox" style="display: none;">
            <label for="toggle-d8399080ca68c88dee77f413d6c6eb8b" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Configuration Guides 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/configuration-guide/configuration/" style="">NGINX App Protect WAF Configuration Guide </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-f2ecd5f5767c08c757f1f5db3fc8034e" class="toggle-checkbox" style="display: none;">
            <label for="toggle-f2ecd5f5767c08c757f1f5db3fc8034e" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Declarative Policy 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/declarative-policy/policy/" style="">NGINX App Protect WAF Declarative Policy </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-a84be0ddf4e66485eba4d708591c4721" class="toggle-checkbox" style="display: none;">
            <label for="toggle-a84be0ddf4e66485eba4d708591c4721" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Logging Overview 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/logs-overview/" style="">NGINX App Protect WAF Logs Overview </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/security-log/" style="">NGINX App Protect WAF Security Log </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/operation-logs/" style="">NGINX App Protect WAF Operation Log </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/debug-logs/" style="">NGINX App Protect WAF Debug Log </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/logging-overview/access-log/" style="">NGINX App Protect WAF Access Log </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-785457d0d85be3768066ec502a32c93e" class="toggle-checkbox" style="display: none;">
            <label for="toggle-785457d0d85be3768066ec502a32c93e" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Troubleshooting Guide 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/troubleshooting-guide/troubleshooting/" style="">NGINX App Protect WAF Troubleshooting Guide </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-32e6e6a300adaf7bc875f71de9e14393" class="toggle-checkbox" style="display: none;">
            <label for="toggle-32e6e6a300adaf7bc875f71de9e14393" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Releases 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.14/" style="">NGINX App Protect WAF 4.14 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.13/" style="">NGINX App Protect WAF 4.13 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.12/" style="">NGINX App Protect WAF 4.12 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.11/" style="">NGINX App Protect WAF 4.11 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.10/" style="">NGINX App Protect WAF 4.10 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.9/" style="">NGINX App Protect WAF 4.9 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.8.1/" style="">NGINX App Protect WAF 4.8.1 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.8/" style="">NGINX App Protect WAF 4.8 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.7/" style="">NGINX App Protect WAF 4.7 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.6/" style="">NGINX App Protect WAF 4.6 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.5/" style="">NGINX App Protect WAF 4.5 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.4/" style="">NGINX App Protect WAF 4.4 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.3/" style="">NGINX App Protect WAF 4.3 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.2/" style="">NGINX App Protect WAF 4.2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.1/" style="">NGINX App Protect WAF 4.1 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-4.0/" style="">NGINX App Protect WAF 4.0 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.12.2/" style="">NGINX App Protect WAF 3.12.2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.12/" style="">NGINX App Protect WAF 3.12 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.11/" style="">NGINX App Protect WAF 3.11 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.10/" style="">NGINX App Protect WAF 3.10 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.9.1/" style="">NGINX App Protect WAF 3.9.1 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.9/" style="">NGINX App Protect WAF 3.9 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.8/" style="">NGINX App Protect WAF 3.8 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.7/" style="">NGINX App Protect WAF 3.7 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.6/" style="">NGINX App Protect WAF 3.6 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.5/" style="">NGINX App Protect WAF 3.5 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.4/" style="">NGINX App Protect WAF 3.4 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.3/" style="">NGINX App Protect WAF 3.3 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.2/" style="">NGINX App Protect WAF 3.2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.1/" style="">NGINX App Protect WAF 3.1 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-3.0/" style="">NGINX App Protect WAF 3.0 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.3/" style="">NGINX App Protect WAF 2.3 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.2/" style="">NGINX App Protect WAF 2.2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.1/" style="">NGINX App Protect WAF 2.1 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-2.0/" style="">NGINX App Protect WAF 2.0 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.3/" style="">NGINX App Protect WAF 1.3 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.2/" style="">NGINX App Protect WAF 1.2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.1/" style="">NGINX App Protect WAF 1.1 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v4/releases/about-1.0/" style="">NGINX App Protect WAF 1.0 </a>
            
        
    </li>
    
</ul>
        
    </li>
    
</ul>
                
            </li>
        
            <li class="parent-collapsible-content-item">
                
                    <input type="checkbox" id="toggle-b15959597292934ffe771956f825d77b" class="toggle-checkbox" style="display: none;">
                    <label for="toggle-b15959597292934ffe771956f825d77b" class="collapsible-header">
                        
                            <span class="parent-box expand"></span>
                            <span class="parent-box opened"></span>
                        
                        Version 5 
                    </label>
                    

<ul class="collapsible-content">
    
    <li>
        
            <input type="checkbox" id="toggle-f569a7fa0e4d3de9c70dae244b27b695" class="toggle-checkbox" style="display: none;">
            <label for="toggle-f569a7fa0e4d3de9c70dae244b27b695" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Administration Guides 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/overview/" style="">NGINX App Protect WAF Administration Guide </a>
            
        
    </li>
    
    <li>
        
                                  
                <span class="box current partial" id="current-page"></span>                 
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/install/" style="font-weight: bold;">Installing NGINX App Protect WAF </a>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#install-nginx-and-nginx-app-protect-waf-module">Install NGINX and NGINX App Protect WAF Module</a>
      <ul>
        <li><a href="#common-steps-for-nginx-open-source-and-nginx-plus">Common Steps for NGINX Open Source and NGINX Plus</a></li>
        <li><a href="#for-nginx-open-source">For NGINX Open Source</a></li>
        <li><a href="#for-nginx-plus">For NGINX Plus</a></li>
      </ul>
    </li>
    <li><a href="#nginx-configuration">NGINX Configuration</a></li>
    <li><a href="#waf-services-configuration">WAF Services Configuration</a>
      <ul>
        <li><a href="#permissions">Permissions</a></li>
        <li><a href="#set-up-docker-for-f5-container-registry">Set up Docker for F5 Container Registry</a></li>
        <li><a href="#docker-compose-file">Docker Compose File</a></li>
      </ul>
    </li>
    <li><a href="#start-the-deployment">Start the Deployment</a></li>
    <li><a href="#using-policy-and-logging-profile-bundles">Using Policy and Logging Profile Bundles</a></li>
    <li><a href="#air-gap-install-secure-offline-installation">Air-Gap Install: Secure Offline Installation</a>
      <ul>
        <li><a href="#install-nginx-and-nginx-app-protect-waf-module-1">Install NGINX and NGINX App Protect WAF module</a></li>
        <li><a href="#common-steps-for-nginx-open-source-and-nginx-plus-1">Common Steps for NGINX Open Source and NGINX Plus</a></li>
        <li><a href="#for-nginx-open-source-1">For NGINX Open Source</a></li>
        <li><a href="#for-nginx-plus-1">For NGINX Plus</a></li>
        <li><a href="#nginx-configuration-1">NGINX Configuration</a></li>
        <li><a href="#waf-services-configuration-1">WAF Services Configuration</a></li>
        <li><a href="#start-the-deployment-1">Start the Deployment</a></li>
      </ul>
    </li>
    <li><a href="#uninstall-nginx-and-nginx-app-protect-waf-module">Uninstall NGINX and NGINX App Protect WAF module</a>
      <ul>
        <li><a href="#stop-the-docker-deployment">Stop the Docker Deployment</a></li>
        <li><a href="#uninstall-the-nginx-app-protect-waf-v5-package">Uninstall the NGINX App Protect WAF v5 Package</a></li>
      </ul>
    </li>
  </ul>
</nav>
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/deploy-with-helm/" style="">Deploy NGINX App Protect WAF with Helm </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/deploy-with-manifests/" style="">Deploy NGINX App Protect WAF with Manifests </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/deploy-on-docker/" style="">Deploy NGINX App Protect WAF with Docker </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/compiler/" style="">NGINX App Protect WAF Compiler </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/upgrade-nap-waf/" style="">Upgrade NGINX App Protect WAF on Managed Instances </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-ba5280a2dc88e2ef839cbdf99dd63718" class="toggle-checkbox" style="display: none;">
            <label for="toggle-ba5280a2dc88e2ef839cbdf99dd63718" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Configuration Guides 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/configuration-guide/configuration/" style="">NGINX App Protect WAF Configuration Guide </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-32298ec202b6ded814ea2044cb7b2329" class="toggle-checkbox" style="display: none;">
            <label for="toggle-32298ec202b6ded814ea2044cb7b2329" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Declarative Policy 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/declarative-policy/policy/" style="">NGINX App Protect WAF Declarative Policy </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-44f8e13744a3277f9d094e0ab4e169e0" class="toggle-checkbox" style="display: none;">
            <label for="toggle-44f8e13744a3277f9d094e0ab4e169e0" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Logging Overview 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/logging-overview/security-log/" style="">NGINX App Protect WAF Security Log </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/logging-overview/access-log/" style="">NGINX App Protect WAF Access Log </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/logging-overview/logs-overview/" style="">NGINX App Protect WAF Logs Overview </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-aceec0e2fe4ec190c9b41c79e11e4032" class="toggle-checkbox" style="display: none;">
            <label for="toggle-aceec0e2fe4ec190c9b41c79e11e4032" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Troubleshooting 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/troubleshooting-guide/troubleshooting/" style="">NGINX App Protect WAF Troubleshooting Guide </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-0e34ddcd46826354bb34b18a381baf59" class="toggle-checkbox" style="display: none;">
            <label for="toggle-0e34ddcd46826354bb34b18a381baf59" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Releases 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.6/" style="">NGINX App Protect WAF 5.6 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.5/" style="">NGINX App Protect WAF 5.5 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.4/" style="">NGINX App Protect WAF 5.4 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.3/" style="">NGINX App Protect WAF 5.3 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.2/" style="">NGINX App Protect WAF 5.2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.1/" style="">NGINX App Protect WAF 5.1 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx-app-protect-waf/v5/releases/about-5.0/" style="">NGINX App Protect WAF 5.0 </a>
            
        
    </li>
    
</ul>
        
    </li>
    
</ul>
                
            </li>
        
        </ul>
    </div>
</div>
      </nav>
    </div>

    <section class="content-layout">
      <div data-cms-edit="content" class="text-content">
        <section class="breadcrumb-layout" data-mf="true" style="display: none;">
          
            
            <nav aria-label="breadcrumb" class="breadcrumb navbar">
    <div class="nav flex-md-row">
        <ol class="breadcrumb">
            
            
            
            
                
            
            
                
            
            
                
            
            
                
            
            
                
            
            
            
                <li><a href="/">Home</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-app-protect-waf/">F5 NGINX App Protect WAF</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-app-protect-waf/v5/">Version 5</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx-app-protect-waf/v5/admin-guide/">Administration Guides</a><i class="fas fa-chevron-right"></i></li>
                
            
                Installing NGINX App Protect WAF
        </ol>
    </div>
</nav>
  
            
          
        </section>
        <h1>Installing NGINX App Protect WAF</h1>
        <h2 
id="prerequisites">Prerequisites  <a class="headerlink float-right" href="#prerequisites" title="Prerequisites"><i class="fas fa-link fa-xs"></i></a>
</h2><ul>
<li>Active F5 NGINX App Protect WAF subscription in <a href="https://my.f5.com/" target="_blank" rel="noopener">MyF5</a> (purchased or trial).</li>
<li>Docker (with Docker Compose) is <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener">installed and running</a>.</li>
<li>A <a href="http://localhost:1313/nginx/technical-specs/#appprotect">supported operating system</a> (OS).</li>
</ul>
<h2 
id="install-nginx-and-nginx-app-protect-waf-module">Install NGINX and NGINX App Protect WAF Module  <a class="headerlink float-right" href="#install-nginx-and-nginx-app-protect-waf-module" title="Install NGINX and NGINX App Protect WAF Module"><i class="fas fa-link fa-xs"></i></a>
</h2><p>If you already have NGINX packages in your system, back up your configuration and log files:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6dac5b50&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6dac5b50">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo cp -a /etc/nginx /etc/nginx-plus-backup
</span></span><span class="line"><span class="cl">sudo cp -a /var/log/nginx /var/log/nginx-plus-backup</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo cp -a /etc/nginx /etc/nginx-plus-backup
</span></span><span class="line"><span class="cl">sudo cp -a /var/log/nginx /var/log/nginx-plus-backup</span></span></code></pre></div>
</div><ol>
<li>
<p>Log in to <a href="https://account.f5.com/myf5" target="_blank" rel="noopener">MyF5 Customer Portal</a> and download your <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files.</p>
</li>
<li>
<p>If any old NGINX App Protect packages are installed, make sure to remove them.</p>
</li>
<li>
<p>Follow the steps below for the operating system you are working with.</p>
</li>
</ol>
<blockquote class="note">
  <div><strong>Note:</strong><br/> If not already installed, <code>nginx</code> or <code>nginx-plus</code> will be installed automatically as a dependency.</div>
</blockquote>

<h3 
id="common-steps-for-nginx-open-source-and-nginx-plus">Common Steps for NGINX Open Source and NGINX Plus  <a class="headerlink float-right" href="#common-steps-for-nginx-open-source-and-nginx-plus" title="Common Steps for NGINX Open Source and NGINX Plus"><i class="fas fa-link fa-xs"></i></a>
</h3><p>Please follow these steps before you install either NGINX Open Source or NGINX Plus.</p>
<div class="tabs-container">
	<ul class="nav nav-tabs" id="common_steps_for_nginx_oss_and_plus" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#common_steps_for_nginx_oss_and_plus-0" role="tab" aria-controls="common_steps_for_nginx_oss_and_plus-0" aria-selected="true">Alpine Linux</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#common_steps_for_nginx_oss_and_plus-1" role="tab" aria-controls="common_steps_for_nginx_oss_and_plus-1">Amazon Linux</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#common_steps_for_nginx_oss_and_plus-2" role="tab" aria-controls="common_steps_for_nginx_oss_and_plus-2">Debian</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#common_steps_for_nginx_oss_and_plus-3" role="tab" aria-controls="common_steps_for_nginx_oss_and_plus-3">Oracle Linux</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#common_steps_for_nginx_oss_and_plus-4" role="tab" aria-controls="common_steps_for_nginx_oss_and_plus-4">RHEL</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#common_steps_for_nginx_oss_and_plus-5" role="tab" aria-controls="common_steps_for_nginx_oss_and_plus-5">Ubuntu</a></li></ul>
</div>
<div class="tab-content" id="common_steps_for_nginx_oss_and_plus"><div id="common_steps_for_nginx_oss_and_plus-0" class="tab-pane show active" role="tabpanel" aria-labelledby="common_steps_for_nginx_oss_and_plus-0">
<p>Move <strong>nginx-repo.key</strong> to <strong>/etc/apk/cert.key</strong> and <strong>nginx-repo.crt</strong> to <strong>/etc/apk/cert.pem</strong>.</p>
<p>Make sure that files do not contain other certificates and keys: Alpine Linux does not support mixing client certificates for different repositories.</p>
<p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e7c6138&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e7c6138">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add openssl ca-certificates</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add openssl ca-certificates</span></span></code></pre></div>
</div><p>Add the NGINX signing public key to the directory <code>/etc/apk/keys</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e7f7648&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e7f7648">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -O /etc/apk/keys/nginx_signing.rsa.pub https://cs.nginx.com/static/keys/nginx_signing.rsa.pub</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -O /etc/apk/keys/nginx_signing.rsa.pub https://cs.nginx.com/static/keys/nginx_signing.rsa.pub</span></span></code></pre></div>
</div>
</div>
  <div id="common_steps_for_nginx_oss_and_plus-1" class="tab-pane" role="tabpanel" aria-labelledby="common_steps_for_nginx_oss_and_plus-1">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e861980&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e861980">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload the <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previously downloaded NGINX repository files from <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e8be9c8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6e8be9c8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
</div><p>Install the required dependencies:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e99d830&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e99d830">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
</div><p>Download the <code>dependencies.repo</code> file to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ea4b958&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ea4b958">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.amazonlinux2023.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.amazonlinux2023.repo</span></span></code></pre></div>
</div>
</div>
  <div id="common_steps_for_nginx_oss_and_plus-2" class="tab-pane" role="tabpanel" aria-labelledby="common_steps_for_nginx_oss_and_plus-2">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eaecf60&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6eaecf60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previous NGINX repository and apt configuration files:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eb4de28&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6eb4de28">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
</div><p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ebb2f58&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ebb2f58">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 debian-archive-keyring</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 debian-archive-keyring</span></span></code></pre></div>
</div><p>Download and add the NGINX signing key:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ec47a40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ec47a40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
</div><p>Download the apt configuration to <code>/etc/apt/apt.conf.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ec9d940&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ec9d940">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
</div><p>Verify that the downloaded file contains the proper key:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ed32bf8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ed32bf8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
</div><p>The output should contain the full fingerprint <code>573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62</code> as follows:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ed63168&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ed63168">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
</div><p>If the fingerprint is different, remove the file.</p>
</div>
  <div id="common_steps_for_nginx_oss_and_plus-3" class="tab-pane" role="tabpanel" aria-labelledby="common_steps_for_nginx_oss_and_plus-3">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6edc76e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6edc76e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previously downloaded NGINX repository files from <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ede6ae0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ede6ae0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
</div><p>Install required dependencies:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee106d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee106d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
</div><p>Download the <code>dependencies.repo</code> file to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee423b8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee423b8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
</div>
</div>
  <div id="common_steps_for_nginx_oss_and_plus-4" class="tab-pane" role="tabpanel" aria-labelledby="common_steps_for_nginx_oss_and_plus-4">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6edc76e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6edc76e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previously downloaded NGINX repository files from <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ede6ae0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ede6ae0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
</div><p>Install required dependencies:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee106d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee106d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
</div><p>Download the <code>dependencies.repo</code> file to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee423b8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee423b8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
</div>
</div>
  <div id="common_steps_for_nginx_oss_and_plus-5" class="tab-pane" role="tabpanel" aria-labelledby="common_steps_for_nginx_oss_and_plus-5">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eecedb8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6eecedb8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previous NGINX repository and apt configuration files:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef11c08&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef11c08">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
</div><p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef3a860&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef3a860">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
</div><p>Download and add the NGINX signing key:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef65bc8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef65bc8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
</div><p>Download the apt configuration to <code>/etc/apt/apt.conf.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef7e650&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef7e650">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
</div><p>Verify that the downloaded file contains the proper key:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef9a3a0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef9a3a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
</div><p>The output should contain the full fingerprint <code>573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62</code> as follows:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6efb0718&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6efb0718">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
</div><p>If the fingerprint is different, remove the file.</p>
</div></div>

<h3 
id="for-nginx-open-source">For NGINX Open Source  <a class="headerlink float-right" href="#for-nginx-open-source" title="For NGINX Open Source"><i class="fas fa-link fa-xs"></i></a>
</h3><div class="tabs-container">
	<ul class="nav nav-tabs" id="for_nginx_open_source" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#for_nginx_open_source-0" role="tab" aria-controls="for_nginx_open_source-0" aria-selected="true">Amazon Linux</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_open_source-1" role="tab" aria-controls="for_nginx_open_source-1">Alpine Linux</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_open_source-2" role="tab" aria-controls="for_nginx_open_source-2">Debian</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_open_source-3" role="tab" aria-controls="for_nginx_open_source-3">Oracle Linux</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_open_source-4" role="tab" aria-controls="for_nginx_open_source-4">RHEL</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_open_source-5" role="tab" aria-controls="for_nginx_open_source-5">Ubuntu</a></li></ul>
</div>
<div class="tab-content" id="for_nginx_open_source"><div id="for_nginx_open_source-0" class="tab-pane show active" role="tabpanel" aria-labelledby="for_nginx_open_source-0">
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f000858&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f000858">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div><p>Create the NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f023308&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f023308">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package.</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f05ada8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f05ada8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-oss</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_open_source-1" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_open_source-1">
<p>Set up the apk repository for mainline nginx packages:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0a7838&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f0a7838">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 apk repository:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0c58b0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0c58b0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0db840&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0db840">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_open_source-2" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_open_source-2">
<p>Add the NGINX Open Source repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1159f0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1159f0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/debian `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/debian `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
</div><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1326e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1326e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f14d878&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f14d878">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f16c0c0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f16c0c0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_open_source-3" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_open_source-3">
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1a8980&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1a8980">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1c5e40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1c5e40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package.</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1e61e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f1e61e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
</div><p>When prompted to accept the GPG key, verify that the fingerprint matches <code>573B FD6B 3D8F BC64 1079 A6AB ABF5 BD82 7BD9 BF62</code>, and if so, accept it.</p>
</div>
  <div id="for_nginx_open_source-4" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_open_source-4">
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1a8980&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1a8980">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1c5e40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1c5e40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package.</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1e61e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f1e61e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
</div><p>When prompted to accept the GPG key, verify that the fingerprint matches <code>573B FD6B 3D8F BC64 1079 A6AB ABF5 BD82 7BD9 BF62</code>, and if so, accept it.</p>
</div>
  <div id="for_nginx_open_source-5" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_open_source-5">
<p>Add the NGINX Open Source repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2343e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2343e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
</div><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2510d0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2510d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f26be80&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f26be80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f28a6c8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f28a6c8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div>
</div></div>

<hr>
<h3 
id="for-nginx-plus">For NGINX Plus  <a class="headerlink float-right" href="#for-nginx-plus" title="For NGINX Plus"><i class="fas fa-link fa-xs"></i></a>
</h3><p>To use NGINX Plus, you will need to download the the JWT license file associated with your NGINX Plus subscription from the MyF5 Customer Portal:</p>
<ol>
<li>Log in to <a href="https://my.f5.com/manage/s/" target="_blank" rel="noopener">MyF5</a>.</li>
<li>Go to <strong>My Products &amp; Plans &gt; Subscriptions</strong> to see your active subscriptions.</li>
<li>Find your NGINX products or services subscription, and select the <strong>Subscription ID</strong> for details.</li>
<li>Download the <strong>JSON Web Token</strong> from the subscription page.</li>
</ol>

<p>Once you have the license file:</p>
<ol>
<li>
<p>Copy the license file to <code>/etc/nginx/license.jwt</code> on Linux or <code>/usr/local/etc/nginx/license.jwt</code> on FreeBSD for each NGINX Plus instance.</p>
</li>
<li>
<p>Reload NGINX:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f30ad78&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f30ad78">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">systemctl reload nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">systemctl reload nginx</span></span></code></pre></div>
</div></li>
</ol>
<p><strong>If SELinux is enabled</strong>:</p>
<p>Set the correct file context so NGINX can read the license:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f320150&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f320150">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">chcon -t httpd_config_t /etc/nginx/license.jwt</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">chcon -t httpd_config_t /etc/nginx/license.jwt</span></span></code></pre></div>
</div>
<p>Then you can move onto the next step, depending on your chosen operating system.</p>
<div class="tabs-container">
	<ul class="nav nav-tabs" id="for_nginx_plus" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#for_nginx_plus-0" role="tab" aria-controls="for_nginx_plus-0" aria-selected="true">Alpine Linux</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_plus-1" role="tab" aria-controls="for_nginx_plus-1">Amazon Linux</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_plus-2" role="tab" aria-controls="for_nginx_plus-2">Debian</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_plus-3" role="tab" aria-controls="for_nginx_plus-3">Oracle Linux / RHEL 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_plus-4" role="tab" aria-controls="for_nginx_plus-4">RHEL 9</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#for_nginx_plus-5" role="tab" aria-controls="for_nginx_plus-5">Ubuntu</a></li></ul>
</div>
<div class="tab-content" id="for_nginx_plus"><div id="for_nginx_plus-0" class="tab-pane show active" role="tabpanel" aria-labelledby="for_nginx_plus-0">
<p>Add the NGINX Plus apk repository to <code>/etc/apk/repositories</code> file:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f351660&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f351660">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f36db80&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f36db80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f382f58&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f382f58">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-plus</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_plus-1" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_plus-1">
<p>Download the NGINX Plus repository file <a href="https://cs.nginx.com/static/files/plus-amazonlinux2023.repo" target="_blank" rel="noopener">plus-amazonlinux2023.repo</a> to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f3ebf08&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f3ebf08">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/plus-amazonlinux2023.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/plus-amazonlinux2023.repo</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-plus.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f412838&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f412838">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f42d200&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f42d200">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_plus-2" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_plus-2">
<p>Add the NGINX Plus repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f46aa60&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f46aa60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f49a030&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f49a030">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f4c6720&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f4c6720">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_plus-3" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_plus-3">
<p>Download the NGINX Plus repository file <a href="https://cs.nginx.com/static/files/nginx-plus-8.repo" target="_blank" rel="noopener">nginx-plus-8.repo</a> to <code>/etc/yum.repos.d</code>:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f576f58&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f576f58">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/nginx-plus-8.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/nginx-plus-8.repo</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-plus.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f517418&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f517418">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f552568&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f552568">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_plus-4" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_plus-4">
<p>Download the NGINX Plus repository file <a href="https://cs.nginx.com/static/files/plus-9.repo" target="_blank" rel="noopener">plus-9.repo</a> to <code>/etc/yum.repos.d</code>:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f5a6910&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f5a6910">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/plus-9.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/plus-9.repo</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-plus.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f517418&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f517418">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f552568&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f552568">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
</div>
</div>
  <div id="for_nginx_plus-5" class="tab-pane" role="tabpanel" aria-labelledby="for_nginx_plus-5">
<p>Add the NGINX Plus repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f5e8ba8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f5e8ba8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f6077d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f6077d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f625468&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f625468">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div>
</div></div>

<hr>
<h2 
id="nginx-configuration">NGINX Configuration  <a class="headerlink float-right" href="#nginx-configuration" title="NGINX Configuration"><i class="fas fa-link fa-xs"></i></a>
</h2><p>In your nginx configuration:</p>
<ol>
<li>
<p>Load the NGINX App Protect WAF v5 module at the main context:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6db09170&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6db09170">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span></span></span></code></pre></div>
</div></li>
<li>
<p>Configure the Enforcer address at the <code>http</code> context:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6dbcb2e8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6dbcb2e8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span></span></span></code></pre></div>
</div></li>
<li>
<p>Enable NGINX App Protect WAF on an <code>http/server/location</code> context (make sure you only enable NGINX App Protect WAF with <code>proxy_pass</code>/<code>grpc_pass</code> locations):</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6dc9d630&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6dc9d630">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enable</span> <span class="no">on</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enable</span> <span class="no">on</span><span class="p">;</span></span></span></code></pre></div>
</div></li>
</ol>
<p>In this guide, the following files are used:</p>
<div class="tabs-container">
	<ul class="nav nav-tabs" id="nap5_install_conf_files_localhost" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#nap5_install_conf_files_localhost-0" role="tab" aria-controls="nap5_install_conf_files_localhost-0" aria-selected="true">nginx.conf</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#nap5_install_conf_files_localhost-1" role="tab" aria-controls="nap5_install_conf_files_localhost-1">default.conf</a></li></ul>
</div>
<div class="tab-content" id="nap5_install_conf_files_localhost"><div id="nap5_install_conf_files_localhost-0" class="tab-pane show active" role="tabpanel" aria-labelledby="nap5_install_conf_files_localhost-0">
<p><code>/etc/nginx/nginx.conf</code></p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f6a0140&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f6a0140">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">user</span>  <span class="s">nginx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">worker_processes</span>  <span class="s">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">error_log</span>  <span class="s">/var/log/nginx/error.log</span> <span class="s">notice</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">pid</span>        <span class="s">/var/run/nginx.pid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">events</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">worker_connections</span>  <span class="mi">1024</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">include</span>       <span class="s">/etc/nginx/mime.types</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">default_type</span>  <span class="s">application/octet-stream</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">log_format</span>  <span class="s">main</span>  <span class="s">&#39;</span><span class="nv">$remote_addr</span> <span class="s">-</span> <span class="nv">$remote_user</span> <span class="s">[</span><span class="nv">$time_local]</span> <span class="s">&#34;</span><span class="nv">$request&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;</span><span class="nv">$status</span> <span class="nv">$body_bytes_sent</span> <span class="s">&#34;</span><span class="nv">$http_referer&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;&#34;</span><span class="nv">$http_user_agent&#34;</span> <span class="s">&#34;</span><span class="nv">$http_x_forwarded_for&#34;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">access_log</span>  <span class="s">/var/log/nginx/access.log</span>  <span class="s">main</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">sendfile</span>        <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#tcp_nopush     on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">keepalive_timeout</span>  <span class="mi">65</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#gzip  on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">include</span> <span class="s">/etc/nginx/conf.d/*.conf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">user</span>  <span class="s">nginx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">worker_processes</span>  <span class="s">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">error_log</span>  <span class="s">/var/log/nginx/error.log</span> <span class="s">notice</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">pid</span>        <span class="s">/var/run/nginx.pid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">events</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">worker_connections</span>  <span class="mi">1024</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">include</span>       <span class="s">/etc/nginx/mime.types</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">default_type</span>  <span class="s">application/octet-stream</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">log_format</span>  <span class="s">main</span>  <span class="s">&#39;</span><span class="nv">$remote_addr</span> <span class="s">-</span> <span class="nv">$remote_user</span> <span class="s">[</span><span class="nv">$time_local]</span> <span class="s">&#34;</span><span class="nv">$request&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;</span><span class="nv">$status</span> <span class="nv">$body_bytes_sent</span> <span class="s">&#34;</span><span class="nv">$http_referer&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;&#34;</span><span class="nv">$http_user_agent&#34;</span> <span class="s">&#34;</span><span class="nv">$http_x_forwarded_for&#34;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">access_log</span>  <span class="s">/var/log/nginx/access.log</span>  <span class="s">main</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">sendfile</span>        <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#tcp_nopush     on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">keepalive_timeout</span>  <span class="mi">65</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#gzip  on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">include</span> <span class="s">/etc/nginx/conf.d/*.conf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>
</div>
  <div id="nap5_install_conf_files_localhost-1" class="tab-pane" role="tabpanel" aria-labelledby="nap5_install_conf_files_localhost-1">
<p><code>/etc/nginx/conf.d/default.conf</code></p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f7094d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f7094d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">domain.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">app_protect_enable</span> <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">client_max_body_size</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">default_type</span> <span class="s">text/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8080/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">8080</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">localhost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># redirect server error pages to the static page /50x.html
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">#
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">error_page</span> <span class="mi">500</span> <span class="mi">502</span> <span class="mi">503</span> <span class="mi">504</span> <span class="s">/50x.html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">=</span> <span class="s">/50x.html</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">domain.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">app_protect_enable</span> <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">client_max_body_size</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">default_type</span> <span class="s">text/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8080/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">8080</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">localhost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># redirect server error pages to the static page /50x.html
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">#
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">error_page</span> <span class="mi">500</span> <span class="mi">502</span> <span class="mi">503</span> <span class="mi">504</span> <span class="s">/50x.html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">=</span> <span class="s">/50x.html</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>
</div></div>

<h2 
id="waf-services-configuration">WAF Services Configuration  <a class="headerlink float-right" href="#waf-services-configuration" title="WAF Services Configuration"><i class="fas fa-link fa-xs"></i></a>
</h2><h3 
id="permissions">Permissions  <a class="headerlink float-right" href="#permissions" title="Permissions"><i class="fas fa-link fa-xs"></i></a>
</h3><p>Set up the directories with the correct ownership for NGINX App Protect WAF v5 services, where <code>101:101</code> are the default UID/GID.</p>
<p>Create Directories:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6dcefe80&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6dcefe80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /opt/app_protect/config /opt/app_protect/bd_config</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /opt/app_protect/config /opt/app_protect/bd_config</span></span></code></pre></div>
</div><p>Set Ownership:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6dd32500&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6dd32500">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo chown -R 101:101 /opt/app_protect/</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo chown -R 101:101 /opt/app_protect/</span></span></code></pre></div>
</div><h3 
id="set-up-docker-for-f5-container-registry">Set up Docker for F5 Container Registry  <a class="headerlink float-right" href="#set-up-docker-for-f5-container-registry" title="Set up Docker for F5 Container Registry"><i class="fas fa-link fa-xs"></i></a>
</h3><p>Configure Docker to interact with the F5 Container Registry at <code>private-registry.nginx.com</code>:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6d9bdca8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6d9bdca8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/docker/certs.d/private-registry.nginx.com
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.crt&gt; /etc/docker/certs.d/private-registry.nginx.com/client.cert
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.key&gt; /etc/docker/certs.d/private-registry.nginx.com/client.key</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/docker/certs.d/private-registry.nginx.com
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.crt&gt; /etc/docker/certs.d/private-registry.nginx.com/client.cert
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.key&gt; /etc/docker/certs.d/private-registry.nginx.com/client.key</span></span></code></pre></div>
</div><blockquote class="note">
  <div><strong>Note:</strong><br/> Please note that the file extension for the certificate file has changed from <code>.crt</code> to <code>.cert</code></div>
</blockquote>


<h3 
id="docker-compose-file">Docker Compose File  <a class="headerlink float-right" href="#docker-compose-file" title="Docker Compose File"><i class="fas fa-link fa-xs"></i></a>
</h3><p>Create a <code>docker-compose.yml</code> with the following configuration:</p>
<p>Replace <code>waf-enforcer</code> and <code>waf-config-mgr</code> tag with the actual release version tag you are deploying. We are using version <code>5.2.0</code> for this example deployment.</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">yaml</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6de2fbb0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6de2fbb0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-enforcer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">private-registry.nginx.com/nap/waf-enforcer:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">ENFORCER_PORT=50000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;50000:50000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">waf_network</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-config-mgr</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">private-registry.nginx.com/nap/waf-config-mgr:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/config:/opt/app_protect/config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/etc/app_protect/conf:/etc/app_protect/conf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">network_mode</span><span class="p">:</span><span class="w"> </span><span class="l">none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l">service_started</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf_network</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">bridge</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-enforcer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">private-registry.nginx.com/nap/waf-enforcer:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">ENFORCER_PORT=50000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;50000:50000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">waf_network</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-config-mgr</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">private-registry.nginx.com/nap/waf-config-mgr:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/config:/opt/app_protect/config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/etc/app_protect/conf:/etc/app_protect/conf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">network_mode</span><span class="p">:</span><span class="w"> </span><span class="l">none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l">service_started</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf_network</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">bridge</span></span></span></code></pre></div>
</div><blockquote class="note">
  <div><strong>Note:</strong><br/> In some operating systems, security mechanisms like <strong>SELinux</strong> or <strong>AppArmor</strong> are enabled by default, potentially blocking necessary file access for the <code>nginx</code> process and <code>waf-config-mgr</code> and <code>waf-enforcer</code> containers. To ensure NGINX App Protect WAF v5 operates smoothly without compromising security, consider setting up a custom SELinux policy or AppArmor profile. For short-term troubleshooting, you may use <code>permissive</code> (SELinux) or <code>complain</code> (AppArmor) mode to avoid these restrictions, but keep in mind that this lowers security and isn&rsquo;t advised for prolonged use.</div>
</blockquote>

<h2 
id="start-the-deployment">Start the Deployment  <a class="headerlink float-right" href="#start-the-deployment" title="Start the Deployment"><i class="fas fa-link fa-xs"></i></a>
</h2><ol>
<li>
<p>To start the WAF services, navigate to the directory that contains the <code>docker-compose.yml</code> file and run:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6de81c30&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6de81c30">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo docker compose up -d</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo docker compose up -d</span></span></code></pre></div>
</div></li>
<li>
<p>To start the NGINX, run:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6deb67f0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6deb67f0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo nginx</span></span></code></pre></div>
</div></li>
<li>
<p>To verify the enforcement functionality, ensure the following request is rejected:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6deee290&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6deee290">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl <span class="s2">&#34;localhost/&lt;script&gt;&#34;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl <span class="s2">&#34;localhost/&lt;script&gt;&#34;</span></span></span></code></pre></div>
</div></li>
</ol>
<h2 
id="using-policy-and-logging-profile-bundles">Using Policy and Logging Profile Bundles  <a class="headerlink float-right" href="#using-policy-and-logging-profile-bundles" title="Using Policy and Logging Profile Bundles"><i class="fas fa-link fa-xs"></i></a>
</h2><p>To work with custom policy and logging profile bundles, these files must be accessible to the <code>waf-config-mgr</code> container.</p>
<ol>
<li><strong>Assumption</strong>: Your bundle files are in <code>/bundles</code> on the host machine.</li>
<li><strong>Docker Compose Configuration</strong>: In your <code>docker-compose.yml</code>, add a volume mount under the <code>waf-config-mgr</code> service to link the host directory <code>/bundles</code> to the same path inside the container.</li>
</ol>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">yaml</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f765580&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f765580">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">waf-config-mgr</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;private-registry.nginx.com/nap/waf-config-mgr:1.0.0&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">/bundles:/bundles</span><span class="w"> </span><span class="c"># Mounting the host directory to the container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">...</span><span class="w"> </span><span class="c">#existing volume mounts</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nn">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">waf-config-mgr</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;private-registry.nginx.com/nap/waf-config-mgr:1.0.0&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">/bundles:/bundles</span><span class="w"> </span><span class="c"># Mounting the host directory to the container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">...</span><span class="w"> </span><span class="c">#existing volume mounts</span></span></span></code></pre></div>
</div><p>By setting up this volume mount, the bundle files can be referenced within your NGINX configuration using the <code>/bundles</code> directory.</p>
<p>For instance:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f77ad40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f77ad40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_policy_file</span> <span class="s">/bundles/custom_policy.tgz</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">app_protect_security_log</span> <span class="s">/bundles/custom_logging_profile.tgz</span> <span class="s">syslog:server=localhost:514</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_policy_file</span> <span class="s">/bundles/custom_policy.tgz</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">app_protect_security_log</span> <span class="s">/bundles/custom_logging_profile.tgz</span> <span class="s">syslog:server=localhost:514</span><span class="p">;</span></span></span></code></pre></div>
</div>
<p>After deploying NGINX App Protect WAF, learn how to utilize the <a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/compiler/">NGINX App Protect WAF Compiler</a> for applying your custom policies and logging profiles.</p>
<h2 
id="air-gap-install-secure-offline-installation">Air-Gap Install: Secure Offline Installation  <a class="headerlink float-right" href="#air-gap-install-secure-offline-installation" title="Air-Gap Install: Secure Offline Installation"><i class="fas fa-link fa-xs"></i></a>
</h2><h3 
id="install-nginx-and-nginx-app-protect-waf-module-1">Install NGINX and NGINX App Protect WAF module  <a class="headerlink float-right" href="#install-nginx-and-nginx-app-protect-waf-module-1" title="Install NGINX and NGINX App Protect WAF module"><i class="fas fa-link fa-xs"></i></a>
</h3><ol>
<li>
<p>Log in to <a href="https://account.f5.com/myf5" target="_blank" rel="noopener">MyF5 Customer Portal</a> and download your <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files on your online machine.</p>
</li>
<li>
<p>If any old NGINX App Protect packages are installed, make sure to remove them.</p>
</li>
<li>
<p>Follow the steps below for the operating system you are working with.</p>
</li>
</ol>
<blockquote class="note">
  <div><strong>Note:</strong><br/> If not already installed, <code>nginx</code> or <code>nginx-plus</code> will be installed automatically as a dependency.</div>
</blockquote>

<h3 
id="common-steps-for-nginx-open-source-and-nginx-plus-1">Common Steps for NGINX Open Source and NGINX Plus  <a class="headerlink float-right" href="#common-steps-for-nginx-open-source-and-nginx-plus-1" title="Common Steps for NGINX Open Source and NGINX Plus"><i class="fas fa-link fa-xs"></i></a>
</h3><p>Follow these steps before you install NGINX Open Source or NGINX Plus.</p>
<div class="tabs-container">
	<ul class="nav nav-tabs" id="offline_common_steps_for_nginx_oss_and_plus" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#offline_common_steps_for_nginx_oss_and_plus-0" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-0" aria-selected="true">Alpine Linux 3.16/3.17/3.19</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-1" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-1">Amazon Linux 2023</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-2" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-2">Debian 11</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-3" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-3">Debian 12</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-4" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-4">Oracle Linux 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-5" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-5">RHEL 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-6" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-6">RHEL 9</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-7" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-7">Ubuntu 20.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-8" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-8">Ubuntu 22.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_common_steps_for_nginx_oss_and_plus-9" role="tab" aria-controls="offline_common_steps_for_nginx_oss_and_plus-9">Ubuntu 24.04</a></li></ul>
</div>
<div class="tab-content" id="offline_common_steps_for_nginx_oss_and_plus"><div id="offline_common_steps_for_nginx_oss_and_plus-0" class="tab-pane show active" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-0">
<p>Move <strong>nginx-repo.key</strong> to <strong>/etc/apk/cert.key</strong> and <strong>nginx-repo.crt</strong> to <strong>/etc/apk/cert.pem</strong>.</p>
<p>Make sure that files do not contain other certificates and keys: Alpine Linux does not support mixing client certificates for different repositories.</p>
<p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e7c6138&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e7c6138">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add openssl ca-certificates</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add openssl ca-certificates</span></span></code></pre></div>
</div><p>Add the NGINX signing public key to the directory <code>/etc/apk/keys</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e7f7648&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e7f7648">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -O /etc/apk/keys/nginx_signing.rsa.pub https://cs.nginx.com/static/keys/nginx_signing.rsa.pub</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -O /etc/apk/keys/nginx_signing.rsa.pub https://cs.nginx.com/static/keys/nginx_signing.rsa.pub</span></span></code></pre></div>
</div>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-1" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-1">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e861980&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e861980">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload the <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previously downloaded NGINX repository files from <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e8be9c8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6e8be9c8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
</div><p>Install the required dependencies:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e99d830&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e99d830">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
</div><p>Download the <code>dependencies.repo</code> file to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ea4b958&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ea4b958">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.amazonlinux2023.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.amazonlinux2023.repo</span></span></code></pre></div>
</div>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-2" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-2">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eaecf60&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6eaecf60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previous NGINX repository and apt configuration files:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eb4de28&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6eb4de28">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
</div><p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ebb2f58&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ebb2f58">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 debian-archive-keyring</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 debian-archive-keyring</span></span></code></pre></div>
</div><p>Download and add the NGINX signing key:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ec47a40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ec47a40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
</div><p>Download the apt configuration to <code>/etc/apt/apt.conf.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ec9d940&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ec9d940">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
</div><p>Verify that the downloaded file contains the proper key:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ed32bf8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ed32bf8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
</div><p>The output should contain the full fingerprint <code>573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62</code> as follows:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ed63168&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ed63168">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
</div><p>If the fingerprint is different, remove the file.</p>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-3" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-3">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eaecf60&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6eaecf60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previous NGINX repository and apt configuration files:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eb4de28&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6eb4de28">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
</div><p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ebb2f58&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ebb2f58">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 debian-archive-keyring</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 debian-archive-keyring</span></span></code></pre></div>
</div><p>Download and add the NGINX signing key:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ec47a40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ec47a40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
</div><p>Download the apt configuration to <code>/etc/apt/apt.conf.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ec9d940&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ec9d940">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
</div><p>Verify that the downloaded file contains the proper key:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ed32bf8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ed32bf8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
</div><p>The output should contain the full fingerprint <code>573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62</code> as follows:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ed63168&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ed63168">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
</div><p>If the fingerprint is different, remove the file.</p>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-4" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-4">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6edc76e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6edc76e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previously downloaded NGINX repository files from <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ede6ae0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ede6ae0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
</div><p>Install required dependencies:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee106d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee106d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
</div><p>Download the <code>dependencies.repo</code> file to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee423b8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee423b8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
</div>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-5" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-5">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6edc76e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6edc76e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previously downloaded NGINX repository files from <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ede6ae0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ede6ae0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
</div><p>Install required dependencies:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee106d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee106d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
</div><p>Download the <code>dependencies.repo</code> file to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee423b8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee423b8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
</div>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-6" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-6">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6edc76e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6edc76e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previously downloaded NGINX repository files from <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ede6ae0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ede6ae0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/nginx*.repo
</span></span><span class="line"><span class="cl">sudo rm /etc/yum.repos.d/*app-protect*.repo</span></span></code></pre></div>
</div><p>Install required dependencies:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee106d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee106d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install ca-certificates wget</span></span></code></pre></div>
</div><p>Download the <code>dependencies.repo</code> file to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ee423b8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ee423b8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/dependencies.repo</span></span></code></pre></div>
</div>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-7" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-7">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eecedb8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6eecedb8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previous NGINX repository and apt configuration files:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef11c08&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef11c08">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
</div><p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef3a860&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef3a860">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
</div><p>Download and add the NGINX signing key:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef65bc8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef65bc8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
</div><p>Download the apt configuration to <code>/etc/apt/apt.conf.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef7e650&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef7e650">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
</div><p>Verify that the downloaded file contains the proper key:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef9a3a0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef9a3a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
</div><p>The output should contain the full fingerprint <code>573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62</code> as follows:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6efb0718&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6efb0718">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
</div><p>If the fingerprint is different, remove the file.</p>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-8" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-8">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eecedb8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6eecedb8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previous NGINX repository and apt configuration files:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef11c08&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef11c08">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
</div><p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef3a860&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef3a860">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
</div><p>Download and add the NGINX signing key:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef65bc8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef65bc8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
</div><p>Download the apt configuration to <code>/etc/apt/apt.conf.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef7e650&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef7e650">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
</div><p>Verify that the downloaded file contains the proper key:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef9a3a0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef9a3a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
</div><p>The output should contain the full fingerprint <code>573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62</code> as follows:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6efb0718&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6efb0718">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
</div><p>If the fingerprint is different, remove the file.</p>
</div>
  <div id="offline_common_steps_for_nginx_oss_and_plus-9" class="tab-pane" role="tabpanel" aria-labelledby="offline_common_steps_for_nginx_oss_and_plus-9">
<p>Create the <code>/etc/ssl/nginx/</code> directory:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6eecedb8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6eecedb8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/ssl/nginx</span></span></code></pre></div>
</div><p>Upload <strong>nginx-repo.crt</strong> and <strong>nginx-repo.key</strong> files to the <code>/etc/ssl/nginx/</code> directory.</p>
<p>Remove any previous NGINX repository and apt configuration files:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef11c08&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef11c08">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/nginx*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/sources.list.d/*app-protect*.list
</span></span><span class="line"><span class="cl">sudo rm /etc/apt/apt.conf.d/90pkgs-nginx</span></span></code></pre></div>
</div><p>Install prerequisite packages:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef3a860&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef3a860">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update <span class="o">&amp;&amp;</span> sudo apt-get install apt-transport-https lsb-release ca-certificates wget gnupg2 ubuntu-keyring</span></span></code></pre></div>
</div><p>Download and add the NGINX signing key:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef65bc8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6ef65bc8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget -qO - https://cs.nginx.com/static/keys/nginx_signing.key <span class="p">|</span> gpg --dearmor <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /usr/share/keyrings/nginx-archive-keyring.gpg &gt;/dev/null</span></span></code></pre></div>
</div><p>Download the apt configuration to <code>/etc/apt/apt.conf.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef7e650&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef7e650">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/apt/apt.conf.d https://cs.nginx.com/static/files/90pkgs-nginx</span></span></code></pre></div>
</div><p>Verify that the downloaded file contains the proper key:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6ef9a3a0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6ef9a3a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">gpg --dry-run --quiet --no-keyring --import --import-options import-show /usr/share/keyrings/nginx-archive-keyring.gpg</span></span></code></pre></div>
</div><p>The output should contain the full fingerprint <code>573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62</code> as follows:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6efb0718&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6efb0718">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pub   rsa2048 2011-08-19 [SC] [expires: 2027-05-24]
</span></span><span class="line"><span class="cl">        573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
</span></span><span class="line"><span class="cl">uid                      nginx signing key &lt;signing-key@nginx.com&gt;</span></span></code></pre></div>
</div><p>If the fingerprint is different, remove the file.</p>
</div></div>

<h3 
id="for-nginx-open-source-1">For NGINX Open Source  <a class="headerlink float-right" href="#for-nginx-open-source-1" title="For NGINX Open Source"><i class="fas fa-link fa-xs"></i></a>
</h3><div class="tabs-container">
	<ul class="nav nav-tabs" id="offline_for_nginx_open_source" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#offline_for_nginx_open_source-0" role="tab" aria-controls="offline_for_nginx_open_source-0" aria-selected="true">Alpine Linux 3.16</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-1" role="tab" aria-controls="offline_for_nginx_open_source-1">Alpine Linux 3.17</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-2" role="tab" aria-controls="offline_for_nginx_open_source-2">Alpine Linux 3.19</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-3" role="tab" aria-controls="offline_for_nginx_open_source-3">Amazon Linux 2</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-4" role="tab" aria-controls="offline_for_nginx_open_source-4">Amazon Linux 2023</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-5" role="tab" aria-controls="offline_for_nginx_open_source-5">Debian 11</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-6" role="tab" aria-controls="offline_for_nginx_open_source-6">Debian 12</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-7" role="tab" aria-controls="offline_for_nginx_open_source-7">Oracle Linux 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-8" role="tab" aria-controls="offline_for_nginx_open_source-8">RHEL 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-9" role="tab" aria-controls="offline_for_nginx_open_source-9">RHEL 9</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-10" role="tab" aria-controls="offline_for_nginx_open_source-10">Ubuntu 20.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-11" role="tab" aria-controls="offline_for_nginx_open_source-11">Ubuntu 22.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_open_source-12" role="tab" aria-controls="offline_for_nginx_open_source-12">Ubuntu 24.04</a></li></ul>
</div>
<div class="tab-content" id="offline_for_nginx_open_source"><div id="offline_for_nginx_open_source-0" class="tab-pane show active" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-0">
<p>Set up the apk repository for mainline nginx packages:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0a7838&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f0a7838">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 apk repository:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0c58b0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0c58b0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0db840&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0db840">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f89b670&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f89b670">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-1" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-1">
<p>Set up the apk repository for mainline nginx packages:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0a7838&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f0a7838">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 apk repository:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0c58b0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0c58b0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0db840&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0db840">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f928840&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f928840">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-2" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-2">
<p>Set up the apk repository for mainline nginx packages:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0a7838&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f0a7838">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;%s%s%s\n&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;http://nginx.org/packages/mainline/alpine/v&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="sb">`</span>egrep -o <span class="s1">&#39;^[0-9]+\.[0-9]+&#39;</span> /etc/alpine-release<span class="sb">`</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="s2">&#34;/main&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 apk repository:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0c58b0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0c58b0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-oss/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f0db840&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f0db840">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f964548&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f964548">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-3" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-3">
<ol>
<li>
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>



<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f986828&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f986828">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/amzn2/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/amzn2/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div></li>
<li>
<p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>



<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f9a2578&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f9a2578">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div></li>
<li>
<p>Install the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f9c1d60&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f9c1d60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div><p>When prompted to accept the GPG key, verify that the fingerprint matches <code>573B FD6B 3D8F BC64 1079 A6AB ABF5 BD82 7BD9 BF62</code>, and if so, accept it.</p>
</li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-4" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-4">
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f000858&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f000858">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div><p>Create the NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f023308&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f023308">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package.</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f05ada8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f05ada8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies: We used <code>repotrack</code> for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f700775d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f700775d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f700c3c80&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f700c3c80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-5" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-5">
<p>Add the NGINX Open Source repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1159f0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1159f0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/debian `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/debian `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
</div><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1326e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1326e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f14d878&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f14d878">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f16c0c0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f16c0c0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="4">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7010efa0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f7010efa0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-6" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-6">
<p>Add the NGINX Open Source repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1159f0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1159f0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/debian `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/debian `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
</div><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1326e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1326e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f14d878&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f14d878">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f16c0c0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f16c0c0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="4">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7014d3b8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f7014d3b8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-7" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-7">
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1a8980&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1a8980">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1c5e40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1c5e40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package.</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1e61e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f1e61e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
</div><p>When prompted to accept the GPG key, verify that the fingerprint matches <code>573B FD6B 3D8F BC64 1079 A6AB ABF5 BD82 7BD9 BF62</code>, and if so, accept it.</p>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies: We used <code>repotrack</code> for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f701af608&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f701af608">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f701cceb0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f701cceb0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-8" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-8">
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1a8980&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1a8980">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1c5e40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1c5e40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package.</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1e61e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f1e61e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
</div><p>When prompted to accept the GPG key, verify that the fingerprint matches <code>573B FD6B 3D8F BC64 1079 A6AB ABF5 BD82 7BD9 BF62</code>, and if so, accept it.</p>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies: We used <code>repotrack</code> for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70267f28&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70267f28">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70288a98&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f70288a98">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-9" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-9">
<p>Create the file named <code>/etc/yum.repos.d/nginx.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1a8980&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1a8980">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[nginx-mainline]
</span></span><span class="line"><span class="cl">name=nginx mainline repo
</span></span><span class="line"><span class="cl">baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
</span></span><span class="line"><span class="cl">gpgcheck=1
</span></span><span class="line"><span class="cl">enabled=1
</span></span><span class="line"><span class="cl">gpgkey=https://nginx.org/keys/nginx_signing.key
</span></span><span class="line"><span class="cl">module_hotfixes=true</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-oss.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1c5e40&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f1c5e40">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-oss]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-oss/centos/7/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package.</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f1e61e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f1e61e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum install app-protect-module-oss</span></span></code></pre></div>
</div><p>When prompted to accept the GPG key, verify that the fingerprint matches <code>573B FD6B 3D8F BC64 1079 A6AB ABF5 BD82 7BD9 BF62</code>, and if so, accept it.</p>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies: We used <code>repotrack</code> for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f702b3a18&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f702b3a18">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f702e08d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f702e08d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-10" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-10">
<p>Add the NGINX Open Source repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2343e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2343e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
</div><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2510d0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2510d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f26be80&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f26be80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f28a6c8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f28a6c8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="4">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70343eb0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f70343eb0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-11" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-11">
<p>Add the NGINX Open Source repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2343e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2343e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
</div><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2510d0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2510d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f26be80&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f26be80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f28a6c8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f28a6c8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="4">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70381710&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f70381710">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_open_source-12" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_open_source-12">
<p>Add the NGINX Open Source repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2343e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2343e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx.list</span></span></code></pre></div>
</div><p>Set up repository pinning to prefer our packages over distribution-provided ones:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f2510d0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f2510d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/preferences.d/99nginx</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f26be80&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f26be80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-oss/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f28a6c8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f28a6c8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div>
<ol start="4">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7040a678&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f7040a678">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances nginx=1.25.5-1~`lsb_release -cs` app-protect-module-oss | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div></div>

<h3 
id="for-nginx-plus-1">For NGINX Plus  <a class="headerlink float-right" href="#for-nginx-plus-1" title="For NGINX Plus"><i class="fas fa-link fa-xs"></i></a>
</h3><p>To use NGINX Plus, you will need to download the the JWT license file associated with your NGINX Plus subscription from the MyF5 Customer Portal:</p>
<ol>
<li>Log in to <a href="https://my.f5.com/manage/s/" target="_blank" rel="noopener">MyF5</a>.</li>
<li>Go to <strong>My Products &amp; Plans &gt; Subscriptions</strong> to see your active subscriptions.</li>
<li>Find your NGINX products or services subscription, and select the <strong>Subscription ID</strong> for details.</li>
<li>Download the <strong>JSON Web Token</strong> from the subscription page.</li>
</ol>

<p>Once you have the license file:</p>
<ol>
<li>
<p>Copy the license file to <code>/etc/nginx/license.jwt</code> on Linux or <code>/usr/local/etc/nginx/license.jwt</code> on FreeBSD for each NGINX Plus instance.</p>
</li>
<li>
<p>Reload NGINX:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f30ad78&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f30ad78">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">systemctl reload nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">systemctl reload nginx</span></span></code></pre></div>
</div></li>
</ol>
<p><strong>If SELinux is enabled</strong>:</p>
<p>Set the correct file context so NGINX can read the license:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f320150&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f320150">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">chcon -t httpd_config_t /etc/nginx/license.jwt</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">chcon -t httpd_config_t /etc/nginx/license.jwt</span></span></code></pre></div>
</div>
<p>Then you can move onto the next step, depending on your chosen operating system.</p>
<div class="tabs-container">
	<ul class="nav nav-tabs" id="offline_for_nginx_plus" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#offline_for_nginx_plus-0" role="tab" aria-controls="offline_for_nginx_plus-0" aria-selected="true">Alpine Linux 3.16/3.17/3.19</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-1" role="tab" aria-controls="offline_for_nginx_plus-1">Amazon Linux 2023</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-2" role="tab" aria-controls="offline_for_nginx_plus-2">Debian 11</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-3" role="tab" aria-controls="offline_for_nginx_plus-3">Debian 12</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-4" role="tab" aria-controls="offline_for_nginx_plus-4">Oracle Linux 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-5" role="tab" aria-controls="offline_for_nginx_plus-5">RHEL 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-6" role="tab" aria-controls="offline_for_nginx_plus-6">RHEL 9</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-7" role="tab" aria-controls="offline_for_nginx_plus-7">Ubuntu 20.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-8" role="tab" aria-controls="offline_for_nginx_plus-8">Ubuntu 22.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_for_nginx_plus-9" role="tab" aria-controls="offline_for_nginx_plus-9">Ubuntu 24.04</a></li></ul>
</div>
<div class="tab-content" id="offline_for_nginx_plus"><div id="offline_for_nginx_plus-0" class="tab-pane show active" role="tabpanel" aria-labelledby="offline_for_nginx_plus-0">
<p>Add the NGINX Plus apk repository to <code>/etc/apk/repositories</code> file:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f351660&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f351660">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f36db80&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f36db80">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;https://pkgs.nginx.com/app-protect-x-plus/alpine/v`egrep -o &#39;^[0-9]+\.[0-9]+&#39; /etc/alpine-release`/main\n&#34;</span> <span class="p">|</span> sudo tee -a /etc/apk/repositories</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f382f58&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f382f58">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk add app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Plus packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70480d00&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f70480d00">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">sudo apk update
</span></span><span class="line"><span class="cl">sudo apk fetch --recursive --output /etc/packages app-protect-module-plus</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-1" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-1">
<p>Download the NGINX Plus repository file <a href="https://cs.nginx.com/static/files/plus-amazonlinux2023.repo" target="_blank" rel="noopener">plus-amazonlinux2023.repo</a> to <code>/etc/yum.repos.d</code>:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f3ebf08&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f3ebf08">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/plus-amazonlinux2023.repo</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo wget -P /etc/yum.repos.d https://cs.nginx.com/static/files/plus-amazonlinux2023.repo</span></span></code></pre></div>
</div><p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-plus.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f412838&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f412838">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/amzn/2023/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f42d200&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f42d200">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Plus packages, including all dependencies: We used repotrack for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f704e8158&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f704e8158">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7051b5a8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f7051b5a8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-2" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-2">
<p>Add the NGINX Plus repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f46aa60&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f46aa60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f49a030&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f49a030">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f4c6720&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f4c6720">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f705831d0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f705831d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-3" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-3">
<p>Add the NGINX Plus repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f46aa60&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f46aa60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f49a030&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f49a030">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/debian `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f4c6720&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f4c6720">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f705cc5b0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f705cc5b0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-4" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-4">
<p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-plus.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f517418&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f517418">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f552568&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f552568">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Plus packages, including all dependencies: We used repotrack for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f705ef830&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f705ef830">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7060a5e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f7060a5e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-5" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-5">
<p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-plus.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f517418&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f517418">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f552568&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f552568">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Plus packages, including all dependencies: We used repotrack for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70633df0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70633df0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f706489f8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f706489f8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-6" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-6">
<p>Create NGINX App Protect WAF v5 repository file, named <code>/etc/yum.repos.d/app-protect-x-plus.repo</code> with the following contents:</p>
<div class="code-block" data-mf="true" style="display: none;"><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f517418&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f517418">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[app-protect-x-plus]
</span></span><span class="line"><span class="cl">name=nginx-app-protect repo
</span></span><span class="line"><span class="cl">baseurl=https://pkgs.nginx.com/app-protect-x-plus/centos/8/$basearch/
</span></span><span class="line"><span class="cl">sslclientcert=/etc/ssl/nginx/nginx-repo.crt
</span></span><span class="line"><span class="cl">sslclientkey=/etc/ssl/nginx/nginx-repo.key
</span></span><span class="line"><span class="cl">gpgcheck=0
</span></span><span class="line"><span class="cl">enabled=1</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f552568&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6f552568">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Plus packages, including all dependencies: We used repotrack for example:</p>
<p>Install yum-utils</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70673d60&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70673d60">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf install yum-utils</span></span></code></pre></div>
</div><p>For this test deployment we download the packages inside <code>/etc/packages/</code></p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">script</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7068d788&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f7068d788">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo mkdir /etc/packages/
</span></span><span class="line"><span class="cl">cd /etc/packages/
</span></span><span class="line"><span class="cl">sudo repotrack --forcearch x86_64 app-protect-module-plus</span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-7" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-7">
<p>Add the NGINX Plus repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f5e8ba8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f5e8ba8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f6077d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f6077d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f625468&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f625468">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f706d4458&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f706d4458">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-8" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-8">
<p>Add the NGINX Plus repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f5e8ba8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f5e8ba8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f6077d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f6077d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f625468&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f625468">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f707147b0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f707147b0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo bash -c <span class="s1">&#39;for i in $(apt-cache depends --recurse --no-recommends --no-suggests --no-conflicts --no-breaks --no-replaces --no-enhances app-protect-module-plus | grep &#34;^\w&#34; | sort -u); do apt-get download $i; done 2&gt;&gt;/etc/packages/errors.txt&#39;</span></span></span></code></pre></div>
</div></li>
</ol>
</div>
  <div id="offline_for_nginx_plus-9" class="tab-pane" role="tabpanel" aria-labelledby="offline_for_nginx_plus-9">
<p>Add the NGINX Plus repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f5e8ba8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f5e8ba8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div><p>Add the NGINX App Protect WAF v5 repository:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f6077d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f6077d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \
</span></span></span><span class="line"><span class="cl"><span class="s2">https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div><p>Install the NGINX App Protect WAF v5 package:</p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f625468&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f625468">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div>
<ol start="3">
<li>
<p>Download all NGINX Open Source packages, including all dependencies:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70753398&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f70753398">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install nginx app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/packages/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/packages/
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install nginx app-protect-module-oss</span></span></code></pre></div>
</div></li>
</ol>
</div></div>

<h4 
id="for-nginx-plus-2">For NGINX Plus  <a class="headerlink float-right" href="#for-nginx-plus-2" title="For NGINX Plus"><i class="fas fa-link fa-xs"></i></a>
</h4><ol>
<li>
<p>Add the NGINX Plus repository:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6dfd2ad0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6dfd2ad0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] https://pkgs.nginx.com/plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/nginx-plus.list</span></span></code></pre></div>
</div></li>
<li>
<p>Add the NGINX App Protect WAF v5 repository:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e0266a8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e0266a8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">printf</span> <span class="s2">&#34;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] https://pkgs.nginx.com/app-protect-x-plus/ubuntu `lsb_release -cs` nginx-plus\n&#34;</span> <span class="p">|</span> sudo tee /etc/apt/sources.list.d/nginx-app-protect.list</span></span></code></pre></div>
</div></li>
<li>
<p>Install the NGINX App Protect WAF v5 package.</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e0792e0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6e0792e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install app-protect-module-plus</span></span></code></pre></div>
</div></li>
</ol>
<h3 
id="nginx-configuration-1">NGINX Configuration  <a class="headerlink float-right" href="#nginx-configuration-1" title="NGINX Configuration"><i class="fas fa-link fa-xs"></i></a>
</h3><p>In your NGINX configuration:</p>
<ol>
<li>
<p>Load the NGINX App Protect WAF v5 module at the main context:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e0ba5d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e0ba5d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span></span></span></code></pre></div>
</div></li>
<li>
<p>Configure the Enforcer address at the <code>http</code> context:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e0ed640&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e0ed640">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span></span></span></code></pre></div>
</div></li>
<li>
<p>Enable NGINX App Protect WAF on an <code>http/server/location</code> context (make sure you only enable NGINX App Protect WAF with <code>proxy_pass</code>/<code>grpc_pass</code> locations):</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e1229d0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e1229d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enable</span> <span class="no">on</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">app_protect_enable</span> <span class="no">on</span><span class="p">;</span></span></span></code></pre></div>
</div></li>
</ol>
<p>In this guide, the following files are used on the offline/air-gap machine:</p>
<div class="tabs-container">
	<ul class="nav nav-tabs" id="offline_nap5_install_conf_files_localhost" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#offline_nap5_install_conf_files_localhost-0" role="tab" aria-controls="offline_nap5_install_conf_files_localhost-0" aria-selected="true">nginx.conf</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#offline_nap5_install_conf_files_localhost-1" role="tab" aria-controls="offline_nap5_install_conf_files_localhost-1">default.conf</a></li></ul>
</div>
<div class="tab-content" id="offline_nap5_install_conf_files_localhost"><div id="offline_nap5_install_conf_files_localhost-0" class="tab-pane show active" role="tabpanel" aria-labelledby="offline_nap5_install_conf_files_localhost-0">
<p><code>/etc/nginx/nginx.conf</code></p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f6a0140&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f6a0140">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">user</span>  <span class="s">nginx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">worker_processes</span>  <span class="s">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">error_log</span>  <span class="s">/var/log/nginx/error.log</span> <span class="s">notice</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">pid</span>        <span class="s">/var/run/nginx.pid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">events</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">worker_connections</span>  <span class="mi">1024</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">include</span>       <span class="s">/etc/nginx/mime.types</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">default_type</span>  <span class="s">application/octet-stream</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">log_format</span>  <span class="s">main</span>  <span class="s">&#39;</span><span class="nv">$remote_addr</span> <span class="s">-</span> <span class="nv">$remote_user</span> <span class="s">[</span><span class="nv">$time_local]</span> <span class="s">&#34;</span><span class="nv">$request&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;</span><span class="nv">$status</span> <span class="nv">$body_bytes_sent</span> <span class="s">&#34;</span><span class="nv">$http_referer&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;&#34;</span><span class="nv">$http_user_agent&#34;</span> <span class="s">&#34;</span><span class="nv">$http_x_forwarded_for&#34;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">access_log</span>  <span class="s">/var/log/nginx/access.log</span>  <span class="s">main</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">sendfile</span>        <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#tcp_nopush     on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">keepalive_timeout</span>  <span class="mi">65</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#gzip  on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">include</span> <span class="s">/etc/nginx/conf.d/*.conf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">user</span>  <span class="s">nginx</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">worker_processes</span>  <span class="s">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">load_module</span> <span class="s">modules/ngx_http_app_protect_module.so</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">error_log</span>  <span class="s">/var/log/nginx/error.log</span> <span class="s">notice</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">pid</span>        <span class="s">/var/run/nginx.pid</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">events</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">worker_connections</span>  <span class="mi">1024</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">include</span>       <span class="s">/etc/nginx/mime.types</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">default_type</span>  <span class="s">application/octet-stream</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">log_format</span>  <span class="s">main</span>  <span class="s">&#39;</span><span class="nv">$remote_addr</span> <span class="s">-</span> <span class="nv">$remote_user</span> <span class="s">[</span><span class="nv">$time_local]</span> <span class="s">&#34;</span><span class="nv">$request&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;</span><span class="nv">$status</span> <span class="nv">$body_bytes_sent</span> <span class="s">&#34;</span><span class="nv">$http_referer&#34;</span> <span class="s">&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="s">&#39;&#34;</span><span class="nv">$http_user_agent&#34;</span> <span class="s">&#34;</span><span class="nv">$http_x_forwarded_for&#34;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">access_log</span>  <span class="s">/var/log/nginx/access.log</span>  <span class="s">main</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">sendfile</span>        <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#tcp_nopush     on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">keepalive_timeout</span>  <span class="mi">65</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">#gzip  on;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">app_protect_enforcer_address</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">50000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">include</span> <span class="s">/etc/nginx/conf.d/*.conf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>
</div>
  <div id="offline_nap5_install_conf_files_localhost-1" class="tab-pane" role="tabpanel" aria-labelledby="offline_nap5_install_conf_files_localhost-1">
<p><code>/etc/nginx/conf.d/default.conf</code></p>
<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6f7094d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6f7094d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">domain.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">app_protect_enable</span> <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">client_max_body_size</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">default_type</span> <span class="s">text/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8080/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">8080</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">localhost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># redirect server error pages to the static page /50x.html
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">#
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">error_page</span> <span class="mi">500</span> <span class="mi">502</span> <span class="mi">503</span> <span class="mi">504</span> <span class="s">/50x.html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">=</span> <span class="s">/50x.html</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">domain.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># NGINX App Protect WAF
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">app_protect_enable</span> <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">client_max_body_size</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">default_type</span> <span class="s">text/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8080/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">8080</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">localhost</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># redirect server error pages to the static page /50x.html
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">#
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">error_page</span> <span class="mi">500</span> <span class="mi">502</span> <span class="mi">503</span> <span class="mi">504</span> <span class="s">/50x.html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">=</span> <span class="s">/50x.html</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">root</span> <span class="s">/usr/share/nginx/html</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>
</div></div>

<h3 
id="waf-services-configuration-1">WAF Services Configuration  <a class="headerlink float-right" href="#waf-services-configuration-1" title="WAF Services Configuration"><i class="fas fa-link fa-xs"></i></a>
</h3><h4 
id="permissions-1">Permissions  <a class="headerlink float-right" href="#permissions-1" title="Permissions"><i class="fas fa-link fa-xs"></i></a>
</h4><p>Set up the directories with the correct ownership for NGINX App Protect WAF v5 services, where <code>101:101</code> are the default UID/GID.</p>
<p>Create Directories:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e1c6ad0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e1c6ad0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /opt/app_protect/config /opt/app_protect/bd_config</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /opt/app_protect/config /opt/app_protect/bd_config</span></span></code></pre></div>
</div><p>Set Ownership:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e2121d8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e2121d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo chown -R 101:101 /opt/app_protect/</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo chown -R 101:101 /opt/app_protect/</span></span></code></pre></div>
</div><h4 
id="set-up-docker-for-f5-container-registry-1">Set up Docker for F5 Container Registry  <a class="headerlink float-right" href="#set-up-docker-for-f5-container-registry-1" title="Set up Docker for F5 Container Registry"><i class="fas fa-link fa-xs"></i></a>
</h4><p>Configure Docker to interact with the F5 Container Registry at <code>private-registry.nginx.com</code>:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6d9bdca8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6d9bdca8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/docker/certs.d/private-registry.nginx.com
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.crt&gt; /etc/docker/certs.d/private-registry.nginx.com/client.cert
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.key&gt; /etc/docker/certs.d/private-registry.nginx.com/client.key</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /etc/docker/certs.d/private-registry.nginx.com
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.crt&gt; /etc/docker/certs.d/private-registry.nginx.com/client.cert
</span></span><span class="line"><span class="cl">sudo cp &lt;path-to-your-nginx-repo.key&gt; /etc/docker/certs.d/private-registry.nginx.com/client.key</span></span></code></pre></div>
</div><blockquote class="note">
  <div><strong>Note:</strong><br/> Please note that the file extension for the certificate file has changed from <code>.crt</code> to <code>.cert</code></div>
</blockquote>


<h4 
id="download-waf-enforcer-and-waf-config-mgr-images">Download waf-enforcer and waf-config-mgr Images  <a class="headerlink float-right" href="#download-waf-enforcer-and-waf-config-mgr-images" title="Download waf-enforcer and waf-config-mgr Images"><i class="fas fa-link fa-xs"></i></a>
</h4><p>Pull the <code>waf-enforcer</code> and <code>waf-config-mgr</code> images. Replace <code>5.2.0</code> with the actual release version you are deploying.</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e27b188&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6e27b188">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull private-registry.nginx.com/nap/waf-enforcer:5.2.0
</span></span><span class="line"><span class="cl">docker pull private-registry.nginx.com/nap/waf-config-mgr:5.2.0</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull private-registry.nginx.com/nap/waf-enforcer:5.2.0
</span></span><span class="line"><span class="cl">docker pull private-registry.nginx.com/nap/waf-config-mgr:5.2.0</span></span></code></pre></div>
</div><h4 
id="saving-and-transferring-images">Saving and Transferring Images  <a class="headerlink float-right" href="#saving-and-transferring-images" title="Saving and Transferring Images"><i class="fas fa-link fa-xs"></i></a>
</h4><ol>
<li>
<p>Save the <code>waf-enforcer</code> docker image:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e2cd5f0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e2cd5f0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker save -o waf-enforcer.tar waf-enforcer:5.2.0</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker save -o waf-enforcer.tar waf-enforcer:5.2.0</span></span></code></pre></div>
</div></li>
<li>
<p>Save the <code>waf-config-mgr</code> docker image:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e310828&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e310828">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker save -o waf-config-mgr.tar waf-config-mgr:5.2.0</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker save -o waf-config-mgr.tar waf-config-mgr:5.2.0</span></span></code></pre></div>
</div></li>
<li>
<p>Transfer the tar files from the online machine to the offline/air-gapped machine:</p>
</li>
<li>
<p>On the offline machine load the docker images:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e362c90&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6e362c90">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker load -i waf-enforcer.tar
</span></span><span class="line"><span class="cl">docker load -i waf-config-mgr.tar</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker load -i waf-enforcer.tar
</span></span><span class="line"><span class="cl">docker load -i waf-config-mgr.tar</span></span></code></pre></div>
</div></li>
</ol>
<h4 
id="docker-compose-file-1">Docker Compose File  <a class="headerlink float-right" href="#docker-compose-file-1" title="Docker Compose File"><i class="fas fa-link fa-xs"></i></a>
</h4><p>Create a <code>docker-compose.yml</code> with the following configuration on the offline machine:</p>
<p>Replace <code>waf-enforcer</code> and <code>waf-config-mgr</code> tag with the actual release version tag you are deploying. We are using version <code>5.2.0</code> for this example deployment.</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">yaml</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e44c6d8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f6e44c6d8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-enforcer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">waf-enforcer:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">ENFORCER_PORT=50000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;50000:50000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">waf_network</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-config-mgr</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/config:/opt/app_protect/config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/etc/app_protect/conf:/etc/app_protect/conf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">network_mode</span><span class="p">:</span><span class="w"> </span><span class="l">none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l">service_started</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf_network</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">bridge</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-enforcer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">waf-enforcer:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">ENFORCER_PORT=50000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;50000:50000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">waf_network</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf-config-mgr</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">waf-config-mgr:5.2.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/bd_config:/opt/app_protect/bd_config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/opt/app_protect/config:/opt/app_protect/config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/etc/app_protect/conf:/etc/app_protect/conf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">network_mode</span><span class="p">:</span><span class="w"> </span><span class="l">none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">waf-enforcer</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l">service_started</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf_network</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">bridge</span></span></span></code></pre></div>
</div><blockquote class="note">
  <div><strong>Note:</strong><br/> In some operating systems, security mechanisms like <strong>SELinux</strong> or <strong>AppArmor</strong> are enabled by default, potentially blocking necessary file access for the <code>nginx</code> process and <code>waf-config-mgr</code> and <code>waf-enforcer</code> containers. To ensure NGINX App Protect WAF v5 operates smoothly without compromising security, consider setting up a custom SELinux policy or AppArmor profile. For short-term troubleshooting, you may use <code>permissive</code> (SELinux) or <code>complain</code> (AppArmor) mode to avoid these restrictions, but keep in mind that this lowers security and isn&rsquo;t advised for prolonged use.</div>
</blockquote>

<h3 
id="start-the-deployment-1">Start the Deployment  <a class="headerlink float-right" href="#start-the-deployment-1" title="Start the Deployment"><i class="fas fa-link fa-xs"></i></a>
</h3><ol>
<li>
<p>To start the WAF services, navigate to the directory that contains the <code>docker-compose.yml</code> file and run:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e4c6028&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e4c6028">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo docker compose up -d</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo docker compose up -d</span></span></code></pre></div>
</div></li>
<li>
<p>To start the NGINX, run:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e4fea68&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e4fea68">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo nginx</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo nginx</span></span></code></pre></div>
</div></li>
<li>
<p>To verify the enforcement functionality, ensure the following request is rejected:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e5322a0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e5322a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl <span class="s2">&#34;localhost/&lt;script&gt;&#34;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl <span class="s2">&#34;localhost/&lt;script&gt;&#34;</span></span></span></code></pre></div>
</div></li>
</ol>
<h2 
id="uninstall-nginx-and-nginx-app-protect-waf-module">Uninstall NGINX and NGINX App Protect WAF module  <a class="headerlink float-right" href="#uninstall-nginx-and-nginx-app-protect-waf-module" title="Uninstall NGINX and NGINX App Protect WAF module"><i class="fas fa-link fa-xs"></i></a>
</h2><p>Stop the docker deployment and uninstall the NGINX packages.</p>
<h3 
id="stop-the-docker-deployment">Stop the Docker Deployment  <a class="headerlink float-right" href="#stop-the-docker-deployment" title="Stop the Docker Deployment"><i class="fas fa-link fa-xs"></i></a>
</h3><p>To stop the WAF services, navigate to the directory that contains the <code>docker-compose.yml</code> file and run:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f6e57ba68&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f6e57ba68">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo docker compose stop</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo docker compose stop</span></span></code></pre></div>
</div><h3 
id="uninstall-the-nginx-app-protect-waf-v5-package">Uninstall the NGINX App Protect WAF v5 Package  <a class="headerlink float-right" href="#uninstall-the-nginx-app-protect-waf-v5-package" title="Uninstall the NGINX App Protect WAF v5 Package"><i class="fas fa-link fa-xs"></i></a>
</h3><div class="tabs-container">
	<ul class="nav nav-tabs" id="uninstall_nginx_and_nginx_nap" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#uninstall_nginx_and_nginx_nap-0" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-0" aria-selected="true">Alpine Linux 3.16/3.17/3.19</a></li>
		
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-1" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-1">Amazon Linux 2</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-2" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-2">Centos 7.4&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-3" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-3">Debian 11</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-4" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-4">Debian 12</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-5" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-5">Oracle Linux 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-6" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-6">RHEL 7.4&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-7" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-7">RHEL 8.1&#43;</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-8" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-8">RHEL 9</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-9" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-9">Ubuntu 20.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-10" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-10">Ubuntu 22.04</a></li>
			<li class="nav-item"><a data-toggle="tab" class="nav-link" href="#uninstall_nginx_and_nginx_nap-11" role="tab" aria-controls="uninstall_nginx_and_nginx_nap-11">Ubuntu 24.04</a></li></ul>
</div>
<div class="tab-content" id="uninstall_nginx_and_nginx_nap"><div id="uninstall_nginx_and_nginx_nap-0" class="tab-pane show active" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-0">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70803018&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70803018">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk del app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk del app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7081baa0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f7081baa0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk del app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apk del app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-1" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-1">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70860830&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1f70860830">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-oss
</span></span><span class="line"><span class="cl">sudo apt-get remove <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-oss
</span></span><span class="line"><span class="cl">sudo apt-get remove <span class="nv">nginx</span><span class="o">=</span>1.25.5-1~<span class="sb">`</span>lsb_release -cs<span class="sb">`</span> app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7088fa18&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f7088fa18">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-2" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-2">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f708aaf98&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f708aaf98">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f708bf7b8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f708bf7b8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-3" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-3">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f708f85e0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f708f85e0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7090c248&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f7090c248">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-4" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-4">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7093d758&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f7093d758">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70952748&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70952748">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-5" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-5">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7096aa00&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f7096aa00">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f7097f608&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f7097f608">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-6" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-6">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f709a0948&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f709a0948">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f709c0ce8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f709c0ce8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo yum remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-7" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-7">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70a075d0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70a075d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70a334f0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70a334f0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-8" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-8">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70a4c360&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70a4c360">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70a5ffc8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70a5ffc8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo dnf remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-9" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-9">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70a7ebf8&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70a7ebf8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70aa5528&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70aa5528">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-10" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-10">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70ace950&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70ace950">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70ae6ff0&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70ae6ff0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
</div></div>
  <div id="uninstall_nginx_and_nginx_nap-11" class="tab-pane" role="tabpanel" aria-labelledby="uninstall_nginx_and_nginx_nap-11">
<p>For NGINX Open Source
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70b00248&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70b00248">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-oss</span></span></code></pre></div>
</div><p>For NGINX Plus
Uninstall the NGINX App Protect WAF v5 package:</p>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1f70b15238&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1f70b15238">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt-get remove app-protect-module-plus</span></span></code></pre></div>
</div></div></div>


        
        

        <hr>
  
        
        <div class="last-modified">
          
<div>
    <a href="https://github.com/nginx/documentation//tree/main/content/nap-waf/v5/admin-guide/install.md" class="" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View source</a>
  </div>
  <div>
    <a href="https://github.com/nginx/documentation//edit/main/content/nap-waf/v5/admin-guide/install.md" class="" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  </div>
  <div>
    <a href="https://github.com/nginx/documentation//issues/new?title=Installing%20NGINX%20App%20Protect%20WAF&amp;template=2-bug_report.md" class="" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create a new issue</a>
  </div>



        </div>
        

        
         
<script type='text/javascript'> 
    (function(){var g=function(e,h,f,g){ 
        this.get=function(a){
            for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){
                for(var d=c[b];" "==d.charAt(0);)
                    d=d.substring(1,d.length);
                    if(0==d.indexOf(a))
                        return d.substring(a.length,d.length)
            }
            return null
        }; 
        
        this.set=function(a,c){
            var b="",b=new Date;
            b.setTime(b.getTime()+6048E5);
            b="; expires="+b.toGMTString();
            document.cookie=a+"="+c+b+"; path=/; "
        }; 
        
        this.check=function(){
            var a=this.get(f);
            if(a)
                a=a.split(":");
            else if(100!=e)
                "v"==h&&(e=Math.random()>=e/100?0:100),
                a=[h,e,0],
                this.set(f,a.join(":"));
            else 
                return!0;
            var c=a[1];
            if(100==c)
                return!0;
            switch(a[0]){
                case "v":
                    return!1;
                case "r":
                    return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c
            }
            return!0
        }; 

        this.go=function(){
            if(this.check()){
                var a=document.createElement("script");
                a.type="text/javascript";
                a.src=g;
                document.body&&document.body.appendChild(a)
            }
        };

        this.start=function(){
            var t=this;
            "complete"!==document.readyState?window.addEventListener ?
                window.addEventListener("load",function(){t.go()},!1) : 
                window.attachEvent&&window.attachEvent("onload",function(){t.go()}):t.go()};
    }; 

    try{
        const project_id = window.location.hostname.includes("staging") ? "QSI_S_ZN_2YG73ads2zp5bN0" : "QSI_S_ZN_2QSTn2r41YlXrYk";
        const endpoint = window.location.hostname.includes("staging") ? "https://zn2yg73ads2zp5bn0-f5.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_2YG73ads2zp5bN0" : "https://zn2qstn2r41ylxryk-f5.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_2QSTn2r41YlXrYk";
        (new g(100,"r", project_id, endpoint)).start()
    }
    catch(i){}})();

    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector(".qualtrics-feedback").id = window.location.hostname.includes("staging") ? "ZN_2YG73ads2zp5bN0" : "ZN_2QSTn2r41YlXrYk"
    });
</script>
<hr>
<div style="height: 60px;"></div>
<div class="qualtrics-feedback" id='ZN_2QSTn2r41YlXrYk'></div>


        

	
<div class="container flex">
	<ul class="next-prev-icon">

		
		
		<li style="flex:1; text-align: left; white-space: nowrap;"><a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/overview/" class="" title="Previous -- NGINX App Protect WAF Administration Guide "><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.378 46.5L1.94 25.06C1.80067 24.9209 1.69014 24.7556 1.61472 24.5738C1.53931 24.3919 1.50049 24.1969 1.50049 24C1.50049 23.8031 1.53931 23.6081 1.61472 23.4262C1.69014 23.2444 1.80067 23.0791 1.94 22.94L23.378 1.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M45.878 46.5L24.44 25.06C24.3007 24.9209 24.1901 24.7556 24.1147 24.5738C24.0393 24.3919 24.0005 24.1969 24.0005 24C24.0005 23.8031 24.0393 23.6081 24.1147 23.4262C24.1901 23.2444 24.3007 23.0791 24.44 22.94L45.878 1.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a></li>
		

		
			<li style="flex:1; text-align: right; white-space: nowrap;"><a href="http://localhost:1313/nginx-app-protect-waf/v5/admin-guide/deploy-with-helm/" class="" title="Next -- Deploy NGINX App Protect WAF with Helm"><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.622 1.5L46.06 22.94C46.1993 23.0791 46.3099 23.2444 46.3853 23.4262C46.4607 23.6081 46.4995 23.8031 46.4995 24C46.4995 24.1969 46.4607 24.3919 46.3853 24.5738C46.3099 24.7556 46.1993 24.9209 46.06 25.06L24.622 46.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.122 1.5L23.56 22.94C23.6993 23.0791 23.8099 23.2444 23.8853 23.4262C23.9607 23.6081 23.9995 23.8031 23.9995 24C23.9995 24.1969 23.9607 24.3919 23.8853 24.5738C23.8099 24.7556 23.6993 24.9209 23.56 25.06L2.122 46.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a></li>
		
		</ul>
	</div>

        </main>
        
          
            <div id="toc" class="col-md-3 d-none d-xl-block d-print-none nginx-toc align-top">
            <nav class="bd-links" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <h3 class="bd-toc-link">What's on This Page</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#install-nginx-and-nginx-app-protect-waf-module">Install NGINX and NGINX App Protect WAF Module</a>
      <ul>
        <li><a href="#common-steps-for-nginx-open-source-and-nginx-plus">Common Steps for NGINX Open Source and NGINX Plus</a></li>
        <li><a href="#for-nginx-open-source">For NGINX Open Source</a></li>
        <li><a href="#for-nginx-plus">For NGINX Plus</a></li>
      </ul>
    </li>
    <li><a href="#nginx-configuration">NGINX Configuration</a></li>
    <li><a href="#waf-services-configuration">WAF Services Configuration</a>
      <ul>
        <li><a href="#permissions">Permissions</a></li>
        <li><a href="#set-up-docker-for-f5-container-registry">Set up Docker for F5 Container Registry</a></li>
        <li><a href="#docker-compose-file">Docker Compose File</a></li>
      </ul>
    </li>
    <li><a href="#start-the-deployment">Start the Deployment</a></li>
    <li><a href="#using-policy-and-logging-profile-bundles">Using Policy and Logging Profile Bundles</a></li>
    <li><a href="#air-gap-install-secure-offline-installation">Air-Gap Install: Secure Offline Installation</a>
      <ul>
        <li><a href="#install-nginx-and-nginx-app-protect-waf-module-1">Install NGINX and NGINX App Protect WAF module</a></li>
        <li><a href="#common-steps-for-nginx-open-source-and-nginx-plus-1">Common Steps for NGINX Open Source and NGINX Plus</a></li>
        <li><a href="#for-nginx-open-source-1">For NGINX Open Source</a></li>
        <li><a href="#for-nginx-plus-1">For NGINX Plus</a></li>
        <li><a href="#nginx-configuration-1">NGINX Configuration</a></li>
        <li><a href="#waf-services-configuration-1">WAF Services Configuration</a></li>
        <li><a href="#start-the-deployment-1">Start the Deployment</a></li>
      </ul>
    </li>
    <li><a href="#uninstall-nginx-and-nginx-app-protect-waf-module">Uninstall NGINX and NGINX App Protect WAF module</a>
      <ul>
        <li><a href="#stop-the-docker-deployment">Stop the Docker Deployment</a></li>
        <li><a href="#uninstall-the-nginx-app-protect-waf-v5-package">Uninstall the NGINX App Protect WAF v5 Package</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</nav>
            </div>
          
        
        
      </div>
    </section>
  </section>
</div>




      </div>
  </section>

    <footer id="footer">
      
      <footer id="footer">
  <div class="container-fluid">
    <div class="row align-items-center">
      <div class="col-md-6 d-md-flex">
        <img class="nginx-logo-footer" src="http://localhost:1313/images/icons/NGINX-Part-of-F5-horiz-all-white-525x208@2x.png"/>
      </div>
    </div>

    
    <div class="row d-print-none d-none d-md-flex">
      <div class="col-md-3 d-none d-md-block">
        <span class="footer-head">Company</span>
        <ul class="footer-text">
          <li>
            <a
              href="https://www.f5.com/go/product/welcome-to-nginx"
              target="_blank"
              alt="Select to learn about F5 NGINX"
              >About F5 NGINX</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/company/events"
              target="_blank"
              alt="Select to learn about F5 events"
              >Events</a
            >
          </li>
        </ul>
        <br />
        <span class="footer-head">Resources</span>
        <ul class="footer-text">
          <li>
            <a
              href="https://www.f5.com/company/blog/nginx"
              target="_blank"
              alt="Select to visit the F5 NGINX blog"
              >Blog</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/go/faq/nginx-faq"
              target="_blank"
              alt="Select to visit the F5 NGINX frequently asked questions page"
              >FAQ</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/services"
              target="_blank"
              alt="Select to learn about F5 NGINX Support"
              >Professional Services</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/learn/training"
              target="_blank"
              alt="Select to learn about F5 training offerings"
              >Training</a
            >
          </li>
        </ul>
      </div>

      <div class="col-md-3 d-none d-md-block">
        <span class="footer-head">Products</span>
        <ul class="footer-text">
          <li>
            <a
              title="F5 NGINX One"
              aria-label="F5 NGINX One"
              href="https://www.f5.com/products/nginx/one"
              >F5 NGINX One</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Plus"
              aria-label="F5 NGINX Plus"
              href="https://www.f5.com/products/nginx/nginx-plus"
              >F5 NGINX Plus</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX App Protect"
              aria-label="F5 NGINX App Protect"
              href="https://www.f5.com/products/nginx/nginx-app-protect"
              >F5 NGINX App Protect</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Instance Manager"
              aria-label="F5 NGINX Instance Manager"
              href="https://www.f5.com/products/nginx/instance-manager"
              >F5 NGINX Instance Manager</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Ingress Controller"
              aria-label="F5 NGINX Ingress Controller"
              href="https://www.f5.com/products/nginx/nginx-ingress-controller"
              >F5 NGINX Ingress Controller</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Gateway Fabric"
              aria-label="F5 NGINX Gateway Fabric"
              href="https://www.f5.com/products/nginx/nginx-gateway-fabric"
              >F5 NGINX Gateway Fabric</a
            >
          </li>
          <li>
            <a
              title="F5 NGINXaaS for Azure"
              aria-label="F5 NGINXaaS for Azure"
              href="https://www.f5.com/products/nginx/f5-nginxaas-for-azure"
              >F5 NGINXaaS for Azure</a
            >
          </li>
        </ul>
      </div>

      <div class="col-md-3 d-none d-md-block">
        <span class="footer-head">NGINX on GitHub</span>
        <ul class="footer-text">
          <li>
            <a
              title="NGINX Open Source"
              aria-label="NGINX Open Source"
              href="https://github.com/nginx/nginx"
              ><span class="inner">NGINX Open Source</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Unit"
              aria-label="NGINX Unit"
              href="https://github.com/nginx/unit"
              ><span class="inner">NGINX Unit</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Amplify"
              aria-label="NGINX Amplify"
              href="https://github.com/nginxinc/nginx-amplify-agent"
              ><span class="inner">NGINX Amplify</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Agent"
              aria-label="NGINX Agent"
              href="https://github.com/nginx/Agent"
              ><span class="inner">NGINX Agent</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Kubernetes Ingress Controller"
              aria-label="NGINX Kubernetes Ingress Controller"
              href="https://github.com/nginxinc/kubernetes-ingress"
              ><span class="inner">NGINX Kubernetes Ingress Controller</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Gateway Fabric"
              aria-label="NGINX Gateway Fabric"
              href="https://github.com/nginxinc/nginx-gateway-fabric"
              ><span class="inner">NGINX Gateway Fabric</span></a
            >
          </li>
        </ul>
      </div>

      <div class="col-md-2 d-none d-md-block">
        <span class="footer-head">Social</span>
        <ul class="footer-social">
          <li>
            <a
              href="https://www.facebook.com/nginxinc"
              title="facebook"
              aria-label="facebook"
              target="_blank"
              rel="noreferrer"
              ><i class="fa-brands fa-facebook" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a
              href="https://twitter.com/nginx"
              title="X"
              aria-label="x"
              target="_blank"
              rel="noreferrer"
              ><i class="fa-brands fa-x-twitter" aria-hidden="true"></i
            ></a>
          </li>
          <li>
            <a
              href="https://www.linkedin.com/company/nginx"
              title="linkedin"
              aria-label="linkedin"
              target="_blank"
              rel="noreferrer"
              ><i class="fa-brands fa-linkedin" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a
              href="https://www.youtube.com/user/NginxInc"
              title="youtube"
              aria-label="youtube"
              target="_blank"
              rel="noreferrer"
              alt="NGINX Youtube Channel"
              ><i class="fa-brands fa-square-youtube" aria-hidden="true"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="site-info footer-text">
      <div class="text-center">
        <p>
          <a href="https://www.f5.com/"
            ><img class="f5-logo-footer" src="http://localhost:1313/images/icons/Logo_F5.svg" alt="F5 logo"></a
          >
          2025 F5, Inc. All rights reserved.
        </p>
        <p>
          <a
            href="https://www.f5.com/company/policies/trademarks"
            rel="noopener"
            target="_blank"
            >Trademarks</a
          >
          <a
            href="https://www.f5.com/company/policies"
            rel="noopener"
            target="_blank"
            >Policies</a
          >
          <a href="https://docs.nginx.com/ossc">Open Source Components</a>
          <a
            href="https://www.f5.com/company/policies/privacy-notice"
            rel="noopener"
            target="_blank"
            >Privacy</a
          >
          <a
            href="https://www.f5.com/company/policies/F5-California-privacy-summary"
            rel="noopener"
            target="_blank"
            >California Privacy</a
          >
          <a
            href="https://www.f5.com/company/policies/privacy-notice#no-sell"
            rel="noopener"
            target="_blank"
            >Do Not Sell My Personal Information</a
          >
          <span id="teconsent-v1"></span>
        </p>
      </div>
    </div>
    
  </div>
  
</footer>

      
    </footer>

    <footer data-mf="true" id="footer-v2" style="display:none;">
      
      <div class="footer-layout">
    <div class="footer-f5-trademark">
        <img class="f5-logo-footer" src="http://localhost:1313/images/icons/Logo_F5.svg" alt="F5 logo">
        <p>2025 F5, Inc. All rights reserved. NGINX is a registered trademark of F5, Inc.</p>
    </div>
    <div class="footer-useful-links">
        <a
            href="https://www.f5.com/company/policies/trademarks"
            rel="noopener"
            target="_blank"
            >Trademarks
        </a>
        <a
            href="https://www.f5.com/company/policies"
            rel="noopener"
            target="_blank"
            >Policies
        </a>
        <a
            href="https://www.f5.com/company/policies/privacy-notice"
            rel="noopener"
            target="_blank"
            >Privacy
        </a>
        <a
            href="https://www.f5.com/company/policies/F5-California-privacy-summary"
            rel="noopener"
            target="_blank"
            >California Privacy
        </a>
        <a
            href="https://www.f5.com/company/policies/privacy-notice#no-sell"
            rel="noopener"
            target="_blank"
            >Do Not Sell My Personal Information
        </a>
        <span id="teconsent-v2"></span>
    </div>
</div>

      
    </footer>
  
<script src="/js/jquery-3-6-4.min.js" type="text/javascript" integrity=""></script>


<script src="/js/kube.min.a3a07cceb64989e2f0bf41653ab4d8346ba4312270eb5cc80d6afad3bf30a0ca9768aaa2559cb582e663332c541edab6a4068ef2e88b739fa425e2e870eb0aff.js" type="text/javascript" integrity="sha512-o6B8zrZJieLwv0FlOrTYNGukMSJw61zIDWr6078woMqXaKqiVZy1guZjMyxUHtq2pAaO8uiLc5&#43;kJeLocOsK/w=="></script>



<script src="/js/bootstrap.bundle.min.c15ed88f56a52190ea645094409cbce5537eaaf108972f777c840037b8aa0c508f12e70b09e345cf8af7e450a8f6ce96ae974340f8bcd316e58d707c063b6f72.js" type="text/javascript"
  integrity="sha512-wV7Yj1alIZDqZFCUQJy85VN&#43;qvEIly93fIQAN7iqDFCPEucLCeNFz4r35FCo9s6WrpdDQPi80xbljXB8Bjtvcg=="></script>



<script src="/js/code-copy.bb21b72280613039f1fabb11acc6a901c07caaee454933031066fbda6b5406fd31077a80ec913ba32261224d138bcbb4a34d27c51efae571c68d59282943b9a4.js" type="text/javascript"></script>



<script src="/js/code-copy-v2.71bcaee23ab00cb45dc944f321264e21d25bc1ec1ae76f9596286cb408ea5654b4ee016e7914cc2554b237114eeb467d39df18735311f2d28480b3ccd2feb4ad.js" type="text/javascript"></script>





<script
  type="module"
  src="https://static.cloud.coveo.com/atomic/v3.19.0/atomic.esm.js"
  integrity="sha512-VA9k6iDWhwxl8bwKUYPD63l93lGX7daV60k3yFxEt9EuEq4iWvsu5COq1mZ8OXKl0KCOFlUSDXS32Cy+YwbufQ=="
  crossorigin="anonymous">
</script>


<script class="coveo-script" src="https://static.cloud.coveo.com/searchui/v2.10104/0/js/CoveoJsSearch.Lazy.min.js"
  integrity="sha512-HxdDBIp5snbqtu1TPkBnXLKEvN9IPz3PeZW8zT9KfsflV9Ck822XDroDlpVbfCfXeiu8C0RDVn0fdu7aGy/H1g=="
  crossorigin="anonymous"></script>

<script src="https://static.cloud.coveo.com/searchui/v2.10104/0/js/templates/templates.js"
  integrity="sha512-CR0Yk/LIwgh1MsKqjecDp/r6F9ipKc6gA+4+E1pplT3N3r1pk+la/HaqyDiKtjOFwrwIIbIYBFrUJgPql93QHw=="
  crossorigin="anonymous"></script>






<script src="/js/coveo.min.4acfd205930e2d31230100f345e0463332eb3e3af1b4aa9a6e3131b0b2bac53566ae4d18b390066fce94c0c75d39b5e121d1291f81e5accc1a82d93da9f11b7f.js" integrity="sha512-Ss/SBZMOLTEjAQDzReBGMzLrPjrxtKqabjExsLK6xTVmrk0Ys5AGb86UwMddObXhIdEpH4HlrMwagtk9qfEbfw=="
  type="text/javascript"></script>


















<script src="/js/sidebar.min.6fed0180a23d01103c68ffb054a183fba5e7ba673de8c56d85857af964dcc0c11623ee09f6185207a373127cb2547ff9247ae3516ed47c67e1b58dbe71e9d576.js" type="text/javascript" integrity="sha512-b&#43;0BgKI9ARA8aP&#43;wVKGD&#43;6Xnumc96MVthYV6&#43;WTcwMEWI&#43;4J9hhSB6NzEnyyVH/5JHrjUW7UfGfhtY2&#43;cenVdg=="></script>
  


<script src="/js/site-dropdown.min.3bb49b6f7d25bcd4a2b008525bb8538d84237348bf618b40970ff6eca87119d68c326ca7ba04854ad102be36495fe1d70f1cb239916555b67dd17683dc283333.js" type="text/javascript" integrity="sha512-O7Sbb30lvNSisAhSW7hTjYQjc0i/YYtAlw/27KhxGdaMMmynugSFStECvjZJX&#43;HXDxyyOZFlVbZ90XaD3CgzMw=="></script>



<script src="/js/product-selector.min.b588249327fb12c7602fa08eb618560171f54e7348d6c1bacfdbf541f5e13023493f64f78fb6d4b9014892e5e4f0aaaee95b859bb37aa53bbe8c0e27e65167d1.js" type="text/javascript" integrity="sha512-tYgkkyf7EsdgL6COthhWAXH1TnNI1sG6z9v1QfXhMCNJP2T3j7bUuQFIkuXk8Kqu6VuFm7N6pTu&#43;jA4n5lFn0Q=="></script>



<script src="/js/sidebar-v2.min.3f906631e696b2c88883bfcfc62371165359130cfd118ceb49893ae0d8760dc38177ee3bb94a61dee45023115de8445f0b9fe48f933618ef7ba7b3180a05adbd.js" type="text/javascript" integrity="sha512-P5BmMeaWssiIg7/PxiNxFlNZEwz9EYzrSYk64Nh2DcOBd&#43;47uUph3uRQIxFd6ERfC5/kj5M2GO97p7MYCgWtvQ=="></script> 
  <div id="consent_blackbar"></div>
</body>
</html>


