<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>  
  <style>
    body {
       
      visibility: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }
  </style>
  
  <noscript>
    <style>
       
      body {
        visibility: visible;
      }
    </style>
  </noscript>
  


  <script>

    const setTheme = (isNewTheme) => {
      localStorage.setItem("useNewTheme", `${isNewTheme}`);
      
      const v1cssIds = [
        "cssFA1",
        "cssFA2",
        "cssFA3",
        "cssBootstrap",
        "css1",
        "css2",
        "css3",
        "css4",
        "css5",
        "css6",
      ];

      v1cssIds.forEach((cssId) => {
        const element = document.getElementById(cssId);
        if (element !== null) {
          element.disabled = isNewTheme;
        }
      });

      const v2cssIds = ["css7", "css9"];
      v2cssIds.forEach((cssId) => {
        const element = document.getElementById(cssId);
        if (element !== null) {
          element.disabled = !isNewTheme;
        }
      });

      
      const v1ElementIds = ["sidebar", "footer", "toc", "api", "search-v1", "breadcrumb-v1", "list-v1"]

      v1ElementIds.forEach((elementId) => {
        const element = document.getElementById(elementId);
        if (element !== null) {
          element.style.display = isNewTheme ? "none" : "";
        }

        const trustarc = document.getElementById("teconsent-v1");
        if (trustarc) {
          trustarc.id = isNewTheme ? "teconsent-v1" : "teconsent";
        }
      });

      document.querySelectorAll(".table-v1").forEach((table) => {
        table.style.display = isNewTheme ? "none" : "";
      });

      const notMfElements = ['[data-mf="false"]'];
      notMfElements.forEach((elementId) => {
        document.querySelectorAll(elementId).forEach((element) => {
          element.style.display = isNewTheme ? "none" : "";
        });
      })

      const mfElements = ['[data-mf="true"]'];
      mfElements.forEach((elementId) => {
        document.querySelectorAll(elementId).forEach((element) => {
          element.style.display = isNewTheme ? "" : "none";

          const trustarc = document.getElementById("teconsent-v2");
          if (trustarc) {
            trustarc.id = isNewTheme ? "teconsent" : "teconsent-v2";
          }
        });
      });

      document.getElementById("body").style.visibility = "visible";
    };

    const toggleTheme = () => {
      setTheme(!(localStorage.getItem("useNewTheme") === "true"));
    };

    
    const mf = toggleTheme;
    const useNewTheme = toggleTheme;

    document.addEventListener("DOMContentLoaded", () => {
      setTheme(localStorage.getItem("useNewTheme") === "true");
    });

    function gameCode(callback) {
      let kkeys = [];
      
      const code = "38,38,40,40,37,39,37,39,66,65";
      return (event) => {
        kkeys.push(event.keyCode);
        if (kkeys.toString().indexOf(code) >= 0) {
          callback(event);
          kkeys = [];
        }
      };
    }
    const handler = gameCode(() => {
      mf();
    });
    window.addEventListener("keydown", handler);

  </script>

  

  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Setting up JWT Authentication | DEV -- docs-nginx-com</title>


<meta name="description" content="This article explains how to control authentication of your web resources using JWT authentication.">





<link rel="canonical" href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-jwt-authentication/">







<meta property="article:publisher" content="https://www.facebook.com/nginxinc" />
<meta property="og:image" content="http://localhost:1313/images/icons/NGINX-Docs-new-docs-dark-1200x630.png" />
<meta property="og:image:width" content="500" />
<meta property="og:image:height" content="300" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="This article explains how to control authentication of your web resources using JWT authentication." />
<meta name="twitter:title" content="Setting up JWT Authentication" />
<meta name="twitter:site" content="@nginx" />
<meta name="twitter:image" content="http://localhost:1313/images/icons/NGINX-Docs-new-docs-dark-1200x630.png" />
<meta name="twitter:creator" content="@nginx" />

<meta http-equiv="last-modified" content="03/04/2025" />




<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'
    https://consent.trustarc.com/ https://mktg.tags.f5.com/basic/prod/utag.sync.js https://static.cloud.coveo.com/ https://*.f5.com/
    https://*.netlify.app https://gist.github.com
    https://tag.demandbase.com/pscSDsz4.min.js
    https://munchkin.brightfunnel.com/js/build/bf-munchkin.min.js
    https://www.googletagmanager.com/gtm.js
    https://www.google-analytics.com/
    https://www.google-analytics.com/analytics.js
    https://www.google-analytics.com/plugins/ua/linkid.js
    https://cdn.bizible.com/scripts/bizible.js
    https://cdn.bizible.com/xdc.js
    https://f5networksglobalprod.122.2o7.net/
    https://f5networksnginxdocs.122.2o7.net/
    https://*.siteintercept.qualtrics.com/SIE/?Q_ZID=*
    https://siteintercept.qualtrics.com/
    ;
    worker-src 'self' blob:">



<meta property="environment" type="development" />
<meta property="buildtype" type="webdocs" />
<meta property="isServer" type="true" />


<meta name="product" content="DEV -- docs-nginx-com">
<meta name="version" content="">
<meta name="doc_type" content="Manual">
  
  <link rel="shortcut icon" type="image/x-icon" href="http://localhost:1313/images/favicon-48x48.ico">

  
  










<link href="/css/v2/style.css" integrity="" rel="stylesheet" type="text/css" id="css7"
  disabled>


<link href="/css/inter/inter.987d1be34797653eabce3627efb116c263d4045fd5badfe003ff283c5a5da435d83a3fad6bfe524e3ce3cf8a41168a30e7aa42507961257eeb275024def0f9b9.css" integrity="sha512-mH0b40eXZT6rzjYn77EWwmPUBF/Vut/gA/8oPFpdpDXYOj&#43;ta/5STjzjz4pBFoow56pCUHlhJX7rJ1Ak3vD5uQ==" rel="stylesheet" type="text/css"
  id="cssInter">


<link href="/css/v2/highlight.min.9ef7c7ad221175216abc8a5827f967bcd7c0e035bfa91180acd26a2c36d54242ae5f485986c260d70b1bbdf225ad76cdbba3179afa7e4335282cc3080a17e337.css" rel="stylesheet" type="text/css" id="css9">





<link href="/fontawesome/css/all.min.4a71f958af9b67180f1ece38b96217f8b2c9009f7fd8f90f299e508808fa4daf3ac3e7ec6f64e47267d1c955f7a419cc15c57ba103c9925f507af4825abdd6e8.css" integrity="sha512-SnH5WK&#43;bZxgPHs44uWIX&#43;LLJAJ9/2PkPKZ5QiAj6Ta86w&#43;fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" rel="stylesheet" type="text/css"
  id="cssFA1">


<link href="/fontawesome/css/v4-font-face.min.5870089ba06cf03e9721f87919eaf15c961a65e071845949ed2da58c5bfbd18a714c5dab2c155f0455ebcd2f45bfd598a5e47ae19976e7aa3a51e22914eac1b6.css" integrity="sha512-WHAIm6Bs8D6XIfh5GerxXJYaZeBxhFlJ7S2ljFv70YpxTF2rLBVfBFXrzS9Fv9WYpeR64Zl256o6UeIpFOrBtg==" rel="stylesheet" type="text/css"
  id="cssFA2">


<link href="/fontawesome/css/v5-font-face.min.81bdf1c9f8ff16b1eda613d52d868a059f16c8c6045c3d7e0a0b771622a11666cdd94b8ea62b5edb0d4b826c3a3737ec3663065fe05b56b6b871e57de73f556b.css" integrity="sha512-gb3xyfj/FrHtphPVLYaKBZ8WyMYEXD1&#43;Cgt3FiKhFmbN2UuOpite2w1Lgmw6NzfsNmMGX&#43;BbVra4ceV95z9Vaw==" rel="stylesheet" type="text/css"
  id="cssFA3">



<link href="/css/bootstrap.min.3f9320327d6304dd356ac060534cfad10938431897a3cebec2515a84aaec41fdfb73d72ba39d7b5b35523cf575b432b3864bb6889d855602faef01b4dd21a734.css" integrity="sha512-P5MgMn1jBN01asBgU0z60Qk4QxiXo86&#43;wlFahKrsQf37c9cro517WzVSPPV1tDKzhku2iJ2FVgL67wG03SGnNA==" rel="stylesheet"
  type="text/css" id="cssBootstrap">



<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.10104/0/css/CoveoFullSearch.min.css"
  integrity="sha512-9/A9yVCU4GS6/iIwTRJKnan4Hf8gDKj3anwItN9QCsU8SixaT5xkjjWsZ/iq0TWaizhtqOLacadXJfxHlwYCcA=="
  crossorigin="anonymous" />


<link
  rel="stylesheet"
  href="https://static.cloud.coveo.com/atomic/v3.19.0/themes/coveo.css"
  integrity="sha512-m2BufPi8Tc6H2jcQfDj/PIl5H57C9jeqhbDFgFXKTtOhoC4S7ULXmx74FseZ8WXpfdT9uyccMHDBJDrIZlrUUQ=="
  crossorigin="anonymous"/>


<link href="/css/docs-nginx-com/nginx-site-header.min.80b10ed49ecfad93607ee771acca88d13dc958e6eecc642af3aa2b170c86b8dcce442e7b86c3e5298c95b0ab2b053a71074c2f15c28266c3a2c502275415b3a7.css" rel="stylesheet" type="text/css" id="css1">


<link href="/css/docs-nginx-com/style.min.2cd4748c438c49d012a5fdc6b98770223c4875fe0f89517b17423b6a5328af4d93d9d772207bfc51d9449781281e1eb8707dcc2f7467e6e24330c9b8c7c5f734.css" rel="stylesheet" type="text/css" id="css2">


<link href="/css/bootstrap-docs.min.8a70c94c72e3783cecd631bc1705c7843b2fdef99f1549f0bf7f774a4083173ee25974413a8206c2340c0fee9bb7a07acd41d41c78ae2280c96a2ce0faca2847.css" rel="stylesheet" type="text/css" id="css3">



<link href="/css/coveo.min.fce7d4df31de99e4f86510a90915820f236b8dcd02be030b27529af7ff10189f807c78cedacb91afa9d07f310a172c6046b1921832f199b9158898a7f74fa117.css" rel="stylesheet" type="text/css" id="css6">



<link href="/css/f5-hugo.min.42feae8b135e9380a66db9c3cb2803221888524a29f41cbc55790b5cb5a309ac7e6dd80e70ed0260370fd93c04b7aa8a5c3d6aca0964804341fad51cfcec963f.css" rel="stylesheet" type="text/css" id="css4">


<link href="/css/inline-overrides.min.495e6889d9955581580c654bad961bb33af6344b283af7e9a34648c5e8d5f1fe90efb8aac33359c4178efd36cd7cb92c7c6458d4175caff9c284b14bd9d2b97a.css" rel="stylesheet" type="text/css" id="css8">





<link href="/css/highlight.min.fe5647c4b67f4b3fcf0ea60b483479d567ba1b05ee6e816439207edfa3d310dbee79536278c67d89c1db5da275bde962a10163da375f05bd19743e2a80e1ad02.css" rel="stylesheet" type="text/css" id="css5">
  
  
  
  
  
  
        
  <script async="async" src="https://consent.trustarc.com/notice?domain=f5.com&c=teconsent&js=nj&noticeType=bb&text=true&gtm=1" crossorigin=""></script>
  
  

<script src="https://mktg.tags.f5.com/basic/prod/utag.sync.js"></script> 


  
  
  
  
  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-K5HG9JT');</script>
  
  </head>
  
  <body id="body">
    
   
<script type="text/javascript"> 
    (function(a,b,c,d) { 
        a='//mktg.tags.f5.com/basic/prod/utag.js'; 
        b=document;c='script';d=b.createElement(c);d.src=a; 
        d.type='text/java'+c;d.async=true; 
        a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a)})(); 
</script> 
    
  
    <header>
      
<div class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar navbar-fixed-top">
  <div class="container-fluid flex-md-row flex-column header-container">
    <a class="navbar-brand mr-0 mr-md-2" href="/" aria-label="NGINX Docs">
      <img class="navbar-img" src="http://localhost:1313/images/icons/NGINX-Docs-horiz-white-type.svg" alt="NGINX Docs">
    </a>
    
      <div class="navbar navbar-nav">
        
        <div id="searchbox">
          
          <div class="CoveoSearchbox" data-placeholder='Search NGINX Docs...'></div>
        </div>
        <atomic-search-interface id="search-standalone-header" data-mf="true" style="display:none;">
          <atomic-search-box redirection-url="/search.html">
          </atomic-search-box>
        </atomic-search-interface>
      </div>
    
    
    
    
    <ul class="navbar navbar-nav">
        <li class="nav-item-explore active">
          <button id="navbar-sites-button" class="button navbar-button">
              F5 Sites
              <i id="navbar-sites-button-icon" class="link-chevron-icon fa-solid fa-chevron-down"></i>
          </button>
          <div class="dropdown-content" id="dropdown-content">
            <ul>
              
                <li>
                  <a href="https://community.f5.com/" target="_blank" >DevCentral</a>
                  <p>Connect &amp; learn in our hosted community</p>
                </li>
              
                <li>
                  <a href="https://my.f5.com/" target="_blank" >MyF5</a>
                  <p>Your key to everything F5, including support, registration keys, and subscriptions</p>
                </li>
              
                <li>
                  <a href="https://nginx.org/" target="_blank" >NGINX</a>
                  <p>Learn more about NGINX Open Source and read the community blog</p>
                </li>
              
            </ul>
          </div>
        </li>
    </ul>
  </div>
</div>


    </header>
  
    <section class="base-layout" data-testid="base-layout">
      <section id="breadcrumb-v1">
        
          
          <nav aria-label="breadcrumb" class="breadcrumb navbar">
    <div class="nav flex-md-row">
        <ol class="breadcrumb">
            
            
            
            
                
            
            
                
            
            
                
            
            
                
            
            
                
            
            
            
                <li><a href="/">Home</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx/">F5 NGINX Plus</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx/admin-guide/">Admin Guide</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx/admin-guide/security-controls/">Security Controls</a><i class="fas fa-chevron-right"></i></li>
                
            
                Setting up JWT Authentication
        </ol>
    </div>
</nav>
  
          
        
      </section>
  
      <div class="main container-fluid min-page-height" data-menu-id="/nginx/admin-guide/security-controls/configuring-jwt-authentication/">
        
<div class="docs-container row override-sidebar-collapse">
<div class="docs-container row override-sidebar-collapse">
  <nav id="sidebar" class="sidenav overflow-auto col-md-3 d-none d-xl-block d-print-none align-top">
    

<div id="sidebar-wrapper">
     <div id="sidebar" class="sidebar" aria-label="Sidebar navigation">
        <button id="sidebar-toggle-button" title="Toggle sidebar navigation" role="button" aria-controls="sidebar-content">
           <i class="fa fa-chevron-right sidebar-visible-collapsed"></i>
           <i class="fa fa-chevron-left sidebar-visible-expanded"></i>
        </button>
        <div id="sidebar-content">
            <h3>
                <a class="sidebar-title" href="http://localhost:1313/nginx/" alt="F5 NGINX Plus"><img
                        class="card-img-top" src="http://localhost:1313//images/icons/NGINX-Plus-product-icon-RGB.svg"
                        alt="F5 NGINX Plus">
                    F5 NGINX Plus</a>
            </h3>
            <ul>
            
            
                
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                    <a data-menu-id="/nginx/admin-guide/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#nginx--admin-guide" aria-controls="nginx--admin-guide">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Admin Guide</a>
                            </li>
                        </div>
                        <div id="nginx--admin-guide" class="accordion-body collapse">
                            <div class="accordion-inner">
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/installing-nginx/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--installing-nginx-and-nginx-plus">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Installing NGINX and NGINX Plus</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--installing-nginx-and-nginx-plus" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/installing-nginx/installing-nginx-plus/" href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus/">Installing NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/installing-nginx/installing-nginx-open-source/" href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-open-source/">Installing NGINX Open Source</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/installing-nginx/installing-nginx-plus-amazon-web-services/" href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus-amazon-web-services/">Installing NGINX Plus AMIs on Amazon EC2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/installing-nginx/installing-nginx-plus-google-cloud-platform/" href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus-google-cloud-platform/">Install NGINX Plus on the Google Cloud Platform</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/installing-nginx/installing-nginx-plus-microsoft-azure/" href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus-microsoft-azure/">Installing NGINX Plus on Microsoft Azure</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/installing-nginx/installing-nginx-docker/" href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-docker/">Deploying NGINX and NGINX Plus with Docker</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/basic-functionality/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--basic-functionality">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Basic Functionality</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--basic-functionality" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/basic-functionality/runtime-control/" href="http://localhost:1313/nginx/admin-guide/basic-functionality/runtime-control/">Control NGINX Processes at Runtime</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/basic-functionality/managing-configuration-files/" href="http://localhost:1313/nginx/admin-guide/basic-functionality/managing-configuration-files/">Create NGINX Plus and NGINX Configuration Files</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/load-balancer/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--load-balancer">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Load Balancer</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--load-balancer" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/http-load-balancer/" href="http://localhost:1313/nginx/admin-guide/load-balancer/http-load-balancer/">HTTP Load Balancing</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/tcp-udp-load-balancer/" href="http://localhost:1313/nginx/admin-guide/load-balancer/tcp-udp-load-balancer/">TCP and UDP Load Balancing</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/http-health-check/" href="http://localhost:1313/nginx/admin-guide/load-balancer/http-health-check/">HTTP Health Checks</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/tcp-health-check/" href="http://localhost:1313/nginx/admin-guide/load-balancer/tcp-health-check/">TCP Health Checks</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/udp-health-check/" href="http://localhost:1313/nginx/admin-guide/load-balancer/udp-health-check/">UDP Health Checks</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/grpc-health-check/" href="http://localhost:1313/nginx/admin-guide/load-balancer/grpc-health-check/">gRPC Health Checks</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/dynamic-configuration-api/" href="http://localhost:1313/nginx/admin-guide/load-balancer/dynamic-configuration-api/">Dynamic Configuration of Upstreams with the NGINX Plus API</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/load-balancer/using-proxy-protocol/" href="http://localhost:1313/nginx/admin-guide/load-balancer/using-proxy-protocol/">Accepting the PROXY Protocol</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/content-cache/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--content-cache">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Content Cache</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--content-cache" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/content-cache/content-caching/" href="http://localhost:1313/nginx/admin-guide/content-cache/content-caching/">NGINX Content Caching</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/web-server/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--web-server">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Web Server</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--web-server" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/web-server/web-server/" href="http://localhost:1313/nginx/admin-guide/web-server/web-server/">Configuring NGINX and NGINX Plus as a Web Server</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/web-server/serving-static-content/" href="http://localhost:1313/nginx/admin-guide/web-server/serving-static-content/">Serve Static Content</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/web-server/reverse-proxy/" href="http://localhost:1313/nginx/admin-guide/web-server/reverse-proxy/">NGINX Reverse Proxy</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/web-server/compression/" href="http://localhost:1313/nginx/admin-guide/web-server/compression/">Compression and Decompression</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/web-server/app-gateway-uwsgi-django/" href="http://localhost:1313/nginx/admin-guide/web-server/app-gateway-uwsgi-django/">Using NGINX and NGINX Plus as an Application Gateway with uWSGI and Django</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/security-controls/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--security-controls">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Security Controls</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--security-controls" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/terminating-ssl-http/" href="http://localhost:1313/nginx/admin-guide/security-controls/terminating-ssl-http/">NGINX SSL Termination</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/terminating-ssl-tcp/" href="http://localhost:1313/nginx/admin-guide/security-controls/terminating-ssl-tcp/">SSL Termination for TCP Upstream Servers</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/configuring-http-basic-authentication/" href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-http-basic-authentication/">Restricting Access with HTTP Basic Authentication</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/configuring-subrequest-authentication/" href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-subrequest-authentication/">Authentication Based on Subrequest Result</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/configuring-jwt-authentication/" href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-jwt-authentication/">Setting up JWT Authentication</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/configuring-oidc/" href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-oidc/">Single Sign-On with OpenID Connect and Identity Providers</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/controlling-access-proxied-http/" href="http://localhost:1313/nginx/admin-guide/security-controls/controlling-access-proxied-http/">Limiting Access to Proxied HTTP Resources</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/controlling-access-proxied-tcp/" href="http://localhost:1313/nginx/admin-guide/security-controls/controlling-access-proxied-tcp/">Restricting Access to Proxied TCP Resources</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/controlling-access-by-geoip/" href="http://localhost:1313/nginx/admin-guide/security-controls/controlling-access-by-geoip/">Restricting Access by Geographical Location</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/securing-http-traffic-upstream/" href="http://localhost:1313/nginx/admin-guide/security-controls/securing-http-traffic-upstream/">Securing HTTP Traffic to Upstream Servers</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/securing-tcp-traffic-upstream/" href="http://localhost:1313/nginx/admin-guide/security-controls/securing-tcp-traffic-upstream/">Securing TCP Traffic to Upstream Servers</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/security-controls/denylisting-ip-addresses/" href="http://localhost:1313/nginx/admin-guide/security-controls/denylisting-ip-addresses/">Dynamic Denylisting of IP Addresses</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/monitoring/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--monitoring">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Monitoring</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--monitoring" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/monitoring/live-activity-monitoring/" href="http://localhost:1313/nginx/admin-guide/monitoring/live-activity-monitoring/">Live Activity Monitoring</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/monitoring/logging/" href="http://localhost:1313/nginx/admin-guide/monitoring/logging/">Configuring Logging</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/monitoring/debugging/" href="http://localhost:1313/nginx/admin-guide/monitoring/debugging/">Debugging NGINX</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/monitoring/diagnostic-package/" href="http://localhost:1313/nginx/admin-guide/monitoring/diagnostic-package/">NGINX Diagnostic Package</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/monitoring/new-relic-plugin/" href="http://localhost:1313/nginx/admin-guide/monitoring/new-relic-plugin/">Monitoring NGINX and NGINX Plus with the New Relic Plug-In</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/high-availability/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--high-availability">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>High Availability</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--high-availability" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/high-availability/ha-keepalived/" href="http://localhost:1313/nginx/admin-guide/high-availability/ha-keepalived/">High Availability Support for NGINX Plus in On-Premises Deployments</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/high-availability/ha-keepalived-nodes/" href="http://localhost:1313/nginx/admin-guide/high-availability/ha-keepalived-nodes/">Configuring Active-Active High Availability and Additional Passive Nodes with keepalived</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/high-availability/configuration-sharing/" href="http://localhost:1313/nginx/admin-guide/high-availability/configuration-sharing/">Synchronizing NGINX Configuration in a Cluster</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/high-availability/zone_sync/" href="http://localhost:1313/nginx/admin-guide/high-availability/zone_sync/">Runtime State Sharing in a Cluster</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/high-availability/zone_sync_details/" href="http://localhost:1313/nginx/admin-guide/high-availability/zone_sync_details/">How NGINX Plus Performs Zone Synchronization</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/dynamic-modules/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--dynamic-modules">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Dynamic Modules</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--dynamic-modules" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/dynamic-modules/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/dynamic-modules/">Dynamic Modules</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/brotli/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/brotli/">Brotli</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/cookie-flag/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/cookie-flag/">Cookie-Flag</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/encrypted-session/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/encrypted-session/">Encrypted-Session</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/fips/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/fips/">FIPS Status Check</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/geoip/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/geoip/">GeoIP</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/geoip2/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/geoip2/">GeoIP2</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/headers-more/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/headers-more/">Headers-More</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/http-substitutions-filter/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/http-substitutions-filter/">HTTP Substitutions Filter</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/image-filter/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/image-filter/">Image-Filter</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/lua/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/lua/">Lua</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/ndk/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/ndk/">NGINX Developer Kit</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/nginx-waf/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/nginx-waf/">NGINX ModSecurity WAF</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/nginscript/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/nginscript/">njs Scripting Language</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/opentelemetry/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/opentelemetry/">OpenTelemetry</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/opentracing/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/opentracing/">OpenTracing</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/perl/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/perl/">Perl</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/passenger-open-source/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/passenger-open-source/">Phusion Passenger Open Source</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/prometheus-njs/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/prometheus-njs/">Prometheus-njs</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/rtmp/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/rtmp/">RTMP</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/set-misc/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/set-misc/">Set-Misc</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/spnego/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/spnego/">SPNEGO</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/uninstall/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/uninstall/">Uninstalling a dynamic module</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/dynamic-modules/xslt/" href="http://localhost:1313/nginx/admin-guide/dynamic-modules/xslt/">XSLT</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/admin-guide/mail-proxy/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--admin-guide--mail-proxy">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Mail Proxy</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--admin-guide--mail-proxy" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/admin-guide/mail-proxy/mail-proxy/" href="http://localhost:1313/nginx/admin-guide/mail-proxy/mail-proxy/">Configure NGINX as a Mail Proxy Server</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                            </div>
                        </div>
                    </div>
                </div>

                

            
                
                
                <div class="accordion" id="accordion1">
                    <div class="accordion-group">
                        <div class="accordion-heading">
                            <li class="nginx-toc-link l1">
                                    <a data-menu-id="/nginx/deployment-guides/" class="accordion-toggle" aria-expanded="false"
                                    data-toggle="collapse" href="#" data-target="#nginx--deployment-guides" aria-controls="nginx--deployment-guides">
                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Deployment Guides</a>
                            </li>
                        </div>
                        <div id="nginx--deployment-guides" class="accordion-body collapse">
                            <div class="accordion-inner">
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/amazon-web-services/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--deployment-guides--amazon-web-services">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Amazon Web Services</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--deployment-guides--amazon-web-services" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/amazon-web-services/high-availability-network-load-balancer/" href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/high-availability-network-load-balancer/">Active-Active HA for NGINX Plus on AWS Using AWS Network Load Balancer</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/amazon-web-services/high-availability-keepalived/" href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/high-availability-keepalived/">Active-Passive HA for NGINX Plus on AWS Using Elastic IP Addresses</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/amazon-web-services/ingress-controller-elastic-kubernetes-services/" href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/ingress-controller-elastic-kubernetes-services/">Using NGINX or NGINX Plus as the Ingress Controller for Amazon Elastic Kubernetes Services</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/amazon-web-services/ec2-instances-for-nginx/" href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/ec2-instances-for-nginx/">Create Amazon EC2 Instances for NGINX Open Source and NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/global-server-load-balancing/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--deployment-guides--global-server-load-balancing">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Global Server Load Balancing</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--deployment-guides--global-server-load-balancing" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/global-server-load-balancing/ns1-global-server-load-balancing/" href="http://localhost:1313/nginx/deployment-guides/global-server-load-balancing/ns1-global-server-load-balancing/">Global Server Load Balancing with NS1 and NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/google-cloud-platform/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--deployment-guides--google-cloud-platform">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Google Cloud Platform</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--deployment-guides--google-cloud-platform" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/google-cloud-platform/high-availability-all-active/" href="http://localhost:1313/nginx/deployment-guides/google-cloud-platform/high-availability-all-active/">All-Active HA for NGINX Plus on the Google Cloud Platform</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/load-balance-third-party/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--deployment-guides--load-balancing-third-party-servers">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Load Balancing Third-Party Servers</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--deployment-guides--load-balancing-third-party-servers" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/load-balance-third-party/apache-tomcat/" href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/apache-tomcat/">Load Balancing Apache Tomcat Servers with NGINX Open Source and NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/load-balance-third-party/microsoft-exchange/" href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/microsoft-exchange/">Load Balancing Microsoft Exchange Servers with NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/load-balance-third-party/node-js/" href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/node-js/">Load Balancing Node.js Application Servers with NGINX Open Source and NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/load-balance-third-party/oracle-e-business-suite/" href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/oracle-e-business-suite/">Load Balancing Oracle E-Business Suite with NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/load-balance-third-party/oracle-weblogic-server/" href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/oracle-weblogic-server/">Load Balancing Oracle WebLogic Server with NGINX Open Source and NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/load-balance-third-party/wildfly/" href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/wildfly/">Load Balancing Wildfly and JBoss Application Servers with NGINX Open Source and NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/microsoft-azure/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--deployment-guides--microsoft-azure">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Microsoft Azure</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--deployment-guides--microsoft-azure" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/microsoft-azure/high-availability-standard-load-balancer/" href="http://localhost:1313/nginx/deployment-guides/microsoft-azure/high-availability-standard-load-balancer/">Active-Active HA for NGINX Plus on Microsoft Azure Using the Azure Standard Load Balancer</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/microsoft-azure/virtual-machines-for-nginx/" href="http://localhost:1313/nginx/deployment-guides/microsoft-azure/virtual-machines-for-nginx/">Creating Microsoft Azure Virtual Machines for NGINX Open Source and F5 NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/migrate-hardware-adc/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--deployment-guides--migrate-hardware-adcs">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Migrate Hardware ADCs</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--deployment-guides--migrate-hardware-adcs" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/migrate-hardware-adc/citrix-adc-configuration/" href="http://localhost:1313/nginx/deployment-guides/migrate-hardware-adc/citrix-adc-configuration/">Migrating Load Balancer Configuration from Citrix ADC to NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/migrate-hardware-adc/f5-big-ip-configuration/" href="http://localhost:1313/nginx/deployment-guides/migrate-hardware-adc/f5-big-ip-configuration/">Migrating Load Balancer Configuration from F5 BIG-IP LTM to F5 NGINX Plus</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <div class="accordion" id="Accordion2">
                                        <div class="sidebar-l1-padding">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/single-sign-on/" class="accordion-toggle"
                                                                aria-expanded="false" data-toggle="collapse"
                                                                href="#nginx--deployment-guides--set-up-single-sign-on-for-proxied-applications">
                                                                <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                    class="fa fa-2xs fa-fw fa-chevron-down"></i>Set Up Single Sign-On for Proxied Applications</a>
                                                        </li>
                                                    <ul>
                                                </div>
                                                <div id="nginx--deployment-guides--set-up-single-sign-on-for-proxied-applications" class="accordion-body collapse leaf">
                                                    <div class="accordion-inner">

                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/auth0/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/auth0/">Single Sign-On With Auth0</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/cognito/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/cognito/">Single Sign-On with Amazon Cognito</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/active-directory-federation-services/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/active-directory-federation-services/">Single Sign-On with Microsoft Active Directory FS</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/entra-id/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/entra-id/">Single Sign-On with Microsoft Entra ID</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/keycloak/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/keycloak/">Single Sign-On with Keycloak</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/onelogin/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/onelogin/">Single Sign-On with OneLogin</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/okta/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/okta/">Single Sign-On with Okta</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <ul class="sidebar-l2-padding">
                                                            <li class="nginx-toc-link l3 sidebar-il-border">
                                                                <a data-menu-id="/nginx/deployment-guides/single-sign-on/ping-identity/" href="http://localhost:1313/nginx/deployment-guides/single-sign-on/ping-identity/">Single Sign-On with Ping Identity</a>
                                                            </li>
                                                        </ul>
                                                        
                                                        
                                                    
                                                        
                                                        
                                                        <div class="accordion" id="Accordion3">
                                                            <div class="sidebar-l2-padding">
                                                                <div class="accordion-group sidebar-il-border">
                                                                    <div class="accordion-heading">
                                                                        <ul>
                                                                            <li class="nginx-toc-link l2">
                                                                                <a data-menu-id="/nginx/deployment-guides/single-signon/oidc-njs/" class="accordion-toggle"
                                                                                    aria-expanded="false" data-toggle="collapse"
                                                                                    href="#nginx--single-sign-on--legacy-njs-based-single-sign-on-solutions">
                                                                                    <i class="fa fa-2xs fa-fw fa-chevron-right"></i><i
                                                                                        class="fa fa-2xs fa-fw fa-chevron-down"></i>Legacy njs-based Single Sign-On Solutions</a>
                                                                            </li>
                                                                        <ul>
                                                                    </div>
                                                                    <div id="nginx--single-sign-on--legacy-njs-based-single-sign-on-solutions" class="accordion-body collapse leaf">
                                                                        <div class="accordion-inner">
                                                                        
                                                                        
                                                                        
                                                                            <ul class="sidebar-l2-padding">
                                                                                <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                    <a data-menu-id="/nginx/deployment-guides/single-sign-on/oidc-njs/cognito/"
                                                                                        href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/cognito/">Single Sign-On with Amazon Cognito and njs</a>
                                                                                </li>
                                                                            </ul>
                                                                        
                                                                        
                                                                            
                                                                        
                                                                        
                                                                            <ul class="sidebar-l2-padding">
                                                                                <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                    <a data-menu-id="/nginx/deployment-guides/single-sign-on/oidc-njs/auth0/"
                                                                                        href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/auth0/">Single Sign-On With Auth0 and njs</a>
                                                                                </li>
                                                                            </ul>
                                                                        
                                                                        
                                                                            
                                                                        
                                                                        
                                                                            <ul class="sidebar-l2-padding">
                                                                                <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                    <a data-menu-id="/nginx/deployment-guides/single-sign-on/oidc-njs/keycloak/"
                                                                                        href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/keycloak/">Single Sign-On with Keycloak and njs</a>
                                                                                </li>
                                                                            </ul>
                                                                        
                                                                        
                                                                            
                                                                        
                                                                        
                                                                            <ul class="sidebar-l2-padding">
                                                                                <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                    <a data-menu-id="/nginx/deployment-guides/single-sign-on/oidc-njs/active-directory-federation-services/"
                                                                                        href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/active-directory-federation-services/">Single Sign-On with Microsoft AD FS and njs</a>
                                                                                </li>
                                                                            </ul>
                                                                        
                                                                        
                                                                            
                                                                        
                                                                        
                                                                            <ul class="sidebar-l2-padding">
                                                                                <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                    <a data-menu-id="/nginx/deployment-guides/single-sign-on/oidc-njs/okta/"
                                                                                        href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/okta/">Single Sign-On with Okta and njs</a>
                                                                                </li>
                                                                            </ul>
                                                                        
                                                                        
                                                                            
                                                                        
                                                                        
                                                                            <ul class="sidebar-l2-padding">
                                                                                <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                    <a data-menu-id="/nginx/deployment-guides/single-sign-on/oidc-njs/onelogin/"
                                                                                        href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/onelogin/">Single Sign-On with OneLogin and njs</a>
                                                                                </li>
                                                                            </ul>
                                                                        
                                                                        
                                                                            
                                                                        
                                                                        
                                                                            <ul class="sidebar-l2-padding">
                                                                                <li class="nginx-toc-link l3 sidebar-il-border ">
                                                                                    <a data-menu-id="/nginx/deployment-guides/single-sign-on/oidc-njs/ping-identity/"
                                                                                        href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/ping-identity/">Single Sign-On with Ping Identity and njs</a>
                                                                                </li>
                                                                            </ul>
                                                                        
                                                                        
                                                                            
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                
                                
                                    
                                    <ul class="sidebar-reg-padding">
                                        <div class="accordion" id="accordion2">
                                            <div class="accordion-group sidebar-il-border">
                                                <div class="accordion-heading">
                                                    <ul>
                                                        <li class="nginx-toc-link l2">
                                                            <a data-menu-id="/nginx/deployment-guides/setting-up-nginx-demo-environment/"
                                                                href="http://localhost:1313/nginx/deployment-guides/setting-up-nginx-demo-environment/">Setting up an NGINX demo environment</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                    
                                    
                                
                            </div>
                        </div>
                    </div>
                </div>

                

            
                
                
                <li class="nginx-toc-link l1">
                    <a data-menu-id="/nginx/releases/" href="http://localhost:1313/nginx/releases/">Releases</a>
                </li>
                
                

            
                
                
                <li class="nginx-toc-link l1">
                    <a data-menu-id="/nginx/technical-specs/" href="http://localhost:1313/nginx/technical-specs/">Technical Specs</a>
                </li>
                
                

            
                
                
                <li class="nginx-toc-link l1">
                    <a data-menu-id="/nginx/open-source-components/" href="http://localhost:1313/nginx/open-source-components/">Open Source Components</a>
                </li>
                
                

            
                
                
                <li class="nginx-toc-link l1">
                    <a data-menu-id="/nginx/fips-compliance-nginx-plus/" href="http://localhost:1313/nginx/fips-compliance-nginx-plus/">NGINX Plus FIPS Compliance</a>
                </li>
                
                

            
                
                
                <li class="nginx-toc-link l1">
                    <a data-menu-id="/nginx/directives/" href="http://localhost:1313/nginx/directives/">NGINX Directives Index</a>
                </li>
                
                

            

            </ul>
        
        </div>
    </div>
</div>

  </nav>

  
  
  <main class="content col d-block align-top content-has-toc" role="main">
  
    
  <section class="main-layout">
    <div class="sidebar-layout" id="sidebar-layout">
      <nav data-mf="true" id="sidebar-v2" class="sidebar" style="display:none;">
        


    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    

    
    





<atomic-search-interface id="search-standalone-sidebar" data-mf="true" style="display:none;">
    <atomic-search-box redirection-url="/search.html">
    </atomic-search-box>
</atomic-search-interface>
<button class="product-selector-button" id="product-selector-button">
    
    <div class="product-selector-name" id="product-selector-name">NGINX Plus</div>
    <div class="product-selector-button-icon" id="product-selector-button-icon">
        <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg" id="product-selector-chevron-icon">
            <path d="M1 13L7 7L0.999999 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="product-selector-chevron-icon"/>
        </svg>     
    </div>
</button>
<div class="product-selector" id="product-selector">
    
    
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX ONE</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-one">NGINX One Console</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx">NGINX Plus</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-instance-manager">NGINX Instance Manager</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-ingress-controller">NGINX Ingress Controller</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-gateway-fabric">NGINX Gateway Fabric</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="https://nginx.org/en/docs/">NGINX Open Source</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/solutions/">Subscription Licensing &amp; Solutions</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-agent">NGINX Agent</a>
                </li>
            
            </ul>
        </div>
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX APP PROTECT</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-app-protect-waf">NGINX App Protect WAF</a>
                </li>
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginx-app-protect-dos">NGINX App Protect DoS</a>
                </li>
            
            </ul>
        </div>
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX AS A SERVICE</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="/nginxaas/azure/">NGINX as a Service for Azure</a>
                </li>
            
            </ul>
        </div>
    
    
    
        <div class="product-selector-content" id="product-selector-content">
            <p id="product-selector-content-product-group-name">NGINX OTHER</p>
            <ul id="product-selector-content-product-container">
            
                <li id="product-selector-content-product-name">
                    <a id="product-selector-content-product-link" href="https://unit.nginx.org/">NGINX Unit</a>
                </li>
            
            </ul>
        </div>
    
</div>
<div class="scrollbar-container">
    <div class="sidebar-navigation">
        <ul class="parent-collapsible-content">
        
            <li class="parent-collapsible-content-item">
                
                    <input type="checkbox" id="toggle-d8b0ed076d8ee224a3aef5fe811e3a69" class="toggle-checkbox" style="display: none;">
                    <label for="toggle-d8b0ed076d8ee224a3aef5fe811e3a69" class="collapsible-header">
                        
                            <span class="parent-box expand"></span>
                            <span class="parent-box opened"></span>
                        
                        Admin Guide 
                    </label>
                    

<ul class="collapsible-content">
    
    <li>
        
            <input type="checkbox" id="toggle-34ba13d39918e960bfd91478931ee142" class="toggle-checkbox" style="display: none;">
            <label for="toggle-34ba13d39918e960bfd91478931ee142" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Installing NGINX and NGINX Plus 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus/" style="">Installing NGINX Plus </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-open-source/" style="">Installing NGINX Open Source </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus-amazon-web-services/" style="">Installing NGINX Plus AMIs on Amazon EC2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus-google-cloud-platform/" style="">Install NGINX Plus on the Google Cloud Platform </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-plus-microsoft-azure/" style="">Installing NGINX Plus on Microsoft Azure </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/installing-nginx/installing-nginx-docker/" style="">Deploying NGINX and NGINX Plus with Docker </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-4fed1bc24136a50ced01c75c6f2619a2" class="toggle-checkbox" style="display: none;">
            <label for="toggle-4fed1bc24136a50ced01c75c6f2619a2" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Basic Functionality 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/basic-functionality/runtime-control/" style="">Control NGINX Processes at Runtime </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/basic-functionality/managing-configuration-files/" style="">Create NGINX Plus and NGINX Configuration Files </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-a0b990a08877f2414420dd3fab30a616" class="toggle-checkbox" style="display: none;">
            <label for="toggle-a0b990a08877f2414420dd3fab30a616" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Load Balancer 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/http-load-balancer/" style="">HTTP Load Balancing </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/tcp-udp-load-balancer/" style="">TCP and UDP Load Balancing </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/http-health-check/" style="">HTTP Health Checks </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/tcp-health-check/" style="">TCP Health Checks </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/udp-health-check/" style="">UDP Health Checks </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/grpc-health-check/" style="">gRPC Health Checks </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/dynamic-configuration-api/" style="">Dynamic Configuration of Upstreams with the NGINX Plus API </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/load-balancer/using-proxy-protocol/" style="">Accepting the PROXY Protocol </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-3827dd0c2b43b01d6adb9d92730551a2" class="toggle-checkbox" style="display: none;">
            <label for="toggle-3827dd0c2b43b01d6adb9d92730551a2" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Content Cache 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/content-cache/content-caching/" style="">NGINX Content Caching </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-bc8955a748a8c048c742c5efe92af86f" class="toggle-checkbox" style="display: none;">
            <label for="toggle-bc8955a748a8c048c742c5efe92af86f" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Web Server 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/web-server/web-server/" style="">Configuring NGINX and NGINX Plus as a Web Server </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/web-server/serving-static-content/" style="">Serve Static Content </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/web-server/reverse-proxy/" style="">NGINX Reverse Proxy </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/web-server/compression/" style="">Compression and Decompression </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/web-server/app-gateway-uwsgi-django/" style="">Using NGINX and NGINX Plus as an Application Gateway with uWSGI and Django </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-bdec90cc0d849dbcf048e137054cd075" class="toggle-checkbox" style="display: none;">
            <label for="toggle-bdec90cc0d849dbcf048e137054cd075" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Security Controls 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/terminating-ssl-http/" style="">NGINX SSL Termination </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/terminating-ssl-tcp/" style="">SSL Termination for TCP Upstream Servers </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-http-basic-authentication/" style="">Restricting Access with HTTP Basic Authentication </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-subrequest-authentication/" style="">Authentication Based on Subrequest Result </a>
            
        
    </li>
    
    <li>
        
                                  
                <span class="box current partial" id="current-page"></span>                 
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-jwt-authentication/" style="font-weight: bold;">Setting up JWT Authentication </a>
            <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#configuring-nginx-plus-to-authenticate-api">Configuring NGINX Plus to Authenticate API</a></li>
    <li><a href="#how-nginx-plus-validates-a-jwt">How NGINX Plus Validates a JWT</a></li>
    <li><a href="#creating-a-json-web-key-file">Creating a JSON Web Key File</a></li>
    <li><a href="#getting-jwks-from-subrequest">Getting JWKs from Subrequest</a></li>
    <li><a href="#arbitrary-jwt-claims-validation">Arbitrary JWT Claims Validation</a></li>
    <li><a href="#nested-jwt-extraction">Nested JWT Extraction</a></li>
    <li><a href="#see-also">See Also</a></li>
  </ul>
</nav>
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-oidc/" style="">Single Sign-On with OpenID Connect and Identity Providers </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/controlling-access-proxied-http/" style="">Limiting Access to Proxied HTTP Resources </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/controlling-access-proxied-tcp/" style="">Restricting Access to Proxied TCP Resources </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/controlling-access-by-geoip/" style="">Restricting Access by Geographical Location </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/securing-http-traffic-upstream/" style="">Securing HTTP Traffic to Upstream Servers </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/securing-tcp-traffic-upstream/" style="">Securing TCP Traffic to Upstream Servers </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/security-controls/denylisting-ip-addresses/" style="">Dynamic Denylisting of IP Addresses </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-4115092e5ba91d2d8fd1b7bf0bf88aa9" class="toggle-checkbox" style="display: none;">
            <label for="toggle-4115092e5ba91d2d8fd1b7bf0bf88aa9" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Monitoring 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/monitoring/live-activity-monitoring/" style="">Live Activity Monitoring </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/monitoring/logging/" style="">Configuring Logging </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/monitoring/debugging/" style="">Debugging NGINX </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/monitoring/diagnostic-package/" style="">NGINX Diagnostic Package </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/monitoring/new-relic-plugin/" style="">Monitoring NGINX and NGINX Plus with the New Relic Plug-In </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-58f36bce08139196af7dbd68b048562d" class="toggle-checkbox" style="display: none;">
            <label for="toggle-58f36bce08139196af7dbd68b048562d" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                High Availability 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/high-availability/ha-keepalived/" style="">High Availability Support for NGINX Plus in On-Premises Deployments </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/high-availability/ha-keepalived-nodes/" style="">Configuring Active-Active High Availability and Additional Passive Nodes with keepalived </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/high-availability/configuration-sharing/" style="">Synchronizing NGINX Configuration in a Cluster </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/high-availability/zone_sync/" style="">Runtime State Sharing in a Cluster </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/high-availability/zone_sync_details/" style="">How NGINX Plus Performs Zone Synchronization </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-d9475b942e664d5a02f3c7e0832be30f" class="toggle-checkbox" style="display: none;">
            <label for="toggle-d9475b942e664d5a02f3c7e0832be30f" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Dynamic Modules 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/dynamic-modules/" style="">Dynamic Modules </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/brotli/" style="">Brotli </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/cookie-flag/" style="">Cookie-Flag </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/encrypted-session/" style="">Encrypted-Session </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/fips/" style="">FIPS Status Check </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/geoip/" style="">GeoIP </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/geoip2/" style="">GeoIP2 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/headers-more/" style="">Headers-More </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/http-substitutions-filter/" style="">HTTP Substitutions Filter </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/image-filter/" style="">Image-Filter </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/lua/" style="">Lua </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/ndk/" style="">NGINX Developer Kit </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/nginx-waf/" style="">NGINX ModSecurity WAF </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/nginscript/" style="">njs Scripting Language </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/opentelemetry/" style="">OpenTelemetry </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/opentracing/" style="">OpenTracing </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/perl/" style="">Perl </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/passenger-open-source/" style="">Phusion Passenger Open Source </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/prometheus-njs/" style="">Prometheus-njs </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/rtmp/" style="">RTMP </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/set-misc/" style="">Set-Misc </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/spnego/" style="">SPNEGO </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/uninstall/" style="">Uninstalling a dynamic module </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/dynamic-modules/xslt/" style="">XSLT </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-0e96b7a1b81ada95980c6f8945f7298a" class="toggle-checkbox" style="display: none;">
            <label for="toggle-0e96b7a1b81ada95980c6f8945f7298a" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Mail Proxy 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/admin-guide/mail-proxy/mail-proxy/" style="">Configure NGINX as a Mail Proxy Server </a>
            
        
    </li>
    
</ul>
        
    </li>
    
</ul>
                
            </li>
        
            <li class="parent-collapsible-content-item">
                
                    <input type="checkbox" id="toggle-ad2e544081d8a2dc550608bf96863673" class="toggle-checkbox" style="display: none;">
                    <label for="toggle-ad2e544081d8a2dc550608bf96863673" class="collapsible-header">
                        
                            <span class="parent-box expand"></span>
                            <span class="parent-box opened"></span>
                        
                        Deployment Guides 
                    </label>
                    

<ul class="collapsible-content">
    
    <li>
        
            <input type="checkbox" id="toggle-5e13f0d338ace88d49a9d6caa7010fc4" class="toggle-checkbox" style="display: none;">
            <label for="toggle-5e13f0d338ace88d49a9d6caa7010fc4" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Amazon Web Services 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/high-availability-network-load-balancer/" style="">Active-Active HA for NGINX Plus on AWS Using AWS Network Load Balancer </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/high-availability-keepalived/" style="">Active-Passive HA for NGINX Plus on AWS Using Elastic IP Addresses </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/ingress-controller-elastic-kubernetes-services/" style="">Using NGINX or NGINX Plus as the Ingress Controller for Amazon Elastic Kubernetes Services </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/amazon-web-services/ec2-instances-for-nginx/" style="">Create Amazon EC2 Instances for NGINX Open Source and NGINX Plus </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-22d3c4602e6471d3cb1277bf845bc7a5" class="toggle-checkbox" style="display: none;">
            <label for="toggle-22d3c4602e6471d3cb1277bf845bc7a5" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Global Server Load Balancing 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/global-server-load-balancing/ns1-global-server-load-balancing/" style="">Global Server Load Balancing with NS1 and NGINX Plus </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-539116910b30b117ba27575318b0e1d8" class="toggle-checkbox" style="display: none;">
            <label for="toggle-539116910b30b117ba27575318b0e1d8" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Google Cloud Platform 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/google-cloud-platform/high-availability-all-active/" style="">All-Active HA for NGINX Plus on the Google Cloud Platform </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-eea80951fd0bc0c7385d3863c701b40f" class="toggle-checkbox" style="display: none;">
            <label for="toggle-eea80951fd0bc0c7385d3863c701b40f" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Load Balancing Third-Party Servers 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/apache-tomcat/" style="">Load Balancing Apache Tomcat Servers with NGINX Open Source and NGINX Plus </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/microsoft-exchange/" style="">Load Balancing Microsoft Exchange Servers with NGINX Plus </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/node-js/" style="">Load Balancing Node.js Application Servers with NGINX Open Source and NGINX Plus </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/oracle-e-business-suite/" style="">Load Balancing Oracle E-Business Suite with NGINX Plus </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/oracle-weblogic-server/" style="">Load Balancing Oracle WebLogic Server with NGINX Open Source and NGINX Plus </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/load-balance-third-party/wildfly/" style="">Load Balancing Wildfly and JBoss Application Servers with NGINX Open Source and NGINX Plus </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-deab0f7f4195e0ebfdd9a46bf3c45873" class="toggle-checkbox" style="display: none;">
            <label for="toggle-deab0f7f4195e0ebfdd9a46bf3c45873" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Microsoft Azure 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/microsoft-azure/high-availability-standard-load-balancer/" style="">Active-Active HA for NGINX Plus on Microsoft Azure Using the Azure Standard Load Balancer </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/microsoft-azure/virtual-machines-for-nginx/" style="">Creating Microsoft Azure Virtual Machines for NGINX Open Source and F5 NGINX Plus </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-9d116931baf1693c0ecb4484238d72ce" class="toggle-checkbox" style="display: none;">
            <label for="toggle-9d116931baf1693c0ecb4484238d72ce" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Migrate Hardware ADCs 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/migrate-hardware-adc/citrix-adc-configuration/" style="">Migrating Load Balancer Configuration from Citrix ADC to NGINX Plus </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/migrate-hardware-adc/f5-big-ip-configuration/" style="">Migrating Load Balancer Configuration from F5 BIG-IP LTM to F5 NGINX Plus </a>
            
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-1b645490e7b8fc3e2dbc02de30e692bb" class="toggle-checkbox" style="display: none;">
            <label for="toggle-1b645490e7b8fc3e2dbc02de30e692bb" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Set Up Single Sign-On for Proxied Applications 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/auth0/" style="">Single Sign-On With Auth0 </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/cognito/" style="">Single Sign-On with Amazon Cognito </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/active-directory-federation-services/" style="">Single Sign-On with Microsoft Active Directory FS </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/entra-id/" style="">Single Sign-On with Microsoft Entra ID </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/keycloak/" style="">Single Sign-On with Keycloak </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/onelogin/" style="">Single Sign-On with OneLogin </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/okta/" style="">Single Sign-On with Okta </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/ping-identity/" style="">Single Sign-On with Ping Identity </a>
            
        
    </li>
    
    <li>
        
            <input type="checkbox" id="toggle-078a70b7a7961256b5a3c59fcd9c4eb2" class="toggle-checkbox" style="display: none;">
            <label for="toggle-078a70b7a7961256b5a3c59fcd9c4eb2" class="collapsible-header">
                
                    <span class="box expand partial-box"></span>
                    <span class="box opened partial-box"></span>
                
                Legacy njs-based Single Sign-On Solutions 
            </label>
            

<ul class="collapsible-content">
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/cognito/" style="">Single Sign-On with Amazon Cognito and njs </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/auth0/" style="">Single Sign-On With Auth0 and njs </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/keycloak/" style="">Single Sign-On with Keycloak and njs </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/active-directory-federation-services/" style="">Single Sign-On with Microsoft AD FS and njs </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/okta/" style="">Single Sign-On with Okta and njs </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/onelogin/" style="">Single Sign-On with OneLogin and njs </a>
            
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/single-sign-on/oidc-njs/ping-identity/" style="">Single Sign-On with Ping Identity and njs </a>
            
        
    </li>
    
</ul>
        
    </li>
    
</ul>
        
    </li>
    
    <li>
        
                                 
                <span class="box-link partial"></span>              
            
            <a href="http://localhost:1313/nginx/deployment-guides/setting-up-nginx-demo-environment/" style="">Setting up an NGINX demo environment </a>
            
        
    </li>
    
</ul>
                
            </li>
        
            <li class="parent-collapsible-content-item">
                
                                         
                        <span class="parent-box-link"></span>              
                    
                    <a href="http://localhost:1313/nginx/releases/" style="">Releases </a> 
                
            </li>
        
            <li class="parent-collapsible-content-item">
                
                                         
                        <span class="parent-box-link"></span>              
                    
                    <a href="http://localhost:1313/nginx/technical-specs/" style="">Technical Specs </a> 
                
            </li>
        
            <li class="parent-collapsible-content-item">
                
                                         
                        <span class="parent-box-link"></span>              
                    
                    <a href="http://localhost:1313/nginx/open-source-components/" style="">Open Source Components </a> 
                
            </li>
        
            <li class="parent-collapsible-content-item">
                
                                         
                        <span class="parent-box-link"></span>              
                    
                    <a href="http://localhost:1313/nginx/fips-compliance-nginx-plus/" style="">NGINX Plus FIPS Compliance </a> 
                
            </li>
        
            <li class="parent-collapsible-content-item">
                
                                         
                        <span class="parent-box-link"></span>              
                    
                    <a href="http://localhost:1313/nginx/directives/" style="">NGINX Directives Index </a> 
                
            </li>
        
        </ul>
    </div>
</div>
      </nav>
    </div>

    <section class="content-layout">
      <div data-cms-edit="content" class="text-content">
        <section class="breadcrumb-layout" data-mf="true" style="display: none;">
          
            
            <nav aria-label="breadcrumb" class="breadcrumb navbar">
    <div class="nav flex-md-row">
        <ol class="breadcrumb">
            
            
            
            
                
            
            
                
            
            
                
            
            
                
            
            
                
            
            
            
                <li><a href="/">Home</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx/">F5 NGINX Plus</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx/admin-guide/">Admin Guide</a><i class="fas fa-chevron-right"></i></li>
                
            
                <li><a href="/nginx/admin-guide/security-controls/">Security Controls</a><i class="fas fa-chevron-right"></i></li>
                
            
                Setting up JWT Authentication
        </ol>
    </div>
</nav>
  
            
          
        </section>
        <h1>Setting up JWT Authentication</h1>
        <p><span id="intro"></span></p>
<h2 
id="introduction">Introduction  <a class="headerlink float-right" href="#introduction" title="Introduction"><i class="fas fa-link fa-xs"></i></a>
</h2><p>With F5 NGINX Plus it is possible to control access to your resources using JWT authentication. JWT is data format for user information in the OpenID Connect standard, which is the standard identity layer on top of the OAuth 2.0 protocol. Deployers of APIs and microservices are also turning to the JWT standard for its simplicity and flexibility. With JWT authentication, a client provides a JSON Web Token, and the token will be validated against a local key file or a remote service.</p>
<p><span id="prereq"></span></p>
<h2 
id="prerequisites">Prerequisites  <a class="headerlink float-right" href="#prerequisites" title="Prerequisites"><i class="fas fa-link fa-xs"></i></a>
</h2><ul>
<li>NGINX Plus <a href="http://localhost:1313/nginx/releases/#r10">Release 10</a> (R10) for native <a href="https://www.nginx.com/blog/nginx-plus-r10-released/#r10-jwt" target="_blank" rel="noopener">JWT support</a></li>
<li>NGINX Plus <a href="http://localhost:1313/nginx/releases/#r14">Release 14</a> for access to <a href="https://www.nginx.com/blog/nginx-plus-r14-released/#jwt" target="_blank" rel="noopener">nested JWT claims and longer signing keys</a></li>
<li>NGINX Plus <a href="http://localhost:1313/nginx/releases/#r17">Release 17</a> for <a href="https://www.nginx.com/blog/nginx-plus-r17-released/#r17-openid" target="_blank" rel="noopener">getting JSON Web keys from a remote location</a></li>
<li>NGINX Plus <a href="http://localhost:1313/nginx/releases/#r24">Release 24</a> (R24) for support of encrypted tokens (JWE)</li>
<li>NGINX Plus <a href="http://localhost:1313/nginx/releases/#r25">Release 25</a> (R25) for support of Nested JWT, multiple sources of JSON Web keys, condition-based JWT authentication</li>
<li>NGINX Plus <a href="http://localhost:1313/nginx/releases/#r26">Release 26</a> (R26) for support of <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_cache" target="_blank" rel="noopener">JWT key caching</a></li>
<li>An identity provider (IdP) or service that creates JWT. For manual JWT generation, see &ldquo;Issuing a JWT to API Clients&rdquo; section of the <a href="https://www.nginx.com/blog/authenticating-api-clients-jwt-nginx-plus/" target="_blank" rel="noopener">Authenticating API Clients with JWT and NGINX Plus</a> blog post.</li>
</ul>
<p><span id="auth_jwt_type"></span></p>
<p>NGINX Plus supports the following types of JWT:</p>
<ul>
<li>
<p>JSON Web Signature (JWS) - JWT content is digitally signed. The following algorithms can be used for signing:</p>
<ul>
<li>HS256, HS384, HS512</li>
<li>RS256, RS384, RS512</li>
<li>ES256, ES384, ES512</li>
<li>EdDSA (Ed25519 and Ed448 signatures)</li>
</ul>
</li>
<li>
<p>JSON Web Encryption (JWE) - the contents of JWT is encrypted. The following content encryption algorithms (the &ldquo;enc&rdquo; field of JWE header) are supported:</p>
<ul>
<li>A128CBC-HS256, A192CBC-HS384, A256CBC-HS512</li>
<li>A128GCM, A192GCM, A256GCM</li>
</ul>
<p>The following key management algorithms (the &ldquo;alg&rdquo; field of JWE header) are supported:</p>
<ul>
<li>A128KW, A192KW, A256KW</li>
<li>A128GCMKW, A192GCMKW, A256GCMKW</li>
<li>dir - direct use of a shared symmetric key as the content encryption key</li>
<li>RSA-OAEP, RSA-OAEP-256, RSA-OAEP-384, RSA-OAEP-512</li>
</ul>
</li>
<li>
<p>Nested JWT - support for JWS enclosed into JWE</p>
</li>
</ul>
<p><span id="auth_jwt"></span></p>
<h2 
id="configuring-nginx-plus-to-authenticate-api">Configuring NGINX Plus to Authenticate API  <a class="headerlink float-right" href="#configuring-nginx-plus-to-authenticate-api" title="Configuring NGINX Plus to Authenticate API"><i class="fas fa-link fa-xs"></i></a>
</h2><p>Let&rsquo;s assume that NGINX Plus serves as a gateway (<code>proxy_pass http://api_server</code>) to a number of API servers (the <a href="https://nginx.org/en/docs/http/ngx_http_upstream_module.html#upstream" target="_blank" rel="noopener"><code>upstream {}</code></a> block), and requests passed to the API servers should be authenticated:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadab3ed8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadab3ed8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">upstream</span> <span class="s">api_server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">upstream</span> <span class="s">api_server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>To implement JWT for authentication:</p>
<ol>
<li>
<p>First, it is necessary to create a JWT that will be issued to a client. You can use your identity provider (IdP) or your own service to create JWTs. For testing purposes, you can create your own JWT, see <a href="https://www.nginx.com/blog/authenticating-api-clients-jwt-nginx-plus/" target="_blank" rel="noopener">Authenticating API Clients with JWT and NGINX Plus</a> blog post for details.</p>
</li>
<li>
<p>Configure NGINX Plus to accept JWT: specify the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt" target="_blank" rel="noopener"><code>auth_jwt</code></a> directive that enables JWT authentication and also defines the authentication area (or &ldquo;realm&rdquo;, &ldquo;API&rdquo; in the example):</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadb17898&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadb17898">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>   <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>   <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>NGINX Plus can also obtain the JWT from a query string parameter. To configure this, include the <code>token=</code> parameter to the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt" target="_blank" rel="noopener"><code>auth_jwt</code></a> directive:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadb38bd8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadb38bd8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl">   <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="k">auth_jwt</span> <span class="s">&#34;API&#34;</span> <span class="s">token=</span><span class="nv">$arg_apijwt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="err">#</span><span class="k">...</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl">   <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="k">auth_jwt</span> <span class="s">&#34;API&#34;</span> <span class="s">token=</span><span class="nv">$arg_apijwt</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">   <span class="err">#</span><span class="k">...</span></span></span></code></pre></div>
</div></li>
<li>
<p>Specify the type of JWT - <code>signed</code> (JWS), <code>encrypted</code> (JWE) or <code>nested</code> (Nested JWT) - with the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_type" target="_blank" rel="noopener"><code>auth_jwt_type</code></a> directive. The default value of the directive is <code>signed</code>, so for JWS, the directive can be omitted.</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadb7a6a0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadb7a6a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>     <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>     <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div></li>
<li>
<p>Specify the path to the <a href="#jwk_create">JSON Web Key file</a> that will be used to verify JWT signature or decrypt JWT content, depending on what you are using. This can be done with the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_file" target="_blank" rel="noopener"><code>auth_jwt_key_file</code></a> and/or <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_request" target="_blank" rel="noopener"><code>auth_jwt_key_request</code></a> directives. Specifying both directives at the same time will allow you to specify more than one source for keys. If none of the directives are specified, JWS signature verification will be skipped.</p>
<p>In this scenario, the keys will be taken from two files: the <code>key.jwk</code> file and the <code>keys.json</code> file:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadbb2910&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadbb2910">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>     <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/key.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/keys.json</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>     <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/key.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/keys.json</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>In this scenario, there are also two sources for the keys, but the private keys will be taken from the local file <code>private_jwe_keys.jwk</code>, while the public keys will be taken from the external identity provider service <code>https://idp.example.com</code> in a <a href="#auth_jwt_key_request">subrequest</a>:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadbe70e8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadbe70e8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>           <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>             <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>        <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span>    <span class="s">private_jwe_keys.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_request</span> <span class="s">/public_jws_keys</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/public_jws_keys</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">&#34;https_//idp.example.com/keys&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>           <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>             <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>        <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span>    <span class="s">private_jwe_keys.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_request</span> <span class="s">/public_jws_keys</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/public_jws_keys</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">&#34;https_//idp.example.com/keys&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>It is recommended to enable JWT key caching to get the optimal performance from the JWT module. For example, you can use the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_cache" target="_blank" rel="noopener"><code>auth_jwt_key_cache</code></a> directive for the above configuration, and enable the JWT key caching for one hour. Note that if the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_request" target="_blank" rel="noopener"><code>auth_jwt_key_request</code></a> or <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_file" target="_blank" rel="noopener"><code>auth_jwt_key_file</code></a> are configured dynamically with variables, <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_cache" target="_blank" rel="noopener"><code>auth_jwt_key_cache</code></a> cannot be used.</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadc840a0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadc840a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>           <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>             <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>        <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span>    <span class="s">private_jwe_keys.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_request</span> <span class="s">/public_jws_keys</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_cache</span>   <span class="s">1h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/public_jws_keys</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">&#34;https_//idp.example.com/keys&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>           <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>             <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>        <span class="s">encrypted</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span>    <span class="s">private_jwe_keys.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_request</span> <span class="s">/public_jws_keys</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_cache</span>   <span class="s">1h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/public_jws_keys</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">&#34;https_//idp.example.com/keys&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div></li>
</ol>
<p><span id="jwt_validate"></span></p>
<h2 
id="how-nginx-plus-validates-a-jwt">How NGINX Plus Validates a JWT  <a class="headerlink float-right" href="#how-nginx-plus-validates-a-jwt" title="How NGINX Plus Validates a JWT"><i class="fas fa-link fa-xs"></i></a>
</h2><p>A JWT is considered to be valid when the following conditions are met:</p>
<ul>
<li>The signature can be verified (for JWS) or payload can be decrypted (for JWE) with the key found in the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_file" target="_blank" rel="noopener"><code>auth_jwt_key_file</code></a> or <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_request" target="_blank" rel="noopener"><code>auth_jwt_key_request</code></a> (matching on the <code>kid</code> (&ldquo;key ID&rdquo;), if present, and <code>alg</code> (&ldquo;algorithm&rdquo;) header fields).</li>
<li>The JWT is presented inside the validity period, when defined by one or both of the <code>nbf</code> (&ldquo;not before&rdquo;) and <code>exp</code> (&ldquo;expires&rdquo;) claims.</li>
</ul>
<p><span id="jwk_create"></span></p>
<h2 
id="creating-a-json-web-key-file">Creating a JSON Web Key File  <a class="headerlink float-right" href="#creating-a-json-web-key-file" title="Creating a JSON Web Key File"><i class="fas fa-link fa-xs"></i></a>
</h2><p>In order to validate the signature with a key or to decrypt data, a JSON Web Key (<code>key.jwk</code>) should be created. The file format is defined by <a href="https://tools.ietf.org/html/rfc7517" target="_blank" rel="noopener">JSON Web Key specification</a>:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">json</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadd008d0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadd008d0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span><span class="nt">&#34;keys&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="p">[{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;k&#34;</span><span class="p">:</span><span class="s2">&#34;ZmFudGFzdGljand0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;kty&#34;</span><span class="p">:</span><span class="s2">&#34;oct&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;kid&#34;</span><span class="p">:</span><span class="s2">&#34;0001&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span><span class="nt">&#34;keys&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="p">[{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;k&#34;</span><span class="p">:</span><span class="s2">&#34;ZmFudGFzdGljand0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;kty&#34;</span><span class="p">:</span><span class="s2">&#34;oct&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;kid&#34;</span><span class="p">:</span><span class="s2">&#34;0001&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>where:</p>
<ul>
<li>the <code>k</code> field is the generated symmetric key (base64url-encoded) basing on a <code>secret</code> (<code>fantasticjwt</code> in the example). The secret can be generated with the following command:</li>
</ul>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">shell</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadd65618&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadd65618">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -n fantasticjwt <span class="p">|</span> base64 <span class="p">|</span> tr <span class="s1">&#39;+/&#39;</span> <span class="s1">&#39;-_&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;=&#39;</span>
</span></span><span class="line"><span class="cl">ZmFudGFzdGljand0</span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> -n fantasticjwt <span class="p">|</span> base64 <span class="p">|</span> tr <span class="s1">&#39;+/&#39;</span> <span class="s1">&#39;-_&#39;</span> <span class="p">|</span> tr -d <span class="s1">&#39;=&#39;</span>
</span></span><span class="line"><span class="cl">ZmFudGFzdGljand0</span></span></code></pre></div>
</div><ul>
<li>the <code>kty</code> field defines the key type as a symmetric key (octet sequence)</li>
<li>the <code>kid</code> (Key ID) field defines a serial number for this JSON Web Key</li>
</ul>
<p><span id="auth_jwt_key_request"></span></p>
<h2 
id="getting-jwks-from-subrequest">Getting JWKs from Subrequest  <a class="headerlink float-right" href="#getting-jwks-from-subrequest" title="Getting JWKs from Subrequest"><i class="fas fa-link fa-xs"></i></a>
</h2><p>NGINX Plus can be configured to fetch JSON Web Keys from the remote location - usually an identity provider, especially when using OpenID Connect. The IdP URI where the subrequest will be sent to is configured with the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_request" target="_blank" rel="noopener"><code>auth_jwt_key_request</code></a> directive:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadddb0e8&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadddb0e8">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kn">auth_jwt</span> <span class="s">&#34;closed</span> <span class="s">site&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">auth_jwt_key_request</span> <span class="s">/_jwks_uri</span><span class="p">;</span> <span class="c1"># Keys will be fetched by subrequest
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_pass</span> <span class="s">http://my_backend</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kn">auth_jwt</span> <span class="s">&#34;closed</span> <span class="s">site&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">auth_jwt_key_request</span> <span class="s">/_jwks_uri</span><span class="p">;</span> <span class="c1"># Keys will be fetched by subrequest
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_pass</span> <span class="s">http://my_backend</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>The URI may refer to an internal location (<code>_jwks_uri</code>) so that the JSON Web Key Set can be cached (<a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache" target="_blank" rel="noopener"><code>proxy_cache</code></a> and <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache_path" target="_blank" rel="noopener"><code>proxy_cache_path</code></a> directives) to avoid validation overhead. Turning on caching is recommended for high-load API gateways even if <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_key_cache" target="_blank" rel="noopener">JWT key caching</a> is used as it will help to avoid overwhelming a key server with key requests when a JWT key cache expires.</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fade4a628&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fade4a628">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_cache_path</span> <span class="s">/var/cache/nginx/jwk</span> <span class="s">levels=1</span> <span class="s">keys_zone=jwk:1m</span> <span class="s">max_size=10m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="kn">location</span> <span class="p">=</span> <span class="s">/_jwks_uri</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kn">internal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_method</span>      <span class="s">GET</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_cache</span>       <span class="s">jwk</span><span class="p">;</span> <span class="c1"># Cache responses
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kn">proxy_cache_valid</span> <span class="mi">200</span> <span class="s">12h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_pass</span>        <span class="s">https://idp.example.com/oauth2/keys</span><span class="p">;</span> <span class="c1"># Obtain keys from here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_cache_path</span> <span class="s">/var/cache/nginx/jwk</span> <span class="s">levels=1</span> <span class="s">keys_zone=jwk:1m</span> <span class="s">max_size=10m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="c1">#...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="kn">location</span> <span class="p">=</span> <span class="s">/_jwks_uri</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kn">internal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_method</span>      <span class="s">GET</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_cache</span>       <span class="s">jwk</span><span class="p">;</span> <span class="c1"># Cache responses
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kn">proxy_cache_valid</span> <span class="mi">200</span> <span class="s">12h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="kn">proxy_pass</span>        <span class="s">https://idp.example.com/oauth2/keys</span><span class="p">;</span> <span class="c1"># Obtain keys from here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>The full example of getting JWKs from a subrequest:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadec62a0&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadec62a0">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="c1">#
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">proxy_cache_path</span> <span class="s">/var/cache/nginx/jwk</span> <span class="s">levels=1</span> <span class="s">keys_zone=jwk:1m</span> <span class="s">max_size=10m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span> <span class="c1"># Use SSL/TLS in production
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>             <span class="s">&#34;closed</span> <span class="s">site&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_cache</span>   <span class="s">1h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_request</span> <span class="s">/_jwks_uri</span><span class="p">;</span>    <span class="c1"># Keys will be fetched by subrequest
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://my_backend</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">=</span> <span class="s">/_jwks_uri</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">internal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_method</span>      <span class="s">GET</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_cache</span>       <span class="s">jwk</span><span class="p">;</span> <span class="c1"># Cache responses
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">proxy_cache_valid</span> <span class="mi">200</span> <span class="s">12h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">https://idp.example.com/oauth2/keys</span><span class="p">;</span> <span class="c1"># Obtain keys from here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="c1">#
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">proxy_cache_path</span> <span class="s">/var/cache/nginx/jwk</span> <span class="s">levels=1</span> <span class="s">keys_zone=jwk:1m</span> <span class="s">max_size=10m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span> <span class="c1"># Use SSL/TLS in production
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>             <span class="s">&#34;closed</span> <span class="s">site&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_cache</span>   <span class="s">1h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_request</span> <span class="s">/_jwks_uri</span><span class="p">;</span>    <span class="c1"># Keys will be fetched by subrequest
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://my_backend</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="p">=</span> <span class="s">/_jwks_uri</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">internal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_method</span>      <span class="s">GET</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_cache</span>       <span class="s">jwk</span><span class="p">;</span> <span class="c1"># Cache responses
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kn">proxy_cache_valid</span> <span class="mi">200</span> <span class="s">12h</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">https://idp.example.com/oauth2/keys</span><span class="p">;</span> <span class="c1"># Obtain keys from here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p><span id="auth_jwt_require"></span></p>
<h2 
id="arbitrary-jwt-claims-validation">Arbitrary JWT Claims Validation  <a class="headerlink float-right" href="#arbitrary-jwt-claims-validation" title="Arbitrary JWT Claims Validation"><i class="fas fa-link fa-xs"></i></a>
</h2><p>During JWT verification, NGINX Plus automatically validates only <code>nbf</code> (&ldquo;not before&rdquo;) and <code>exp</code> (&ldquo;expires&rdquo;) claims. However, in some cases you need to set more conditions for a successful JWT validation, in particular when dealing with application-specific or protocol level claims. For example, OpenID Connect Core requires validation of <code>iss</code> (&ldquo;issuer&rdquo;), <code>aud</code> (&ldquo;audience&rdquo;), <code>sub</code> (&ldquo;subject&rdquo;) claims for <code>ID</code> token.</p>
<p>Additional conditions for JWT validation can be set as variables with the <a href="https://nginx.org/en/docs/http/ngx_http_map_module.html" target="_blank" rel="noopener"><code>map</code></a> module and then evaluated with the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_require" target="_blank" rel="noopener"><code>auth_jwt_require</code></a> directive.</p>
<p>In this scenario, we are verifying that:</p>
<ul>
<li>the recipient of the token (audience) is our APIs (map rule 1)</li>
<li>the token was issued by a trusted identity provider (map rule 2)</li>
<li>scopes in APIs called on behalf of administrators (map rule 3)</li>
</ul>
<p>The values of three resulting variables are evaluated in the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_require" target="_blank" rel="noopener"><code>auth_jwt_require</code></a> directive, and if the value of each variable is <code>1</code>, the JWT will be accepted:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadfc1240&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadfc1240">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">upstream</span> <span class="s">api_server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$jwt_claim_aud</span> <span class="nv">$valid_app_id</span> <span class="p">{</span>    <span class="c1">#map rule 1:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">&#34;~api\d.example.com&#34;</span> <span class="mi">1</span><span class="p">;</span>           <span class="c1">#token issued only for target apps
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$jwt_claim_iss</span> <span class="nv">$valid_issuer</span> <span class="p">{</span>    <span class="c1">#map rule 2:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">&#34;https://idp.example.com/sts&#34;</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">#token issued by trusted CA
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$jwt_claim_scope</span> <span class="nv">$valid_scope</span> <span class="p">{</span>   <span class="c1">#map rule 3:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">&#34;access_as_admin&#34;</span> <span class="mi">1</span><span class="p">;</span>              <span class="c1">#access as admin only
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/api_secret.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_require</span>  <span class="nv">$valid_app_id</span> <span class="nv">$valid_issuer</span> <span class="nv">$valid_scope</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">upstream</span> <span class="s">api_server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$jwt_claim_aud</span> <span class="nv">$valid_app_id</span> <span class="p">{</span>    <span class="c1">#map rule 1:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">&#34;~api\d.example.com&#34;</span> <span class="mi">1</span><span class="p">;</span>           <span class="c1">#token issued only for target apps
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$jwt_claim_iss</span> <span class="nv">$valid_issuer</span> <span class="p">{</span>    <span class="c1">#map rule 2:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">&#34;https://idp.example.com/sts&#34;</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">#token issued by trusted CA
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$jwt_claim_scope</span> <span class="nv">$valid_scope</span> <span class="p">{</span>   <span class="c1">#map rule 3:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kn">&#34;access_as_admin&#34;</span> <span class="mi">1</span><span class="p">;</span>              <span class="c1">#access as admin only
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/api_secret.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_require</span>  <span class="nv">$valid_app_id</span> <span class="nv">$valid_issuer</span> <span class="nv">$valid_scope</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p>In some cases the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_require" target="_blank" rel="noopener"><code>auth_jwt_require</code></a> directive can be specified multiple times, for example, for the purpose of authentication and then for authorization. In case of an error, the <code>401</code> code will be displayed. Assigning the custom error code <code>403</code> to another <code>auth_jwt_require</code> directive makes ti possible to differentiate authentication and authorization usecases and handle corresponding failures appropriately:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fadffc778&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fadffc778">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl">    <span class="k">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/api_secret.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_require</span>  <span class="nv">$valid_app_id</span> <span class="nv">$valid_issuer</span> <span class="nv">$valid_scope</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_require</span>  <span class="nv">$valid_scope</span> <span class="s">error=403</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl">    <span class="k">location</span> <span class="s">/products/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/api_secret.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_require</span>  <span class="nv">$valid_app_id</span> <span class="nv">$valid_issuer</span> <span class="nv">$valid_scope</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_require</span>  <span class="nv">$valid_scope</span> <span class="s">error=403</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>        <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
</div><p><span id="nested"></span></p>
<h2 
id="nested-jwt-extraction">Nested JWT Extraction  <a class="headerlink float-right" href="#nested-jwt-extraction" title="Nested JWT Extraction"><i class="fas fa-link fa-xs"></i></a>
</h2><p>A Nested JWT is a JWS token enclosed into JWE. In a Nested JWT, the sensitive information from JWS is protected with extra encryption of JWE.</p>
<p>Using Nested JWT may be preferable over JWE because:</p>
<ul>
<li>
<p>in case of JWE, the target application/service needs to decrypt the token first, then verify the signature. Decrypt operation on the application side may be time and resource consuming.</p>
</li>
<li>
<p>in case of Nested JWT, as NGINX Plus resides in the same trusted network with the target application, there is no need for token encryption between NGINX Plus and the application. NGINX Plus decrypts the JWE, checks the enclosed JWS, and sends the Bearer Token to the application. This will offload JWE decryption from the application to NGINX Plus.</p>
</li>
<li>
<p>if your application doesn&rsquo;t support JWE, using Nested JWT enables full protection for JWS.</p>
</li>
</ul>
<p>To enable Nested tokens:</p>
<ol>
<li>Specify the <code>nested</code> type of JWT with the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#auth_jwt_type" target="_blank" rel="noopener"><code>auth_jwt_type</code></a> directive.</li>
</ol>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fae028698&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1fae028698">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">auth_jwt_type</span> <span class="s">nested</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">auth_jwt_type</span> <span class="s">nested</span><span class="p">;</span></span></span></code></pre></div>
</div><ol start="2">
<li>Pass the decrypted payload (the <a href="https://nginx.org/en/docs/http/ngx_http_auth_jwt_module.html#var_jwt_payload" target="_blank" rel="noopener"><code>$jwt_payload</code></a> variable) to the application as the Bearer token value in the <code>Authorization</code> header:</li>
</ol>



<div class="code-block" data-mf="true" style="display: none;">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fae057498&#34;)" class="code-copy-button" type="button">Copy</button>
        <div class="highlight-v2 single-line" id="id-18440f1fae057498">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">proxy_set_header</span> <span class="s">Authorization</span> <span class="s">&#34;Bearer</span> <span class="nv">$jwt_payload&#34;</span><span class="p">;</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">proxy_set_header</span> <span class="s">Authorization</span> <span class="s">&#34;Bearer</span> <span class="nv">$jwt_payload&#34;</span><span class="p">;</span></span></span></code></pre></div>
</div><p>This example sums up the previous steps into one configuration:</p>



<div class="code-block" data-mf="true" style="display: none;"><span class="code-type chroma">nginx</span><div class="code-container chroma">
        <button onclick="copyToClipBoard(this, &#34;id-18440f1fae0e2340&#34;)" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="highlight-v2" id="id-18440f1fae0e2340">
            <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">upstream</span> <span class="s">api_server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>     <span class="s">nested</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/api_secret.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>       <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span> <span class="s">Authorization</span> <span class="s">&#34;Bearer</span> <span class="nv">$jwt_payload&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
        </div>
    </div>
</div><div id="code-block-v1" data-mf="false">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">upstream</span> <span class="s">api_server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="mi">10</span><span class="s">.0.0.2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">http</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt</span>          <span class="s">&#34;API&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_type</span>     <span class="s">nested</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">auth_jwt_key_file</span> <span class="s">conf/api_secret.jwk</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span>       <span class="s">http://api_server</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span> <span class="s">Authorization</span> <span class="s">&#34;Bearer</span> <span class="nv">$jwt_payload&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div><p><span id="see_also"></span></p>
<h2 
id="see-also">See Also  <a class="headerlink float-right" href="#see-also" title="See Also"><i class="fas fa-link fa-xs"></i></a>
</h2><ul>
<li><a href="https://www.nginx.com/blog/authenticating-api-clients-jwt-nginx-plus/" target="_blank" rel="noopener">Authenticating API Clients with JWT and NGINX Plus</a></li>
</ul>

        
        

        <hr>
  
        
        <div class="last-modified">
          
<div>
    <a href="https://github.com/nginx/documentation//tree/main/content/nginx/admin-guide/security-controls/configuring-jwt-authentication.md" class="" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View source</a>
  </div>
  <div>
    <a href="https://github.com/nginx/documentation//edit/main/content/nginx/admin-guide/security-controls/configuring-jwt-authentication.md" class="" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  </div>
  <div>
    <a href="https://github.com/nginx/documentation//issues/new?title=Setting%20up%20JWT%20Authentication&amp;template=2-bug_report.md" class="" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create a new issue</a>
  </div>



        </div>
        

        
         
<script type='text/javascript'> 
    (function(){var g=function(e,h,f,g){ 
        this.get=function(a){
            for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){
                for(var d=c[b];" "==d.charAt(0);)
                    d=d.substring(1,d.length);
                    if(0==d.indexOf(a))
                        return d.substring(a.length,d.length)
            }
            return null
        }; 
        
        this.set=function(a,c){
            var b="",b=new Date;
            b.setTime(b.getTime()+6048E5);
            b="; expires="+b.toGMTString();
            document.cookie=a+"="+c+b+"; path=/; "
        }; 
        
        this.check=function(){
            var a=this.get(f);
            if(a)
                a=a.split(":");
            else if(100!=e)
                "v"==h&&(e=Math.random()>=e/100?0:100),
                a=[h,e,0],
                this.set(f,a.join(":"));
            else 
                return!0;
            var c=a[1];
            if(100==c)
                return!0;
            switch(a[0]){
                case "v":
                    return!1;
                case "r":
                    return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c
            }
            return!0
        }; 

        this.go=function(){
            if(this.check()){
                var a=document.createElement("script");
                a.type="text/javascript";
                a.src=g;
                document.body&&document.body.appendChild(a)
            }
        };

        this.start=function(){
            var t=this;
            "complete"!==document.readyState?window.addEventListener ?
                window.addEventListener("load",function(){t.go()},!1) : 
                window.attachEvent&&window.attachEvent("onload",function(){t.go()}):t.go()};
    }; 

    try{
        const project_id = window.location.hostname.includes("staging") ? "QSI_S_ZN_2YG73ads2zp5bN0" : "QSI_S_ZN_2QSTn2r41YlXrYk";
        const endpoint = window.location.hostname.includes("staging") ? "https://zn2yg73ads2zp5bn0-f5.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_2YG73ads2zp5bN0" : "https://zn2qstn2r41ylxryk-f5.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_2QSTn2r41YlXrYk";
        (new g(100,"r", project_id, endpoint)).start()
    }
    catch(i){}})();

    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector(".qualtrics-feedback").id = window.location.hostname.includes("staging") ? "ZN_2YG73ads2zp5bN0" : "ZN_2QSTn2r41YlXrYk"
    });
</script>
<hr>
<div style="height: 60px;"></div>
<div class="qualtrics-feedback" id='ZN_2QSTn2r41YlXrYk'></div>


        

	
<div class="container flex">
	<ul class="next-prev-icon">

		
		
		<li style="flex:1; text-align: left; white-space: nowrap;"><a href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-subrequest-authentication/" class="" title="Previous -- Authentication Based on Subrequest Result "><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M23.378 46.5L1.94 25.06C1.80067 24.9209 1.69014 24.7556 1.61472 24.5738C1.53931 24.3919 1.50049 24.1969 1.50049 24C1.50049 23.8031 1.53931 23.6081 1.61472 23.4262C1.69014 23.2444 1.80067 23.0791 1.94 22.94L23.378 1.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M45.878 46.5L24.44 25.06C24.3007 24.9209 24.1901 24.7556 24.1147 24.5738C24.0393 24.3919 24.0005 24.1969 24.0005 24C24.0005 23.8031 24.0393 23.6081 24.1147 23.4262C24.1901 23.2444 24.3007 23.0791 24.44 22.94L45.878 1.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a></li>
		

		
			<li style="flex:1; text-align: right; white-space: nowrap;"><a href="http://localhost:1313/nginx/admin-guide/security-controls/configuring-oidc/" class="" title="Next -- Single Sign-On with OpenID Connect and Identity Providers"><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.622 1.5L46.06 22.94C46.1993 23.0791 46.3099 23.2444 46.3853 23.4262C46.4607 23.6081 46.4995 23.8031 46.4995 24C46.4995 24.1969 46.4607 24.3919 46.3853 24.5738C46.3099 24.7556 46.1993 24.9209 46.06 25.06L24.622 46.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.122 1.5L23.56 22.94C23.6993 23.0791 23.8099 23.2444 23.8853 23.4262C23.9607 23.6081 23.9995 23.8031 23.9995 24C23.9995 24.1969 23.9607 24.3919 23.8853 24.5738C23.8099 24.7556 23.6993 24.9209 23.56 25.06L2.122 46.5" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a></li>
		
		</ul>
	</div>

        </main>
        
          
            <div id="toc" class="col-md-3 d-none d-xl-block d-print-none nginx-toc align-top">
            <nav class="bd-links" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <h3 class="bd-toc-link">What's on This Page</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#configuring-nginx-plus-to-authenticate-api">Configuring NGINX Plus to Authenticate API</a></li>
    <li><a href="#how-nginx-plus-validates-a-jwt">How NGINX Plus Validates a JWT</a></li>
    <li><a href="#creating-a-json-web-key-file">Creating a JSON Web Key File</a></li>
    <li><a href="#getting-jwks-from-subrequest">Getting JWKs from Subrequest</a></li>
    <li><a href="#arbitrary-jwt-claims-validation">Arbitrary JWT Claims Validation</a></li>
    <li><a href="#nested-jwt-extraction">Nested JWT Extraction</a></li>
    <li><a href="#see-also">See Also</a></li>
  </ul>
</nav>
  </div>
</nav>
            </div>
          
        
        
      </div>
    </section>
  </section>
</div>




      </div>
  </section>

    <footer id="footer">
      
      <footer id="footer">
  <div class="container-fluid">
    <div class="row align-items-center">
      <div class="col-md-6 d-md-flex">
        <img class="nginx-logo-footer" src="http://localhost:1313/images/icons/NGINX-Part-of-F5-horiz-all-white-525x208@2x.png"/>
      </div>
    </div>

    
    <div class="row d-print-none d-none d-md-flex">
      <div class="col-md-3 d-none d-md-block">
        <span class="footer-head">Company</span>
        <ul class="footer-text">
          <li>
            <a
              href="https://www.f5.com/go/product/welcome-to-nginx"
              target="_blank"
              alt="Select to learn about F5 NGINX"
              >About F5 NGINX</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/company/events"
              target="_blank"
              alt="Select to learn about F5 events"
              >Events</a
            >
          </li>
        </ul>
        <br />
        <span class="footer-head">Resources</span>
        <ul class="footer-text">
          <li>
            <a
              href="https://www.f5.com/company/blog/nginx"
              target="_blank"
              alt="Select to visit the F5 NGINX blog"
              >Blog</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/go/faq/nginx-faq"
              target="_blank"
              alt="Select to visit the F5 NGINX frequently asked questions page"
              >FAQ</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/services"
              target="_blank"
              alt="Select to learn about F5 NGINX Support"
              >Professional Services</a
            >
          </li>
          <li>
            <a
              href="https://www.f5.com/learn/training"
              target="_blank"
              alt="Select to learn about F5 training offerings"
              >Training</a
            >
          </li>
        </ul>
      </div>

      <div class="col-md-3 d-none d-md-block">
        <span class="footer-head">Products</span>
        <ul class="footer-text">
          <li>
            <a
              title="F5 NGINX One"
              aria-label="F5 NGINX One"
              href="https://www.f5.com/products/nginx/one"
              >F5 NGINX One</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Plus"
              aria-label="F5 NGINX Plus"
              href="https://www.f5.com/products/nginx/nginx-plus"
              >F5 NGINX Plus</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX App Protect"
              aria-label="F5 NGINX App Protect"
              href="https://www.f5.com/products/nginx/nginx-app-protect"
              >F5 NGINX App Protect</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Instance Manager"
              aria-label="F5 NGINX Instance Manager"
              href="https://www.f5.com/products/nginx/instance-manager"
              >F5 NGINX Instance Manager</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Ingress Controller"
              aria-label="F5 NGINX Ingress Controller"
              href="https://www.f5.com/products/nginx/nginx-ingress-controller"
              >F5 NGINX Ingress Controller</a
            >
          </li>
          <li>
            <a
              title="F5 NGINX Gateway Fabric"
              aria-label="F5 NGINX Gateway Fabric"
              href="https://www.f5.com/products/nginx/nginx-gateway-fabric"
              >F5 NGINX Gateway Fabric</a
            >
          </li>
          <li>
            <a
              title="F5 NGINXaaS for Azure"
              aria-label="F5 NGINXaaS for Azure"
              href="https://www.f5.com/products/nginx/f5-nginxaas-for-azure"
              >F5 NGINXaaS for Azure</a
            >
          </li>
        </ul>
      </div>

      <div class="col-md-3 d-none d-md-block">
        <span class="footer-head">NGINX on GitHub</span>
        <ul class="footer-text">
          <li>
            <a
              title="NGINX Open Source"
              aria-label="NGINX Open Source"
              href="https://github.com/nginx/nginx"
              ><span class="inner">NGINX Open Source</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Unit"
              aria-label="NGINX Unit"
              href="https://github.com/nginx/unit"
              ><span class="inner">NGINX Unit</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Amplify"
              aria-label="NGINX Amplify"
              href="https://github.com/nginxinc/nginx-amplify-agent"
              ><span class="inner">NGINX Amplify</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Agent"
              aria-label="NGINX Agent"
              href="https://github.com/nginx/Agent"
              ><span class="inner">NGINX Agent</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Kubernetes Ingress Controller"
              aria-label="NGINX Kubernetes Ingress Controller"
              href="https://github.com/nginxinc/kubernetes-ingress"
              ><span class="inner">NGINX Kubernetes Ingress Controller</span></a
            >
          </li>
          <li>
            <a
              title="NGINX Gateway Fabric"
              aria-label="NGINX Gateway Fabric"
              href="https://github.com/nginxinc/nginx-gateway-fabric"
              ><span class="inner">NGINX Gateway Fabric</span></a
            >
          </li>
        </ul>
      </div>

      <div class="col-md-2 d-none d-md-block">
        <span class="footer-head">Social</span>
        <ul class="footer-social">
          <li>
            <a
              href="https://www.facebook.com/nginxinc"
              title="facebook"
              aria-label="facebook"
              target="_blank"
              rel="noreferrer"
              ><i class="fa-brands fa-facebook" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a
              href="https://twitter.com/nginx"
              title="X"
              aria-label="x"
              target="_blank"
              rel="noreferrer"
              ><i class="fa-brands fa-x-twitter" aria-hidden="true"></i
            ></a>
          </li>
          <li>
            <a
              href="https://www.linkedin.com/company/nginx"
              title="linkedin"
              aria-label="linkedin"
              target="_blank"
              rel="noreferrer"
              ><i class="fa-brands fa-linkedin" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a
              href="https://www.youtube.com/user/NginxInc"
              title="youtube"
              aria-label="youtube"
              target="_blank"
              rel="noreferrer"
              alt="NGINX Youtube Channel"
              ><i class="fa-brands fa-square-youtube" aria-hidden="true"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="site-info footer-text">
      <div class="text-center">
        <p>
          <a href="https://www.f5.com/"
            ><img class="f5-logo-footer" src="http://localhost:1313/images/icons/Logo_F5.svg" alt="F5 logo"></a
          >
          ©2025 F5, Inc. All rights reserved.
        </p>
        <p>
          <a
            href="https://www.f5.com/company/policies/trademarks"
            rel="noopener"
            target="_blank"
            >Trademarks</a
          >
          <a
            href="https://www.f5.com/company/policies"
            rel="noopener"
            target="_blank"
            >Policies</a
          >
          <a href="https://docs.nginx.com/ossc">Open Source Components</a>
          <a
            href="https://www.f5.com/company/policies/privacy-notice"
            rel="noopener"
            target="_blank"
            >Privacy</a
          >
          <a
            href="https://www.f5.com/company/policies/F5-California-privacy-summary"
            rel="noopener"
            target="_blank"
            >California Privacy</a
          >
          <a
            href="https://www.f5.com/company/policies/privacy-notice#no-sell"
            rel="noopener"
            target="_blank"
            >Do Not Sell My Personal Information</a
          >
          <span id="teconsent-v1"></span>
        </p>
      </div>
    </div>
    
  </div>
  
</footer>

      
    </footer>

    <footer data-mf="true" id="footer-v2" style="display:none;">
      
      <div class="footer-layout">
    <div class="footer-f5-trademark">
        <img class="f5-logo-footer" src="http://localhost:1313/images/icons/Logo_F5.svg" alt="F5 logo">
        <p>©2025 F5, Inc. All rights reserved. NGINX is a registered trademark of F5, Inc.</p>
    </div>
    <div class="footer-useful-links">
        <a
            href="https://www.f5.com/company/policies/trademarks"
            rel="noopener"
            target="_blank"
            >Trademarks
        </a>
        <a
            href="https://www.f5.com/company/policies"
            rel="noopener"
            target="_blank"
            >Policies
        </a>
        <a
            href="https://www.f5.com/company/policies/privacy-notice"
            rel="noopener"
            target="_blank"
            >Privacy
        </a>
        <a
            href="https://www.f5.com/company/policies/F5-California-privacy-summary"
            rel="noopener"
            target="_blank"
            >California Privacy
        </a>
        <a
            href="https://www.f5.com/company/policies/privacy-notice#no-sell"
            rel="noopener"
            target="_blank"
            >Do Not Sell My Personal Information
        </a>
        <span id="teconsent-v2"></span>
    </div>
</div>

      
    </footer>
  
<script src="/js/jquery-3-6-4.min.js" type="text/javascript" integrity=""></script>


<script src="/js/kube.min.a3a07cceb64989e2f0bf41653ab4d8346ba4312270eb5cc80d6afad3bf30a0ca9768aaa2559cb582e663332c541edab6a4068ef2e88b739fa425e2e870eb0aff.js" type="text/javascript" integrity="sha512-o6B8zrZJieLwv0FlOrTYNGukMSJw61zIDWr6078woMqXaKqiVZy1guZjMyxUHtq2pAaO8uiLc5&#43;kJeLocOsK/w=="></script>



<script src="/js/bootstrap.bundle.min.c15ed88f56a52190ea645094409cbce5537eaaf108972f777c840037b8aa0c508f12e70b09e345cf8af7e450a8f6ce96ae974340f8bcd316e58d707c063b6f72.js" type="text/javascript"
  integrity="sha512-wV7Yj1alIZDqZFCUQJy85VN&#43;qvEIly93fIQAN7iqDFCPEucLCeNFz4r35FCo9s6WrpdDQPi80xbljXB8Bjtvcg=="></script>



<script src="/js/code-copy.bb21b72280613039f1fabb11acc6a901c07caaee454933031066fbda6b5406fd31077a80ec913ba32261224d138bcbb4a34d27c51efae571c68d59282943b9a4.js" type="text/javascript"></script>



<script src="/js/code-copy-v2.71bcaee23ab00cb45dc944f321264e21d25bc1ec1ae76f9596286cb408ea5654b4ee016e7914cc2554b237114eeb467d39df18735311f2d28480b3ccd2feb4ad.js" type="text/javascript"></script>





<script
  type="module"
  src="https://static.cloud.coveo.com/atomic/v3.19.0/atomic.esm.js"
  integrity="sha512-VA9k6iDWhwxl8bwKUYPD63l93lGX7daV60k3yFxEt9EuEq4iWvsu5COq1mZ8OXKl0KCOFlUSDXS32Cy+YwbufQ=="
  crossorigin="anonymous">
</script>


<script class="coveo-script" src="https://static.cloud.coveo.com/searchui/v2.10104/0/js/CoveoJsSearch.Lazy.min.js"
  integrity="sha512-HxdDBIp5snbqtu1TPkBnXLKEvN9IPz3PeZW8zT9KfsflV9Ck822XDroDlpVbfCfXeiu8C0RDVn0fdu7aGy/H1g=="
  crossorigin="anonymous"></script>

<script src="https://static.cloud.coveo.com/searchui/v2.10104/0/js/templates/templates.js"
  integrity="sha512-CR0Yk/LIwgh1MsKqjecDp/r6F9ipKc6gA+4+E1pplT3N3r1pk+la/HaqyDiKtjOFwrwIIbIYBFrUJgPql93QHw=="
  crossorigin="anonymous"></script>






<script src="/js/coveo.min.4acfd205930e2d31230100f345e0463332eb3e3af1b4aa9a6e3131b0b2bac53566ae4d18b390066fce94c0c75d39b5e121d1291f81e5accc1a82d93da9f11b7f.js" integrity="sha512-Ss/SBZMOLTEjAQDzReBGMzLrPjrxtKqabjExsLK6xTVmrk0Ys5AGb86UwMddObXhIdEpH4HlrMwagtk9qfEbfw=="
  type="text/javascript"></script>


















<script src="/js/sidebar.min.6fed0180a23d01103c68ffb054a183fba5e7ba673de8c56d85857af964dcc0c11623ee09f6185207a373127cb2547ff9247ae3516ed47c67e1b58dbe71e9d576.js" type="text/javascript" integrity="sha512-b&#43;0BgKI9ARA8aP&#43;wVKGD&#43;6Xnumc96MVthYV6&#43;WTcwMEWI&#43;4J9hhSB6NzEnyyVH/5JHrjUW7UfGfhtY2&#43;cenVdg=="></script>
  


<script src="/js/site-dropdown.min.3bb49b6f7d25bcd4a2b008525bb8538d84237348bf618b40970ff6eca87119d68c326ca7ba04854ad102be36495fe1d70f1cb239916555b67dd17683dc283333.js" type="text/javascript" integrity="sha512-O7Sbb30lvNSisAhSW7hTjYQjc0i/YYtAlw/27KhxGdaMMmynugSFStECvjZJX&#43;HXDxyyOZFlVbZ90XaD3CgzMw=="></script>



<script src="/js/product-selector.min.b588249327fb12c7602fa08eb618560171f54e7348d6c1bacfdbf541f5e13023493f64f78fb6d4b9014892e5e4f0aaaee95b859bb37aa53bbe8c0e27e65167d1.js" type="text/javascript" integrity="sha512-tYgkkyf7EsdgL6COthhWAXH1TnNI1sG6z9v1QfXhMCNJP2T3j7bUuQFIkuXk8Kqu6VuFm7N6pTu&#43;jA4n5lFn0Q=="></script>



<script src="/js/sidebar-v2.min.3f906631e696b2c88883bfcfc62371165359130cfd118ceb49893ae0d8760dc38177ee3bb94a61dee45023115de8445f0b9fe48f933618ef7ba7b3180a05adbd.js" type="text/javascript" integrity="sha512-P5BmMeaWssiIg7/PxiNxFlNZEwz9EYzrSYk64Nh2DcOBd&#43;47uUph3uRQIxFd6ERfC5/kj5M2GO97p7MYCgWtvQ=="></script> 
  <div id="consent_blackbar"></div>
</body>
</html>


